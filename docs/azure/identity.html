<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.4"/>
    <title>azure.identity API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.tip{color:#0a3622;background-color:#d1e7dd;border-color:#a3cfbb;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%230a3622%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%206a6%206%200%201%201%2010.174%204.31c-.203.196-.359.4-.453.619l-.762%201.769A.5.5%200%200%201%2010.5%2013a.5.5%200%200%201%200%201%20.5.5%200%200%201%200%201l-.224.447a1%201%200%200%201-.894.553H6.618a1%201%200%200%201-.894-.553L5.5%2015a.5.5%200%200%201%200-1%20.5.5%200%200%201%200-1%20.5.5%200%200%201-.46-.302l-.761-1.77a2%202%200%200%200-.453-.618A5.98%205.98%200%200%201%202%206m6-5a5%205%200%200%200-3.479%208.592c.263.254.514.564.676.941L5.83%2012h4.342l.632-1.467c.162-.377.413-.687.676-.941A5%205%200%200%200%208%201%22/%3E%3C/svg%3E");}.pdoc .alert.important{color:#055160;background-color:#cff4fc;border-color:#9eeaf9;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23055160%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%200a2%202%200%200%200-2%202v12a2%202%200%200%200%202%202h12a2%202%200%200%200%202-2V2a2%202%200%200%200-2-2zm6%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.caution{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M11.46.146A.5.5%200%200%200%2011.107%200H4.893a.5.5%200%200%200-.353.146L.146%204.54A.5.5%200%200%200%200%204.893v6.214a.5.5%200%200%200%20.146.353l4.394%204.394a.5.5%200%200%200%20.353.146h6.214a.5.5%200%200%200%20.353-.146l4.394-4.394a.5.5%200%200%200%20.146-.353V4.893a.5.5%200%200%200-.146-.353zM8%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../azure.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;azure</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#AuthenticationRecord">AuthenticationRecord</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AuthenticationRecord.__init__">AuthenticationRecord</a>
                        </li>
                        <li>
                                <a class="variable" href="#AuthenticationRecord.authority">authority</a>
                        </li>
                        <li>
                                <a class="variable" href="#AuthenticationRecord.client_id">client_id</a>
                        </li>
                        <li>
                                <a class="variable" href="#AuthenticationRecord.home_account_id">home_account_id</a>
                        </li>
                        <li>
                                <a class="variable" href="#AuthenticationRecord.tenant_id">tenant_id</a>
                        </li>
                        <li>
                                <a class="variable" href="#AuthenticationRecord.username">username</a>
                        </li>
                        <li>
                                <a class="function" href="#AuthenticationRecord.deserialize">deserialize</a>
                        </li>
                        <li>
                                <a class="function" href="#AuthenticationRecord.serialize">serialize</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AuthenticationRequiredError">AuthenticationRequiredError</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AuthenticationRequiredError.__init__">AuthenticationRequiredError</a>
                        </li>
                        <li>
                                <a class="variable" href="#AuthenticationRequiredError.scopes">scopes</a>
                        </li>
                        <li>
                                <a class="variable" href="#AuthenticationRequiredError.claims">claims</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AuthorizationCodeCredential">AuthorizationCodeCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AuthorizationCodeCredential.__init__">AuthorizationCodeCredential</a>
                        </li>
                        <li>
                                <a class="function" href="#AuthorizationCodeCredential.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#AuthorizationCodeCredential.get_token">get_token</a>
                        </li>
                        <li>
                                <a class="function" href="#AuthorizationCodeCredential.get_token_info">get_token_info</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AzureAuthorityHosts">AzureAuthorityHosts</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#AzureAuthorityHosts.AZURE_CHINA">AZURE_CHINA</a>
                        </li>
                        <li>
                                <a class="variable" href="#AzureAuthorityHosts.AZURE_GOVERNMENT">AZURE_GOVERNMENT</a>
                        </li>
                        <li>
                                <a class="variable" href="#AzureAuthorityHosts.AZURE_PUBLIC_CLOUD">AZURE_PUBLIC_CLOUD</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AzureCliCredential">AzureCliCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AzureCliCredential.__init__">AzureCliCredential</a>
                        </li>
                        <li>
                                <a class="variable" href="#AzureCliCredential.tenant_id">tenant_id</a>
                        </li>
                        <li>
                                <a class="variable" href="#AzureCliCredential.subscription">subscription</a>
                        </li>
                        <li>
                                <a class="function" href="#AzureCliCredential.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#AzureCliCredential.get_token">get_token</a>
                        </li>
                        <li>
                                <a class="function" href="#AzureCliCredential.get_token_info">get_token_info</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AzureDeveloperCliCredential">AzureDeveloperCliCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AzureDeveloperCliCredential.__init__">AzureDeveloperCliCredential</a>
                        </li>
                        <li>
                                <a class="variable" href="#AzureDeveloperCliCredential.tenant_id">tenant_id</a>
                        </li>
                        <li>
                                <a class="function" href="#AzureDeveloperCliCredential.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#AzureDeveloperCliCredential.get_token">get_token</a>
                        </li>
                        <li>
                                <a class="function" href="#AzureDeveloperCliCredential.get_token_info">get_token_info</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AzurePipelinesCredential">AzurePipelinesCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AzurePipelinesCredential.__init__">AzurePipelinesCredential</a>
                        </li>
                        <li>
                                <a class="function" href="#AzurePipelinesCredential.get_token">get_token</a>
                        </li>
                        <li>
                                <a class="function" href="#AzurePipelinesCredential.get_token_info">get_token_info</a>
                        </li>
                        <li>
                                <a class="function" href="#AzurePipelinesCredential.close">close</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AzurePowerShellCredential">AzurePowerShellCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AzurePowerShellCredential.__init__">AzurePowerShellCredential</a>
                        </li>
                        <li>
                                <a class="variable" href="#AzurePowerShellCredential.tenant_id">tenant_id</a>
                        </li>
                        <li>
                                <a class="function" href="#AzurePowerShellCredential.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#AzurePowerShellCredential.get_token">get_token</a>
                        </li>
                        <li>
                                <a class="function" href="#AzurePowerShellCredential.get_token_info">get_token_info</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#CertificateCredential">CertificateCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#CertificateCredential.__init__">CertificateCredential</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ChainedTokenCredential">ChainedTokenCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ChainedTokenCredential.__init__">ChainedTokenCredential</a>
                        </li>
                        <li>
                                <a class="variable" href="#ChainedTokenCredential.credentials">credentials</a>
                        </li>
                        <li>
                                <a class="function" href="#ChainedTokenCredential.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#ChainedTokenCredential.get_token">get_token</a>
                        </li>
                        <li>
                                <a class="function" href="#ChainedTokenCredential.get_token_info">get_token_info</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ClientAssertionCredential">ClientAssertionCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ClientAssertionCredential.__init__">ClientAssertionCredential</a>
                        </li>
                        <li>
                                <a class="function" href="#ClientAssertionCredential.close">close</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ClientSecretCredential">ClientSecretCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ClientSecretCredential.__init__">ClientSecretCredential</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#CredentialUnavailableError">CredentialUnavailableError</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#DefaultAzureCredential">DefaultAzureCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DefaultAzureCredential.__init__">DefaultAzureCredential</a>
                        </li>
                        <li>
                                <a class="function" href="#DefaultAzureCredential.get_token">get_token</a>
                        </li>
                        <li>
                                <a class="function" href="#DefaultAzureCredential.get_token_info">get_token_info</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DeviceCodeCredential">DeviceCodeCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DeviceCodeCredential.__init__">DeviceCodeCredential</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#EnvironmentCredential">EnvironmentCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#EnvironmentCredential.__init__">EnvironmentCredential</a>
                        </li>
                        <li>
                                <a class="function" href="#EnvironmentCredential.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#EnvironmentCredential.get_token">get_token</a>
                        </li>
                        <li>
                                <a class="function" href="#EnvironmentCredential.get_token_info">get_token_info</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#InteractiveBrowserCredential">InteractiveBrowserCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#InteractiveBrowserCredential.__init__">InteractiveBrowserCredential</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#KnownAuthorities">KnownAuthorities</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#OnBehalfOfCredential">OnBehalfOfCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#OnBehalfOfCredential.__init__">OnBehalfOfCredential</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ManagedIdentityCredential">ManagedIdentityCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ManagedIdentityCredential.__init__">ManagedIdentityCredential</a>
                        </li>
                        <li>
                                <a class="function" href="#ManagedIdentityCredential.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#ManagedIdentityCredential.get_token">get_token</a>
                        </li>
                        <li>
                                <a class="function" href="#ManagedIdentityCredential.get_token_info">get_token_info</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#SharedTokenCacheCredential">SharedTokenCacheCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SharedTokenCacheCredential.__init__">SharedTokenCacheCredential</a>
                        </li>
                        <li>
                                <a class="function" href="#SharedTokenCacheCredential.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#SharedTokenCacheCredential.get_token">get_token</a>
                        </li>
                        <li>
                                <a class="function" href="#SharedTokenCacheCredential.get_token_info">get_token_info</a>
                        </li>
                        <li>
                                <a class="function" href="#SharedTokenCacheCredential.supported">supported</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#TokenCachePersistenceOptions">TokenCachePersistenceOptions</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#TokenCachePersistenceOptions.__init__">TokenCachePersistenceOptions</a>
                        </li>
                        <li>
                                <a class="variable" href="#TokenCachePersistenceOptions.allow_unencrypted_storage">allow_unencrypted_storage</a>
                        </li>
                        <li>
                                <a class="variable" href="#TokenCachePersistenceOptions.name">name</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#UsernamePasswordCredential">UsernamePasswordCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#UsernamePasswordCredential.__init__">UsernamePasswordCredential</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#VisualStudioCodeCredential">VisualStudioCodeCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#VisualStudioCodeCredential.__init__">VisualStudioCodeCredential</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualStudioCodeCredential.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualStudioCodeCredential.get_token">get_token</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualStudioCodeCredential.get_token_info">get_token_info</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#WorkloadIdentityCredential">WorkloadIdentityCredential</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#WorkloadIdentityCredential.__init__">WorkloadIdentityCredential</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#get_bearer_token_provider">get_bearer_token_provider</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../azure.html">azure</a><wbr>.identity    </h1>

                        <div class="docstring"><p>Credentials for Azure SDK clients.</p>
</div>

                        <input id="mod-identity-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-identity-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos"> 1</span></a><span class="c1"># ------------------------------------</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos"> 2</span></a><span class="c1"># Copyright (c) Microsoft Corporation.</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos"> 3</span></a><span class="c1"># Licensed under the MIT License.</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos"> 4</span></a><span class="c1"># ------------------------------------</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos"> 5</span></a><span class="sd">&quot;&quot;&quot;Credentials for Azure SDK clients.&quot;&quot;&quot;</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos"> 6</span></a>
</span><span id="L-7"><a href="#L-7"><span class="linenos"> 7</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">._auth_record</span><span class="w"> </span><span class="kn">import</span> <span class="n">AuthenticationRecord</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos"> 8</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">._exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">AuthenticationRequiredError</span><span class="p">,</span> <span class="n">CredentialUnavailableError</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos"> 9</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">._constants</span><span class="w"> </span><span class="kn">import</span> <span class="n">AzureAuthorityHosts</span><span class="p">,</span> <span class="n">KnownAuthorities</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">10</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">._credentials</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">11</span></a>    <span class="n">AuthorizationCodeCredential</span><span class="p">,</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">12</span></a>    <span class="n">AzureDeveloperCliCredential</span><span class="p">,</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">13</span></a>    <span class="n">AzureCliCredential</span><span class="p">,</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">14</span></a>    <span class="n">AzurePowerShellCredential</span><span class="p">,</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">15</span></a>    <span class="n">CertificateCredential</span><span class="p">,</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">16</span></a>    <span class="n">ChainedTokenCredential</span><span class="p">,</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">17</span></a>    <span class="n">ClientAssertionCredential</span><span class="p">,</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">18</span></a>    <span class="n">ClientSecretCredential</span><span class="p">,</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">19</span></a>    <span class="n">DefaultAzureCredential</span><span class="p">,</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">20</span></a>    <span class="n">DeviceCodeCredential</span><span class="p">,</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">21</span></a>    <span class="n">EnvironmentCredential</span><span class="p">,</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">22</span></a>    <span class="n">InteractiveBrowserCredential</span><span class="p">,</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">23</span></a>    <span class="n">ManagedIdentityCredential</span><span class="p">,</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">24</span></a>    <span class="n">OnBehalfOfCredential</span><span class="p">,</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">25</span></a>    <span class="n">SharedTokenCacheCredential</span><span class="p">,</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">26</span></a>    <span class="n">UsernamePasswordCredential</span><span class="p">,</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos">27</span></a>    <span class="n">VisualStudioCodeCredential</span><span class="p">,</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos">28</span></a>    <span class="n">WorkloadIdentityCredential</span><span class="p">,</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">29</span></a>    <span class="n">AzurePipelinesCredential</span><span class="p">,</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">30</span></a><span class="p">)</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">31</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">._persistent_cache</span><span class="w"> </span><span class="kn">import</span> <span class="n">TokenCachePersistenceOptions</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos">32</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">._bearer_token_provider</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_bearer_token_provider</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos">33</span></a>
</span><span id="L-34"><a href="#L-34"><span class="linenos">34</span></a>
</span><span id="L-35"><a href="#L-35"><span class="linenos">35</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos">36</span></a>    <span class="s2">&quot;AuthenticationRecord&quot;</span><span class="p">,</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">37</span></a>    <span class="s2">&quot;AuthenticationRequiredError&quot;</span><span class="p">,</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">38</span></a>    <span class="s2">&quot;AuthorizationCodeCredential&quot;</span><span class="p">,</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">39</span></a>    <span class="s2">&quot;AzureAuthorityHosts&quot;</span><span class="p">,</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">40</span></a>    <span class="s2">&quot;AzureCliCredential&quot;</span><span class="p">,</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">41</span></a>    <span class="s2">&quot;AzureDeveloperCliCredential&quot;</span><span class="p">,</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos">42</span></a>    <span class="s2">&quot;AzurePipelinesCredential&quot;</span><span class="p">,</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos">43</span></a>    <span class="s2">&quot;AzurePowerShellCredential&quot;</span><span class="p">,</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos">44</span></a>    <span class="s2">&quot;CertificateCredential&quot;</span><span class="p">,</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos">45</span></a>    <span class="s2">&quot;ChainedTokenCredential&quot;</span><span class="p">,</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos">46</span></a>    <span class="s2">&quot;ClientAssertionCredential&quot;</span><span class="p">,</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos">47</span></a>    <span class="s2">&quot;ClientSecretCredential&quot;</span><span class="p">,</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos">48</span></a>    <span class="s2">&quot;CredentialUnavailableError&quot;</span><span class="p">,</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos">49</span></a>    <span class="s2">&quot;DefaultAzureCredential&quot;</span><span class="p">,</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos">50</span></a>    <span class="s2">&quot;DeviceCodeCredential&quot;</span><span class="p">,</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos">51</span></a>    <span class="s2">&quot;EnvironmentCredential&quot;</span><span class="p">,</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos">52</span></a>    <span class="s2">&quot;InteractiveBrowserCredential&quot;</span><span class="p">,</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos">53</span></a>    <span class="s2">&quot;KnownAuthorities&quot;</span><span class="p">,</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos">54</span></a>    <span class="s2">&quot;OnBehalfOfCredential&quot;</span><span class="p">,</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos">55</span></a>    <span class="s2">&quot;ManagedIdentityCredential&quot;</span><span class="p">,</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos">56</span></a>    <span class="s2">&quot;SharedTokenCacheCredential&quot;</span><span class="p">,</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos">57</span></a>    <span class="s2">&quot;TokenCachePersistenceOptions&quot;</span><span class="p">,</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos">58</span></a>    <span class="s2">&quot;UsernamePasswordCredential&quot;</span><span class="p">,</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos">59</span></a>    <span class="s2">&quot;VisualStudioCodeCredential&quot;</span><span class="p">,</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos">60</span></a>    <span class="s2">&quot;WorkloadIdentityCredential&quot;</span><span class="p">,</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos">61</span></a>    <span class="s2">&quot;get_bearer_token_provider&quot;</span><span class="p">,</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos">62</span></a><span class="p">]</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos">63</span></a>
</span><span id="L-64"><a href="#L-64"><span class="linenos">64</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">._version</span><span class="w"> </span><span class="kn">import</span> <span class="n">VERSION</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos">65</span></a>
</span><span id="L-66"><a href="#L-66"><span class="linenos">66</span></a><span class="n">__version__</span> <span class="o">=</span> <span class="n">VERSION</span>
</span></pre></div>


            </section>
                <section id="AuthenticationRecord">
                            <input id="AuthenticationRecord-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">AuthenticationRecord</span>:

                <label class="view-source-button" for="AuthenticationRecord-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AuthenticationRecord"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AuthenticationRecord-12"><a href="#AuthenticationRecord-12"><span class="linenos"> 12</span></a><span class="k">class</span><span class="w"> </span><span class="nc">AuthenticationRecord</span><span class="p">:</span>
</span><span id="AuthenticationRecord-13"><a href="#AuthenticationRecord-13"><span class="linenos"> 13</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Non-secret account information for an authenticated user</span>
</span><span id="AuthenticationRecord-14"><a href="#AuthenticationRecord-14"><span class="linenos"> 14</span></a>
</span><span id="AuthenticationRecord-15"><a href="#AuthenticationRecord-15"><span class="linenos"> 15</span></a><span class="sd">    This class enables :class:`DeviceCodeCredential` and :class:`InteractiveBrowserCredential` to access</span>
</span><span id="AuthenticationRecord-16"><a href="#AuthenticationRecord-16"><span class="linenos"> 16</span></a><span class="sd">    previously cached authentication data. Applications shouldn&#39;t construct instances of this class. They should</span>
</span><span id="AuthenticationRecord-17"><a href="#AuthenticationRecord-17"><span class="linenos"> 17</span></a><span class="sd">    instead acquire one from a credential&#39;s **authenticate** method, such as</span>
</span><span id="AuthenticationRecord-18"><a href="#AuthenticationRecord-18"><span class="linenos"> 18</span></a><span class="sd">    :func:`InteractiveBrowserCredential.authenticate`. See the user_authentication sample for more details.</span>
</span><span id="AuthenticationRecord-19"><a href="#AuthenticationRecord-19"><span class="linenos"> 19</span></a>
</span><span id="AuthenticationRecord-20"><a href="#AuthenticationRecord-20"><span class="linenos"> 20</span></a><span class="sd">    :param str tenant_id: The tenant the account should authenticate in.</span>
</span><span id="AuthenticationRecord-21"><a href="#AuthenticationRecord-21"><span class="linenos"> 21</span></a><span class="sd">    :param str client_id: The client ID of the application which performed the original authentication.</span>
</span><span id="AuthenticationRecord-22"><a href="#AuthenticationRecord-22"><span class="linenos"> 22</span></a><span class="sd">    :param str authority: The authority host used to authenticate the account.</span>
</span><span id="AuthenticationRecord-23"><a href="#AuthenticationRecord-23"><span class="linenos"> 23</span></a><span class="sd">    :param str home_account_id: A unique identifier of the account.</span>
</span><span id="AuthenticationRecord-24"><a href="#AuthenticationRecord-24"><span class="linenos"> 24</span></a><span class="sd">    :param str username: The user principal or service principal name of the account.</span>
</span><span id="AuthenticationRecord-25"><a href="#AuthenticationRecord-25"><span class="linenos"> 25</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="AuthenticationRecord-26"><a href="#AuthenticationRecord-26"><span class="linenos"> 26</span></a>
</span><span id="AuthenticationRecord-27"><a href="#AuthenticationRecord-27"><span class="linenos"> 27</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">authority</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">home_account_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AuthenticationRecord-28"><a href="#AuthenticationRecord-28"><span class="linenos"> 28</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_authority</span> <span class="o">=</span> <span class="n">authority</span>
</span><span id="AuthenticationRecord-29"><a href="#AuthenticationRecord-29"><span class="linenos"> 29</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span> <span class="o">=</span> <span class="n">client_id</span>
</span><span id="AuthenticationRecord-30"><a href="#AuthenticationRecord-30"><span class="linenos"> 30</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_home_account_id</span> <span class="o">=</span> <span class="n">home_account_id</span>
</span><span id="AuthenticationRecord-31"><a href="#AuthenticationRecord-31"><span class="linenos"> 31</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_tenant_id</span> <span class="o">=</span> <span class="n">tenant_id</span>
</span><span id="AuthenticationRecord-32"><a href="#AuthenticationRecord-32"><span class="linenos"> 32</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_username</span> <span class="o">=</span> <span class="n">username</span>
</span><span id="AuthenticationRecord-33"><a href="#AuthenticationRecord-33"><span class="linenos"> 33</span></a>
</span><span id="AuthenticationRecord-34"><a href="#AuthenticationRecord-34"><span class="linenos"> 34</span></a>    <span class="nd">@property</span>
</span><span id="AuthenticationRecord-35"><a href="#AuthenticationRecord-35"><span class="linenos"> 35</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">authority</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="AuthenticationRecord-36"><a href="#AuthenticationRecord-36"><span class="linenos"> 36</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The authority host used to authenticate the account.</span>
</span><span id="AuthenticationRecord-37"><a href="#AuthenticationRecord-37"><span class="linenos"> 37</span></a>
</span><span id="AuthenticationRecord-38"><a href="#AuthenticationRecord-38"><span class="linenos"> 38</span></a><span class="sd">        :return: The authority host used to authenticate the account.</span>
</span><span id="AuthenticationRecord-39"><a href="#AuthenticationRecord-39"><span class="linenos"> 39</span></a><span class="sd">        :rtype: str</span>
</span><span id="AuthenticationRecord-40"><a href="#AuthenticationRecord-40"><span class="linenos"> 40</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthenticationRecord-41"><a href="#AuthenticationRecord-41"><span class="linenos"> 41</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_authority</span>
</span><span id="AuthenticationRecord-42"><a href="#AuthenticationRecord-42"><span class="linenos"> 42</span></a>
</span><span id="AuthenticationRecord-43"><a href="#AuthenticationRecord-43"><span class="linenos"> 43</span></a>    <span class="nd">@property</span>
</span><span id="AuthenticationRecord-44"><a href="#AuthenticationRecord-44"><span class="linenos"> 44</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">client_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="AuthenticationRecord-45"><a href="#AuthenticationRecord-45"><span class="linenos"> 45</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The client ID of the application which performed the original authentication.</span>
</span><span id="AuthenticationRecord-46"><a href="#AuthenticationRecord-46"><span class="linenos"> 46</span></a>
</span><span id="AuthenticationRecord-47"><a href="#AuthenticationRecord-47"><span class="linenos"> 47</span></a><span class="sd">        :return: The client ID of the application which performed the original authentication.</span>
</span><span id="AuthenticationRecord-48"><a href="#AuthenticationRecord-48"><span class="linenos"> 48</span></a><span class="sd">        :rtype: str</span>
</span><span id="AuthenticationRecord-49"><a href="#AuthenticationRecord-49"><span class="linenos"> 49</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthenticationRecord-50"><a href="#AuthenticationRecord-50"><span class="linenos"> 50</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span>
</span><span id="AuthenticationRecord-51"><a href="#AuthenticationRecord-51"><span class="linenos"> 51</span></a>
</span><span id="AuthenticationRecord-52"><a href="#AuthenticationRecord-52"><span class="linenos"> 52</span></a>    <span class="nd">@property</span>
</span><span id="AuthenticationRecord-53"><a href="#AuthenticationRecord-53"><span class="linenos"> 53</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">home_account_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="AuthenticationRecord-54"><a href="#AuthenticationRecord-54"><span class="linenos"> 54</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;A unique identifier of the account.</span>
</span><span id="AuthenticationRecord-55"><a href="#AuthenticationRecord-55"><span class="linenos"> 55</span></a>
</span><span id="AuthenticationRecord-56"><a href="#AuthenticationRecord-56"><span class="linenos"> 56</span></a><span class="sd">        :return: A unique identifier of the account.</span>
</span><span id="AuthenticationRecord-57"><a href="#AuthenticationRecord-57"><span class="linenos"> 57</span></a><span class="sd">        :rtype: str</span>
</span><span id="AuthenticationRecord-58"><a href="#AuthenticationRecord-58"><span class="linenos"> 58</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthenticationRecord-59"><a href="#AuthenticationRecord-59"><span class="linenos"> 59</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_home_account_id</span>
</span><span id="AuthenticationRecord-60"><a href="#AuthenticationRecord-60"><span class="linenos"> 60</span></a>
</span><span id="AuthenticationRecord-61"><a href="#AuthenticationRecord-61"><span class="linenos"> 61</span></a>    <span class="nd">@property</span>
</span><span id="AuthenticationRecord-62"><a href="#AuthenticationRecord-62"><span class="linenos"> 62</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">tenant_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="AuthenticationRecord-63"><a href="#AuthenticationRecord-63"><span class="linenos"> 63</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The tenant the account should authenticate in.</span>
</span><span id="AuthenticationRecord-64"><a href="#AuthenticationRecord-64"><span class="linenos"> 64</span></a>
</span><span id="AuthenticationRecord-65"><a href="#AuthenticationRecord-65"><span class="linenos"> 65</span></a><span class="sd">        :return: The tenant the account should authenticate in.</span>
</span><span id="AuthenticationRecord-66"><a href="#AuthenticationRecord-66"><span class="linenos"> 66</span></a><span class="sd">        :rtype: str</span>
</span><span id="AuthenticationRecord-67"><a href="#AuthenticationRecord-67"><span class="linenos"> 67</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthenticationRecord-68"><a href="#AuthenticationRecord-68"><span class="linenos"> 68</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tenant_id</span>
</span><span id="AuthenticationRecord-69"><a href="#AuthenticationRecord-69"><span class="linenos"> 69</span></a>
</span><span id="AuthenticationRecord-70"><a href="#AuthenticationRecord-70"><span class="linenos"> 70</span></a>    <span class="nd">@property</span>
</span><span id="AuthenticationRecord-71"><a href="#AuthenticationRecord-71"><span class="linenos"> 71</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">username</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="AuthenticationRecord-72"><a href="#AuthenticationRecord-72"><span class="linenos"> 72</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The user principal or service principal name of the account.</span>
</span><span id="AuthenticationRecord-73"><a href="#AuthenticationRecord-73"><span class="linenos"> 73</span></a>
</span><span id="AuthenticationRecord-74"><a href="#AuthenticationRecord-74"><span class="linenos"> 74</span></a><span class="sd">        :return: The user principal or service principal name of the account.</span>
</span><span id="AuthenticationRecord-75"><a href="#AuthenticationRecord-75"><span class="linenos"> 75</span></a><span class="sd">        :rtype: str</span>
</span><span id="AuthenticationRecord-76"><a href="#AuthenticationRecord-76"><span class="linenos"> 76</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthenticationRecord-77"><a href="#AuthenticationRecord-77"><span class="linenos"> 77</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_username</span>
</span><span id="AuthenticationRecord-78"><a href="#AuthenticationRecord-78"><span class="linenos"> 78</span></a>
</span><span id="AuthenticationRecord-79"><a href="#AuthenticationRecord-79"><span class="linenos"> 79</span></a>    <span class="nd">@classmethod</span>
</span><span id="AuthenticationRecord-80"><a href="#AuthenticationRecord-80"><span class="linenos"> 80</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">deserialize</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AuthenticationRecord&quot;</span><span class="p">:</span>
</span><span id="AuthenticationRecord-81"><a href="#AuthenticationRecord-81"><span class="linenos"> 81</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserialize a record.</span>
</span><span id="AuthenticationRecord-82"><a href="#AuthenticationRecord-82"><span class="linenos"> 82</span></a>
</span><span id="AuthenticationRecord-83"><a href="#AuthenticationRecord-83"><span class="linenos"> 83</span></a><span class="sd">        :param str data: A serialized record.</span>
</span><span id="AuthenticationRecord-84"><a href="#AuthenticationRecord-84"><span class="linenos"> 84</span></a><span class="sd">        :return: The deserialized record.</span>
</span><span id="AuthenticationRecord-85"><a href="#AuthenticationRecord-85"><span class="linenos"> 85</span></a><span class="sd">        :rtype: ~azure.identity.AuthenticationRecord</span>
</span><span id="AuthenticationRecord-86"><a href="#AuthenticationRecord-86"><span class="linenos"> 86</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthenticationRecord-87"><a href="#AuthenticationRecord-87"><span class="linenos"> 87</span></a>
</span><span id="AuthenticationRecord-88"><a href="#AuthenticationRecord-88"><span class="linenos"> 88</span></a>        <span class="n">deserialized</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="AuthenticationRecord-89"><a href="#AuthenticationRecord-89"><span class="linenos"> 89</span></a>
</span><span id="AuthenticationRecord-90"><a href="#AuthenticationRecord-90"><span class="linenos"> 90</span></a>        <span class="n">version</span> <span class="o">=</span> <span class="n">deserialized</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">)</span>
</span><span id="AuthenticationRecord-91"><a href="#AuthenticationRecord-91"><span class="linenos"> 91</span></a>        <span class="k">if</span> <span class="n">version</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">SUPPORTED_VERSIONS</span><span class="p">:</span>
</span><span id="AuthenticationRecord-92"><a href="#AuthenticationRecord-92"><span class="linenos"> 92</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="AuthenticationRecord-93"><a href="#AuthenticationRecord-93"><span class="linenos"> 93</span></a>                <span class="s1">&#39;Unexpected version &quot;</span><span class="si">{}</span><span class="s1">&quot;. This package supports these versions: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">SUPPORTED_VERSIONS</span><span class="p">)</span>
</span><span id="AuthenticationRecord-94"><a href="#AuthenticationRecord-94"><span class="linenos"> 94</span></a>            <span class="p">)</span>
</span><span id="AuthenticationRecord-95"><a href="#AuthenticationRecord-95"><span class="linenos"> 95</span></a>
</span><span id="AuthenticationRecord-96"><a href="#AuthenticationRecord-96"><span class="linenos"> 96</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
</span><span id="AuthenticationRecord-97"><a href="#AuthenticationRecord-97"><span class="linenos"> 97</span></a>            <span class="n">authority</span><span class="o">=</span><span class="n">deserialized</span><span class="p">[</span><span class="s2">&quot;authority&quot;</span><span class="p">],</span>
</span><span id="AuthenticationRecord-98"><a href="#AuthenticationRecord-98"><span class="linenos"> 98</span></a>            <span class="n">client_id</span><span class="o">=</span><span class="n">deserialized</span><span class="p">[</span><span class="s2">&quot;clientId&quot;</span><span class="p">],</span>
</span><span id="AuthenticationRecord-99"><a href="#AuthenticationRecord-99"><span class="linenos"> 99</span></a>            <span class="n">home_account_id</span><span class="o">=</span><span class="n">deserialized</span><span class="p">[</span><span class="s2">&quot;homeAccountId&quot;</span><span class="p">],</span>
</span><span id="AuthenticationRecord-100"><a href="#AuthenticationRecord-100"><span class="linenos">100</span></a>            <span class="n">tenant_id</span><span class="o">=</span><span class="n">deserialized</span><span class="p">[</span><span class="s2">&quot;tenantId&quot;</span><span class="p">],</span>
</span><span id="AuthenticationRecord-101"><a href="#AuthenticationRecord-101"><span class="linenos">101</span></a>            <span class="n">username</span><span class="o">=</span><span class="n">deserialized</span><span class="p">[</span><span class="s2">&quot;username&quot;</span><span class="p">],</span>
</span><span id="AuthenticationRecord-102"><a href="#AuthenticationRecord-102"><span class="linenos">102</span></a>        <span class="p">)</span>
</span><span id="AuthenticationRecord-103"><a href="#AuthenticationRecord-103"><span class="linenos">103</span></a>
</span><span id="AuthenticationRecord-104"><a href="#AuthenticationRecord-104"><span class="linenos">104</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="AuthenticationRecord-105"><a href="#AuthenticationRecord-105"><span class="linenos">105</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Serialize the record.</span>
</span><span id="AuthenticationRecord-106"><a href="#AuthenticationRecord-106"><span class="linenos">106</span></a>
</span><span id="AuthenticationRecord-107"><a href="#AuthenticationRecord-107"><span class="linenos">107</span></a><span class="sd">        :return: The serialized record.</span>
</span><span id="AuthenticationRecord-108"><a href="#AuthenticationRecord-108"><span class="linenos">108</span></a><span class="sd">        :rtype: str</span>
</span><span id="AuthenticationRecord-109"><a href="#AuthenticationRecord-109"><span class="linenos">109</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthenticationRecord-110"><a href="#AuthenticationRecord-110"><span class="linenos">110</span></a>
</span><span id="AuthenticationRecord-111"><a href="#AuthenticationRecord-111"><span class="linenos">111</span></a>        <span class="n">record</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="AuthenticationRecord-112"><a href="#AuthenticationRecord-112"><span class="linenos">112</span></a>            <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_authority</span><span class="p">,</span>
</span><span id="AuthenticationRecord-113"><a href="#AuthenticationRecord-113"><span class="linenos">113</span></a>            <span class="s2">&quot;clientId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span><span class="p">,</span>
</span><span id="AuthenticationRecord-114"><a href="#AuthenticationRecord-114"><span class="linenos">114</span></a>            <span class="s2">&quot;homeAccountId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_home_account_id</span><span class="p">,</span>
</span><span id="AuthenticationRecord-115"><a href="#AuthenticationRecord-115"><span class="linenos">115</span></a>            <span class="s2">&quot;tenantId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tenant_id</span><span class="p">,</span>
</span><span id="AuthenticationRecord-116"><a href="#AuthenticationRecord-116"><span class="linenos">116</span></a>            <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_username</span><span class="p">,</span>
</span><span id="AuthenticationRecord-117"><a href="#AuthenticationRecord-117"><span class="linenos">117</span></a>            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
</span><span id="AuthenticationRecord-118"><a href="#AuthenticationRecord-118"><span class="linenos">118</span></a>        <span class="p">}</span>
</span><span id="AuthenticationRecord-119"><a href="#AuthenticationRecord-119"><span class="linenos">119</span></a>
</span><span id="AuthenticationRecord-120"><a href="#AuthenticationRecord-120"><span class="linenos">120</span></a>        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Non-secret account information for an authenticated user</p>

<p>This class enables <code><a href="#DeviceCodeCredential">DeviceCodeCredential</a></code> and <code><a href="#InteractiveBrowserCredential">InteractiveBrowserCredential</a></code> to access
previously cached authentication data. Applications shouldn't construct instances of this class. They should
instead acquire one from a credential's <strong>authenticate</strong> method, such as
<code><a href="#InteractiveBrowserCredential.authenticate">InteractiveBrowserCredential.authenticate()</a></code>. See the user_authentication sample for more details.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str tenant_id</strong>:  The tenant the account should authenticate in.</li>
<li><strong>str client_id</strong>:  The client ID of the application which performed the original authentication.</li>
<li><strong>str authority</strong>:  The authority host used to authenticate the account.</li>
<li><strong>str home_account_id</strong>:  A unique identifier of the account.</li>
<li><strong>str username</strong>:  The user principal or service principal name of the account.</li>
</ul>
</div>


                            <div id="AuthenticationRecord.__init__" class="classattr">
                                        <input id="AuthenticationRecord.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">AuthenticationRecord</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">authority</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">home_account_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">username</span><span class="p">:</span> <span class="nb">str</span></span>)</span>

                <label class="view-source-button" for="AuthenticationRecord.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AuthenticationRecord.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AuthenticationRecord.__init__-27"><a href="#AuthenticationRecord.__init__-27"><span class="linenos">27</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">authority</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">home_account_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AuthenticationRecord.__init__-28"><a href="#AuthenticationRecord.__init__-28"><span class="linenos">28</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_authority</span> <span class="o">=</span> <span class="n">authority</span>
</span><span id="AuthenticationRecord.__init__-29"><a href="#AuthenticationRecord.__init__-29"><span class="linenos">29</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span> <span class="o">=</span> <span class="n">client_id</span>
</span><span id="AuthenticationRecord.__init__-30"><a href="#AuthenticationRecord.__init__-30"><span class="linenos">30</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_home_account_id</span> <span class="o">=</span> <span class="n">home_account_id</span>
</span><span id="AuthenticationRecord.__init__-31"><a href="#AuthenticationRecord.__init__-31"><span class="linenos">31</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_tenant_id</span> <span class="o">=</span> <span class="n">tenant_id</span>
</span><span id="AuthenticationRecord.__init__-32"><a href="#AuthenticationRecord.__init__-32"><span class="linenos">32</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_username</span> <span class="o">=</span> <span class="n">username</span>
</span></pre></div>


    

                            </div>
                            <div id="AuthenticationRecord.authority" class="classattr">
                                        <input id="AuthenticationRecord.authority-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">authority</span><span class="annotation">: str</span>

                <label class="view-source-button" for="AuthenticationRecord.authority-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AuthenticationRecord.authority"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AuthenticationRecord.authority-34"><a href="#AuthenticationRecord.authority-34"><span class="linenos">34</span></a>    <span class="nd">@property</span>
</span><span id="AuthenticationRecord.authority-35"><a href="#AuthenticationRecord.authority-35"><span class="linenos">35</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">authority</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="AuthenticationRecord.authority-36"><a href="#AuthenticationRecord.authority-36"><span class="linenos">36</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The authority host used to authenticate the account.</span>
</span><span id="AuthenticationRecord.authority-37"><a href="#AuthenticationRecord.authority-37"><span class="linenos">37</span></a>
</span><span id="AuthenticationRecord.authority-38"><a href="#AuthenticationRecord.authority-38"><span class="linenos">38</span></a><span class="sd">        :return: The authority host used to authenticate the account.</span>
</span><span id="AuthenticationRecord.authority-39"><a href="#AuthenticationRecord.authority-39"><span class="linenos">39</span></a><span class="sd">        :rtype: str</span>
</span><span id="AuthenticationRecord.authority-40"><a href="#AuthenticationRecord.authority-40"><span class="linenos">40</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthenticationRecord.authority-41"><a href="#AuthenticationRecord.authority-41"><span class="linenos">41</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_authority</span>
</span></pre></div>


            <div class="docstring"><p>The authority host used to authenticate the account.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The authority host used to authenticate the account.</p>
</blockquote>
</div>


                            </div>
                            <div id="AuthenticationRecord.client_id" class="classattr">
                                        <input id="AuthenticationRecord.client_id-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">client_id</span><span class="annotation">: str</span>

                <label class="view-source-button" for="AuthenticationRecord.client_id-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AuthenticationRecord.client_id"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AuthenticationRecord.client_id-43"><a href="#AuthenticationRecord.client_id-43"><span class="linenos">43</span></a>    <span class="nd">@property</span>
</span><span id="AuthenticationRecord.client_id-44"><a href="#AuthenticationRecord.client_id-44"><span class="linenos">44</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">client_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="AuthenticationRecord.client_id-45"><a href="#AuthenticationRecord.client_id-45"><span class="linenos">45</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The client ID of the application which performed the original authentication.</span>
</span><span id="AuthenticationRecord.client_id-46"><a href="#AuthenticationRecord.client_id-46"><span class="linenos">46</span></a>
</span><span id="AuthenticationRecord.client_id-47"><a href="#AuthenticationRecord.client_id-47"><span class="linenos">47</span></a><span class="sd">        :return: The client ID of the application which performed the original authentication.</span>
</span><span id="AuthenticationRecord.client_id-48"><a href="#AuthenticationRecord.client_id-48"><span class="linenos">48</span></a><span class="sd">        :rtype: str</span>
</span><span id="AuthenticationRecord.client_id-49"><a href="#AuthenticationRecord.client_id-49"><span class="linenos">49</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthenticationRecord.client_id-50"><a href="#AuthenticationRecord.client_id-50"><span class="linenos">50</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span>
</span></pre></div>


            <div class="docstring"><p>The client ID of the application which performed the original authentication.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The client ID of the application which performed the original authentication.</p>
</blockquote>
</div>


                            </div>
                            <div id="AuthenticationRecord.home_account_id" class="classattr">
                                        <input id="AuthenticationRecord.home_account_id-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">home_account_id</span><span class="annotation">: str</span>

                <label class="view-source-button" for="AuthenticationRecord.home_account_id-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AuthenticationRecord.home_account_id"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AuthenticationRecord.home_account_id-52"><a href="#AuthenticationRecord.home_account_id-52"><span class="linenos">52</span></a>    <span class="nd">@property</span>
</span><span id="AuthenticationRecord.home_account_id-53"><a href="#AuthenticationRecord.home_account_id-53"><span class="linenos">53</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">home_account_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="AuthenticationRecord.home_account_id-54"><a href="#AuthenticationRecord.home_account_id-54"><span class="linenos">54</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;A unique identifier of the account.</span>
</span><span id="AuthenticationRecord.home_account_id-55"><a href="#AuthenticationRecord.home_account_id-55"><span class="linenos">55</span></a>
</span><span id="AuthenticationRecord.home_account_id-56"><a href="#AuthenticationRecord.home_account_id-56"><span class="linenos">56</span></a><span class="sd">        :return: A unique identifier of the account.</span>
</span><span id="AuthenticationRecord.home_account_id-57"><a href="#AuthenticationRecord.home_account_id-57"><span class="linenos">57</span></a><span class="sd">        :rtype: str</span>
</span><span id="AuthenticationRecord.home_account_id-58"><a href="#AuthenticationRecord.home_account_id-58"><span class="linenos">58</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthenticationRecord.home_account_id-59"><a href="#AuthenticationRecord.home_account_id-59"><span class="linenos">59</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_home_account_id</span>
</span></pre></div>


            <div class="docstring"><p>A unique identifier of the account.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>A unique identifier of the account.</p>
</blockquote>
</div>


                            </div>
                            <div id="AuthenticationRecord.tenant_id" class="classattr">
                                        <input id="AuthenticationRecord.tenant_id-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">tenant_id</span><span class="annotation">: str</span>

                <label class="view-source-button" for="AuthenticationRecord.tenant_id-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AuthenticationRecord.tenant_id"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AuthenticationRecord.tenant_id-61"><a href="#AuthenticationRecord.tenant_id-61"><span class="linenos">61</span></a>    <span class="nd">@property</span>
</span><span id="AuthenticationRecord.tenant_id-62"><a href="#AuthenticationRecord.tenant_id-62"><span class="linenos">62</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">tenant_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="AuthenticationRecord.tenant_id-63"><a href="#AuthenticationRecord.tenant_id-63"><span class="linenos">63</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The tenant the account should authenticate in.</span>
</span><span id="AuthenticationRecord.tenant_id-64"><a href="#AuthenticationRecord.tenant_id-64"><span class="linenos">64</span></a>
</span><span id="AuthenticationRecord.tenant_id-65"><a href="#AuthenticationRecord.tenant_id-65"><span class="linenos">65</span></a><span class="sd">        :return: The tenant the account should authenticate in.</span>
</span><span id="AuthenticationRecord.tenant_id-66"><a href="#AuthenticationRecord.tenant_id-66"><span class="linenos">66</span></a><span class="sd">        :rtype: str</span>
</span><span id="AuthenticationRecord.tenant_id-67"><a href="#AuthenticationRecord.tenant_id-67"><span class="linenos">67</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthenticationRecord.tenant_id-68"><a href="#AuthenticationRecord.tenant_id-68"><span class="linenos">68</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tenant_id</span>
</span></pre></div>


            <div class="docstring"><p>The tenant the account should authenticate in.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The tenant the account should authenticate in.</p>
</blockquote>
</div>


                            </div>
                            <div id="AuthenticationRecord.username" class="classattr">
                                        <input id="AuthenticationRecord.username-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">username</span><span class="annotation">: str</span>

                <label class="view-source-button" for="AuthenticationRecord.username-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AuthenticationRecord.username"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AuthenticationRecord.username-70"><a href="#AuthenticationRecord.username-70"><span class="linenos">70</span></a>    <span class="nd">@property</span>
</span><span id="AuthenticationRecord.username-71"><a href="#AuthenticationRecord.username-71"><span class="linenos">71</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">username</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="AuthenticationRecord.username-72"><a href="#AuthenticationRecord.username-72"><span class="linenos">72</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The user principal or service principal name of the account.</span>
</span><span id="AuthenticationRecord.username-73"><a href="#AuthenticationRecord.username-73"><span class="linenos">73</span></a>
</span><span id="AuthenticationRecord.username-74"><a href="#AuthenticationRecord.username-74"><span class="linenos">74</span></a><span class="sd">        :return: The user principal or service principal name of the account.</span>
</span><span id="AuthenticationRecord.username-75"><a href="#AuthenticationRecord.username-75"><span class="linenos">75</span></a><span class="sd">        :rtype: str</span>
</span><span id="AuthenticationRecord.username-76"><a href="#AuthenticationRecord.username-76"><span class="linenos">76</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthenticationRecord.username-77"><a href="#AuthenticationRecord.username-77"><span class="linenos">77</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_username</span>
</span></pre></div>


            <div class="docstring"><p>The user principal or service principal name of the account.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The user principal or service principal name of the account.</p>
</blockquote>
</div>


                            </div>
                            <div id="AuthenticationRecord.deserialize" class="classattr">
                                        <input id="AuthenticationRecord.deserialize-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-classmethod">@classmethod</div>

        <span class="def">def</span>
        <span class="name">deserialize</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="n">data</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n"><a href="#AuthenticationRecord">AuthenticationRecord</a></span>:</span></span>

                <label class="view-source-button" for="AuthenticationRecord.deserialize-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AuthenticationRecord.deserialize"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AuthenticationRecord.deserialize-79"><a href="#AuthenticationRecord.deserialize-79"><span class="linenos"> 79</span></a>    <span class="nd">@classmethod</span>
</span><span id="AuthenticationRecord.deserialize-80"><a href="#AuthenticationRecord.deserialize-80"><span class="linenos"> 80</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">deserialize</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AuthenticationRecord&quot;</span><span class="p">:</span>
</span><span id="AuthenticationRecord.deserialize-81"><a href="#AuthenticationRecord.deserialize-81"><span class="linenos"> 81</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserialize a record.</span>
</span><span id="AuthenticationRecord.deserialize-82"><a href="#AuthenticationRecord.deserialize-82"><span class="linenos"> 82</span></a>
</span><span id="AuthenticationRecord.deserialize-83"><a href="#AuthenticationRecord.deserialize-83"><span class="linenos"> 83</span></a><span class="sd">        :param str data: A serialized record.</span>
</span><span id="AuthenticationRecord.deserialize-84"><a href="#AuthenticationRecord.deserialize-84"><span class="linenos"> 84</span></a><span class="sd">        :return: The deserialized record.</span>
</span><span id="AuthenticationRecord.deserialize-85"><a href="#AuthenticationRecord.deserialize-85"><span class="linenos"> 85</span></a><span class="sd">        :rtype: ~azure.identity.AuthenticationRecord</span>
</span><span id="AuthenticationRecord.deserialize-86"><a href="#AuthenticationRecord.deserialize-86"><span class="linenos"> 86</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthenticationRecord.deserialize-87"><a href="#AuthenticationRecord.deserialize-87"><span class="linenos"> 87</span></a>
</span><span id="AuthenticationRecord.deserialize-88"><a href="#AuthenticationRecord.deserialize-88"><span class="linenos"> 88</span></a>        <span class="n">deserialized</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="AuthenticationRecord.deserialize-89"><a href="#AuthenticationRecord.deserialize-89"><span class="linenos"> 89</span></a>
</span><span id="AuthenticationRecord.deserialize-90"><a href="#AuthenticationRecord.deserialize-90"><span class="linenos"> 90</span></a>        <span class="n">version</span> <span class="o">=</span> <span class="n">deserialized</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">)</span>
</span><span id="AuthenticationRecord.deserialize-91"><a href="#AuthenticationRecord.deserialize-91"><span class="linenos"> 91</span></a>        <span class="k">if</span> <span class="n">version</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">SUPPORTED_VERSIONS</span><span class="p">:</span>
</span><span id="AuthenticationRecord.deserialize-92"><a href="#AuthenticationRecord.deserialize-92"><span class="linenos"> 92</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="AuthenticationRecord.deserialize-93"><a href="#AuthenticationRecord.deserialize-93"><span class="linenos"> 93</span></a>                <span class="s1">&#39;Unexpected version &quot;</span><span class="si">{}</span><span class="s1">&quot;. This package supports these versions: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">SUPPORTED_VERSIONS</span><span class="p">)</span>
</span><span id="AuthenticationRecord.deserialize-94"><a href="#AuthenticationRecord.deserialize-94"><span class="linenos"> 94</span></a>            <span class="p">)</span>
</span><span id="AuthenticationRecord.deserialize-95"><a href="#AuthenticationRecord.deserialize-95"><span class="linenos"> 95</span></a>
</span><span id="AuthenticationRecord.deserialize-96"><a href="#AuthenticationRecord.deserialize-96"><span class="linenos"> 96</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
</span><span id="AuthenticationRecord.deserialize-97"><a href="#AuthenticationRecord.deserialize-97"><span class="linenos"> 97</span></a>            <span class="n">authority</span><span class="o">=</span><span class="n">deserialized</span><span class="p">[</span><span class="s2">&quot;authority&quot;</span><span class="p">],</span>
</span><span id="AuthenticationRecord.deserialize-98"><a href="#AuthenticationRecord.deserialize-98"><span class="linenos"> 98</span></a>            <span class="n">client_id</span><span class="o">=</span><span class="n">deserialized</span><span class="p">[</span><span class="s2">&quot;clientId&quot;</span><span class="p">],</span>
</span><span id="AuthenticationRecord.deserialize-99"><a href="#AuthenticationRecord.deserialize-99"><span class="linenos"> 99</span></a>            <span class="n">home_account_id</span><span class="o">=</span><span class="n">deserialized</span><span class="p">[</span><span class="s2">&quot;homeAccountId&quot;</span><span class="p">],</span>
</span><span id="AuthenticationRecord.deserialize-100"><a href="#AuthenticationRecord.deserialize-100"><span class="linenos">100</span></a>            <span class="n">tenant_id</span><span class="o">=</span><span class="n">deserialized</span><span class="p">[</span><span class="s2">&quot;tenantId&quot;</span><span class="p">],</span>
</span><span id="AuthenticationRecord.deserialize-101"><a href="#AuthenticationRecord.deserialize-101"><span class="linenos">101</span></a>            <span class="n">username</span><span class="o">=</span><span class="n">deserialized</span><span class="p">[</span><span class="s2">&quot;username&quot;</span><span class="p">],</span>
</span><span id="AuthenticationRecord.deserialize-102"><a href="#AuthenticationRecord.deserialize-102"><span class="linenos">102</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Deserialize a record.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str data</strong>:  A serialized record.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The deserialized record.</p>
</blockquote>
</div>


                            </div>
                            <div id="AuthenticationRecord.serialize" class="classattr">
                                        <input id="AuthenticationRecord.serialize-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">serialize</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="AuthenticationRecord.serialize-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AuthenticationRecord.serialize"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AuthenticationRecord.serialize-104"><a href="#AuthenticationRecord.serialize-104"><span class="linenos">104</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="AuthenticationRecord.serialize-105"><a href="#AuthenticationRecord.serialize-105"><span class="linenos">105</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Serialize the record.</span>
</span><span id="AuthenticationRecord.serialize-106"><a href="#AuthenticationRecord.serialize-106"><span class="linenos">106</span></a>
</span><span id="AuthenticationRecord.serialize-107"><a href="#AuthenticationRecord.serialize-107"><span class="linenos">107</span></a><span class="sd">        :return: The serialized record.</span>
</span><span id="AuthenticationRecord.serialize-108"><a href="#AuthenticationRecord.serialize-108"><span class="linenos">108</span></a><span class="sd">        :rtype: str</span>
</span><span id="AuthenticationRecord.serialize-109"><a href="#AuthenticationRecord.serialize-109"><span class="linenos">109</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthenticationRecord.serialize-110"><a href="#AuthenticationRecord.serialize-110"><span class="linenos">110</span></a>
</span><span id="AuthenticationRecord.serialize-111"><a href="#AuthenticationRecord.serialize-111"><span class="linenos">111</span></a>        <span class="n">record</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="AuthenticationRecord.serialize-112"><a href="#AuthenticationRecord.serialize-112"><span class="linenos">112</span></a>            <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_authority</span><span class="p">,</span>
</span><span id="AuthenticationRecord.serialize-113"><a href="#AuthenticationRecord.serialize-113"><span class="linenos">113</span></a>            <span class="s2">&quot;clientId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span><span class="p">,</span>
</span><span id="AuthenticationRecord.serialize-114"><a href="#AuthenticationRecord.serialize-114"><span class="linenos">114</span></a>            <span class="s2">&quot;homeAccountId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_home_account_id</span><span class="p">,</span>
</span><span id="AuthenticationRecord.serialize-115"><a href="#AuthenticationRecord.serialize-115"><span class="linenos">115</span></a>            <span class="s2">&quot;tenantId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tenant_id</span><span class="p">,</span>
</span><span id="AuthenticationRecord.serialize-116"><a href="#AuthenticationRecord.serialize-116"><span class="linenos">116</span></a>            <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_username</span><span class="p">,</span>
</span><span id="AuthenticationRecord.serialize-117"><a href="#AuthenticationRecord.serialize-117"><span class="linenos">117</span></a>            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
</span><span id="AuthenticationRecord.serialize-118"><a href="#AuthenticationRecord.serialize-118"><span class="linenos">118</span></a>        <span class="p">}</span>
</span><span id="AuthenticationRecord.serialize-119"><a href="#AuthenticationRecord.serialize-119"><span class="linenos">119</span></a>
</span><span id="AuthenticationRecord.serialize-120"><a href="#AuthenticationRecord.serialize-120"><span class="linenos">120</span></a>        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Serialize the record.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The serialized record.</p>
</blockquote>
</div>


                            </div>
                </section>
                <section id="AuthenticationRequiredError">
                            <input id="AuthenticationRequiredError-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">AuthenticationRequiredError</span><wbr>(<span class="base"><a href="#CredentialUnavailableError">azure.identity.CredentialUnavailableError</a></span>):

                <label class="view-source-button" for="AuthenticationRequiredError-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AuthenticationRequiredError"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AuthenticationRequiredError-15"><a href="#AuthenticationRequiredError-15"><span class="linenos">15</span></a><span class="k">class</span><span class="w"> </span><span class="nc">AuthenticationRequiredError</span><span class="p">(</span><span class="n">CredentialUnavailableError</span><span class="p">):</span>
</span><span id="AuthenticationRequiredError-16"><a href="#AuthenticationRequiredError-16"><span class="linenos">16</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Interactive authentication is required to acquire a token.</span>
</span><span id="AuthenticationRequiredError-17"><a href="#AuthenticationRequiredError-17"><span class="linenos">17</span></a>
</span><span id="AuthenticationRequiredError-18"><a href="#AuthenticationRequiredError-18"><span class="linenos">18</span></a><span class="sd">    This error is raised only by interactive user credentials configured not to automatically prompt for user</span>
</span><span id="AuthenticationRequiredError-19"><a href="#AuthenticationRequiredError-19"><span class="linenos">19</span></a><span class="sd">    interaction as needed. Its properties provide additional information that may be required to authenticate. The</span>
</span><span id="AuthenticationRequiredError-20"><a href="#AuthenticationRequiredError-20"><span class="linenos">20</span></a><span class="sd">    control_interactive_prompts sample demonstrates handling this error by calling a credential&#39;s &quot;authenticate&quot;</span>
</span><span id="AuthenticationRequiredError-21"><a href="#AuthenticationRequiredError-21"><span class="linenos">21</span></a><span class="sd">    method.</span>
</span><span id="AuthenticationRequiredError-22"><a href="#AuthenticationRequiredError-22"><span class="linenos">22</span></a>
</span><span id="AuthenticationRequiredError-23"><a href="#AuthenticationRequiredError-23"><span class="linenos">23</span></a><span class="sd">    :param str scopes: Scopes requested during the failed authentication</span>
</span><span id="AuthenticationRequiredError-24"><a href="#AuthenticationRequiredError-24"><span class="linenos">24</span></a><span class="sd">    :param str message: An error message explaining the reason for the exception.</span>
</span><span id="AuthenticationRequiredError-25"><a href="#AuthenticationRequiredError-25"><span class="linenos">25</span></a><span class="sd">    :param str claims: Additional claims required in the next authentication.</span>
</span><span id="AuthenticationRequiredError-26"><a href="#AuthenticationRequiredError-26"><span class="linenos">26</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="AuthenticationRequiredError-27"><a href="#AuthenticationRequiredError-27"><span class="linenos">27</span></a>
</span><span id="AuthenticationRequiredError-28"><a href="#AuthenticationRequiredError-28"><span class="linenos">28</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="AuthenticationRequiredError-29"><a href="#AuthenticationRequiredError-29"><span class="linenos">29</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">scopes</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">message</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="AuthenticationRequiredError-30"><a href="#AuthenticationRequiredError-30"><span class="linenos">30</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AuthenticationRequiredError-31"><a href="#AuthenticationRequiredError-31"><span class="linenos">31</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_claims</span> <span class="o">=</span> <span class="n">claims</span>
</span><span id="AuthenticationRequiredError-32"><a href="#AuthenticationRequiredError-32"><span class="linenos">32</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scopes</span> <span class="o">=</span> <span class="n">scopes</span>
</span><span id="AuthenticationRequiredError-33"><a href="#AuthenticationRequiredError-33"><span class="linenos">33</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">message</span><span class="p">:</span>
</span><span id="AuthenticationRequiredError-34"><a href="#AuthenticationRequiredError-34"><span class="linenos">34</span></a>            <span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;Interactive authentication is required to get a token. Call &#39;authenticate&#39; to begin.&quot;</span>
</span><span id="AuthenticationRequiredError-35"><a href="#AuthenticationRequiredError-35"><span class="linenos">35</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">AuthenticationRequiredError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="AuthenticationRequiredError-36"><a href="#AuthenticationRequiredError-36"><span class="linenos">36</span></a>
</span><span id="AuthenticationRequiredError-37"><a href="#AuthenticationRequiredError-37"><span class="linenos">37</span></a>    <span class="nd">@property</span>
</span><span id="AuthenticationRequiredError-38"><a href="#AuthenticationRequiredError-38"><span class="linenos">38</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">scopes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="AuthenticationRequiredError-39"><a href="#AuthenticationRequiredError-39"><span class="linenos">39</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scopes requested during the failed authentication.</span>
</span><span id="AuthenticationRequiredError-40"><a href="#AuthenticationRequiredError-40"><span class="linenos">40</span></a>
</span><span id="AuthenticationRequiredError-41"><a href="#AuthenticationRequiredError-41"><span class="linenos">41</span></a><span class="sd">        :return: Scopes requested during the failed authentication.</span>
</span><span id="AuthenticationRequiredError-42"><a href="#AuthenticationRequiredError-42"><span class="linenos">42</span></a><span class="sd">        :rtype: ~typing.Iterable[str]</span>
</span><span id="AuthenticationRequiredError-43"><a href="#AuthenticationRequiredError-43"><span class="linenos">43</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthenticationRequiredError-44"><a href="#AuthenticationRequiredError-44"><span class="linenos">44</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scopes</span>
</span><span id="AuthenticationRequiredError-45"><a href="#AuthenticationRequiredError-45"><span class="linenos">45</span></a>
</span><span id="AuthenticationRequiredError-46"><a href="#AuthenticationRequiredError-46"><span class="linenos">46</span></a>    <span class="nd">@property</span>
</span><span id="AuthenticationRequiredError-47"><a href="#AuthenticationRequiredError-47"><span class="linenos">47</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">claims</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="AuthenticationRequiredError-48"><a href="#AuthenticationRequiredError-48"><span class="linenos">48</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Additional claims required in the next authentication.</span>
</span><span id="AuthenticationRequiredError-49"><a href="#AuthenticationRequiredError-49"><span class="linenos">49</span></a>
</span><span id="AuthenticationRequiredError-50"><a href="#AuthenticationRequiredError-50"><span class="linenos">50</span></a><span class="sd">        :return: Additional claims required in the next authentication, or None if no additional claims are required.</span>
</span><span id="AuthenticationRequiredError-51"><a href="#AuthenticationRequiredError-51"><span class="linenos">51</span></a><span class="sd">        :rtype: str or None</span>
</span><span id="AuthenticationRequiredError-52"><a href="#AuthenticationRequiredError-52"><span class="linenos">52</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthenticationRequiredError-53"><a href="#AuthenticationRequiredError-53"><span class="linenos">53</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_claims</span>
</span></pre></div>


            <div class="docstring"><p>Interactive authentication is required to acquire a token.</p>

<p>This error is raised only by interactive user credentials configured not to automatically prompt for user
interaction as needed. Its properties provide additional information that may be required to authenticate. The
control_interactive_prompts sample demonstrates handling this error by calling a credential's "authenticate"
method.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  Scopes requested during the failed authentication</li>
<li><strong>str message</strong>:  An error message explaining the reason for the exception.</li>
<li><strong>str claims</strong>:  Additional claims required in the next authentication.</li>
</ul>
</div>


                            <div id="AuthenticationRequiredError.__init__" class="classattr">
                                        <input id="AuthenticationRequiredError.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">AuthenticationRequiredError</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">scopes</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="n">message</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="AuthenticationRequiredError.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AuthenticationRequiredError.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AuthenticationRequiredError.__init__-28"><a href="#AuthenticationRequiredError.__init__-28"><span class="linenos">28</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="AuthenticationRequiredError.__init__-29"><a href="#AuthenticationRequiredError.__init__-29"><span class="linenos">29</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">scopes</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">message</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="AuthenticationRequiredError.__init__-30"><a href="#AuthenticationRequiredError.__init__-30"><span class="linenos">30</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AuthenticationRequiredError.__init__-31"><a href="#AuthenticationRequiredError.__init__-31"><span class="linenos">31</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_claims</span> <span class="o">=</span> <span class="n">claims</span>
</span><span id="AuthenticationRequiredError.__init__-32"><a href="#AuthenticationRequiredError.__init__-32"><span class="linenos">32</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scopes</span> <span class="o">=</span> <span class="n">scopes</span>
</span><span id="AuthenticationRequiredError.__init__-33"><a href="#AuthenticationRequiredError.__init__-33"><span class="linenos">33</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">message</span><span class="p">:</span>
</span><span id="AuthenticationRequiredError.__init__-34"><a href="#AuthenticationRequiredError.__init__-34"><span class="linenos">34</span></a>            <span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;Interactive authentication is required to get a token. Call &#39;authenticate&#39; to begin.&quot;</span>
</span><span id="AuthenticationRequiredError.__init__-35"><a href="#AuthenticationRequiredError.__init__-35"><span class="linenos">35</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">AuthenticationRequiredError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="AuthenticationRequiredError.scopes" class="classattr">
                                        <input id="AuthenticationRequiredError.scopes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">scopes</span><span class="annotation">: Iterable[str]</span>

                <label class="view-source-button" for="AuthenticationRequiredError.scopes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AuthenticationRequiredError.scopes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AuthenticationRequiredError.scopes-37"><a href="#AuthenticationRequiredError.scopes-37"><span class="linenos">37</span></a>    <span class="nd">@property</span>
</span><span id="AuthenticationRequiredError.scopes-38"><a href="#AuthenticationRequiredError.scopes-38"><span class="linenos">38</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">scopes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="AuthenticationRequiredError.scopes-39"><a href="#AuthenticationRequiredError.scopes-39"><span class="linenos">39</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scopes requested during the failed authentication.</span>
</span><span id="AuthenticationRequiredError.scopes-40"><a href="#AuthenticationRequiredError.scopes-40"><span class="linenos">40</span></a>
</span><span id="AuthenticationRequiredError.scopes-41"><a href="#AuthenticationRequiredError.scopes-41"><span class="linenos">41</span></a><span class="sd">        :return: Scopes requested during the failed authentication.</span>
</span><span id="AuthenticationRequiredError.scopes-42"><a href="#AuthenticationRequiredError.scopes-42"><span class="linenos">42</span></a><span class="sd">        :rtype: ~typing.Iterable[str]</span>
</span><span id="AuthenticationRequiredError.scopes-43"><a href="#AuthenticationRequiredError.scopes-43"><span class="linenos">43</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthenticationRequiredError.scopes-44"><a href="#AuthenticationRequiredError.scopes-44"><span class="linenos">44</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scopes</span>
</span></pre></div>


            <div class="docstring"><p>Scopes requested during the failed authentication.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>Scopes requested during the failed authentication.</p>
</blockquote>
</div>


                            </div>
                            <div id="AuthenticationRequiredError.claims" class="classattr">
                                        <input id="AuthenticationRequiredError.claims-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">claims</span><span class="annotation">: Optional[str]</span>

                <label class="view-source-button" for="AuthenticationRequiredError.claims-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AuthenticationRequiredError.claims"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AuthenticationRequiredError.claims-46"><a href="#AuthenticationRequiredError.claims-46"><span class="linenos">46</span></a>    <span class="nd">@property</span>
</span><span id="AuthenticationRequiredError.claims-47"><a href="#AuthenticationRequiredError.claims-47"><span class="linenos">47</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">claims</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="AuthenticationRequiredError.claims-48"><a href="#AuthenticationRequiredError.claims-48"><span class="linenos">48</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Additional claims required in the next authentication.</span>
</span><span id="AuthenticationRequiredError.claims-49"><a href="#AuthenticationRequiredError.claims-49"><span class="linenos">49</span></a>
</span><span id="AuthenticationRequiredError.claims-50"><a href="#AuthenticationRequiredError.claims-50"><span class="linenos">50</span></a><span class="sd">        :return: Additional claims required in the next authentication, or None if no additional claims are required.</span>
</span><span id="AuthenticationRequiredError.claims-51"><a href="#AuthenticationRequiredError.claims-51"><span class="linenos">51</span></a><span class="sd">        :rtype: str or None</span>
</span><span id="AuthenticationRequiredError.claims-52"><a href="#AuthenticationRequiredError.claims-52"><span class="linenos">52</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthenticationRequiredError.claims-53"><a href="#AuthenticationRequiredError.claims-53"><span class="linenos">53</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_claims</span>
</span></pre></div>


            <div class="docstring"><p>Additional claims required in the next authentication.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>Additional claims required in the next authentication, or None if no additional claims are required.</p>
</blockquote>
</div>


                            </div>
                </section>
                <section id="AuthorizationCodeCredential">
                            <input id="AuthorizationCodeCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">AuthorizationCodeCredential</span><wbr>(<span class="base">azure.identity._internal.get_token_mixin.GetTokenMixin</span>):

                <label class="view-source-button" for="AuthorizationCodeCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AuthorizationCodeCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AuthorizationCodeCredential-14"><a href="#AuthorizationCodeCredential-14"><span class="linenos"> 14</span></a><span class="k">class</span><span class="w"> </span><span class="nc">AuthorizationCodeCredential</span><span class="p">(</span><span class="n">GetTokenMixin</span><span class="p">):</span>
</span><span id="AuthorizationCodeCredential-15"><a href="#AuthorizationCodeCredential-15"><span class="linenos"> 15</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticates by redeeming an authorization code previously obtained from Microsoft Entra ID.</span>
</span><span id="AuthorizationCodeCredential-16"><a href="#AuthorizationCodeCredential-16"><span class="linenos"> 16</span></a>
</span><span id="AuthorizationCodeCredential-17"><a href="#AuthorizationCodeCredential-17"><span class="linenos"> 17</span></a><span class="sd">    See `Microsoft Entra ID documentation</span>
</span><span id="AuthorizationCodeCredential-18"><a href="#AuthorizationCodeCredential-18"><span class="linenos"> 18</span></a><span class="sd">    &lt;https://learn.microsoft.com/entra/identity-platform/v2-oauth2-auth-code-flow&gt;`__ for more information</span>
</span><span id="AuthorizationCodeCredential-19"><a href="#AuthorizationCodeCredential-19"><span class="linenos"> 19</span></a><span class="sd">    about the authentication flow.</span>
</span><span id="AuthorizationCodeCredential-20"><a href="#AuthorizationCodeCredential-20"><span class="linenos"> 20</span></a>
</span><span id="AuthorizationCodeCredential-21"><a href="#AuthorizationCodeCredential-21"><span class="linenos"> 21</span></a><span class="sd">    :param str tenant_id: ID of the application&#39;s Microsoft Entra tenant. Also called its &quot;directory&quot; ID.</span>
</span><span id="AuthorizationCodeCredential-22"><a href="#AuthorizationCodeCredential-22"><span class="linenos"> 22</span></a><span class="sd">    :param str client_id: The application&#39;s client ID</span>
</span><span id="AuthorizationCodeCredential-23"><a href="#AuthorizationCodeCredential-23"><span class="linenos"> 23</span></a><span class="sd">    :param str authorization_code: The authorization code from the user&#39;s log-in</span>
</span><span id="AuthorizationCodeCredential-24"><a href="#AuthorizationCodeCredential-24"><span class="linenos"> 24</span></a><span class="sd">    :param str redirect_uri: The application&#39;s redirect URI. Must match the URI used to request the authorization code.</span>
</span><span id="AuthorizationCodeCredential-25"><a href="#AuthorizationCodeCredential-25"><span class="linenos"> 25</span></a>
</span><span id="AuthorizationCodeCredential-26"><a href="#AuthorizationCodeCredential-26"><span class="linenos"> 26</span></a><span class="sd">    :keyword str authority: Authority of a Microsoft Entra endpoint, for example &quot;login.microsoftonline.com&quot;,</span>
</span><span id="AuthorizationCodeCredential-27"><a href="#AuthorizationCodeCredential-27"><span class="linenos"> 27</span></a><span class="sd">        the authority for Azure Public Cloud (which is the default). :class:`~azure.identity.AzureAuthorityHosts`</span>
</span><span id="AuthorizationCodeCredential-28"><a href="#AuthorizationCodeCredential-28"><span class="linenos"> 28</span></a><span class="sd">        defines authorities for other clouds.</span>
</span><span id="AuthorizationCodeCredential-29"><a href="#AuthorizationCodeCredential-29"><span class="linenos"> 29</span></a><span class="sd">    :keyword str client_secret: One of the application&#39;s client secrets. Required only for web apps and web APIs.</span>
</span><span id="AuthorizationCodeCredential-30"><a href="#AuthorizationCodeCredential-30"><span class="linenos"> 30</span></a><span class="sd">    :keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified &quot;tenant_id&quot;</span>
</span><span id="AuthorizationCodeCredential-31"><a href="#AuthorizationCodeCredential-31"><span class="linenos"> 31</span></a><span class="sd">        for which the credential may acquire tokens. Add the wildcard value &quot;*&quot; to allow the credential to</span>
</span><span id="AuthorizationCodeCredential-32"><a href="#AuthorizationCodeCredential-32"><span class="linenos"> 32</span></a><span class="sd">        acquire tokens for any tenant the application can access.</span>
</span><span id="AuthorizationCodeCredential-33"><a href="#AuthorizationCodeCredential-33"><span class="linenos"> 33</span></a>
</span><span id="AuthorizationCodeCredential-34"><a href="#AuthorizationCodeCredential-34"><span class="linenos"> 34</span></a><span class="sd">    .. admonition:: Example:</span>
</span><span id="AuthorizationCodeCredential-35"><a href="#AuthorizationCodeCredential-35"><span class="linenos"> 35</span></a>
</span><span id="AuthorizationCodeCredential-36"><a href="#AuthorizationCodeCredential-36"><span class="linenos"> 36</span></a><span class="sd">        .. literalinclude:: ../samples/credential_creation_code_snippets.py</span>
</span><span id="AuthorizationCodeCredential-37"><a href="#AuthorizationCodeCredential-37"><span class="linenos"> 37</span></a><span class="sd">            :start-after: [START create_authorization_code_credential]</span>
</span><span id="AuthorizationCodeCredential-38"><a href="#AuthorizationCodeCredential-38"><span class="linenos"> 38</span></a><span class="sd">            :end-before: [END create_authorization_code_credential]</span>
</span><span id="AuthorizationCodeCredential-39"><a href="#AuthorizationCodeCredential-39"><span class="linenos"> 39</span></a><span class="sd">            :language: python</span>
</span><span id="AuthorizationCodeCredential-40"><a href="#AuthorizationCodeCredential-40"><span class="linenos"> 40</span></a><span class="sd">            :dedent: 4</span>
</span><span id="AuthorizationCodeCredential-41"><a href="#AuthorizationCodeCredential-41"><span class="linenos"> 41</span></a><span class="sd">            :caption: Create an AuthorizationCodeCredential.</span>
</span><span id="AuthorizationCodeCredential-42"><a href="#AuthorizationCodeCredential-42"><span class="linenos"> 42</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="AuthorizationCodeCredential-43"><a href="#AuthorizationCodeCredential-43"><span class="linenos"> 43</span></a>
</span><span id="AuthorizationCodeCredential-44"><a href="#AuthorizationCodeCredential-44"><span class="linenos"> 44</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="AuthorizationCodeCredential-45"><a href="#AuthorizationCodeCredential-45"><span class="linenos"> 45</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">authorization_code</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="AuthorizationCodeCredential-46"><a href="#AuthorizationCodeCredential-46"><span class="linenos"> 46</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AuthorizationCodeCredential-47"><a href="#AuthorizationCodeCredential-47"><span class="linenos"> 47</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_authorization_code</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">authorization_code</span>
</span><span id="AuthorizationCodeCredential-48"><a href="#AuthorizationCodeCredential-48"><span class="linenos"> 48</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span> <span class="o">=</span> <span class="n">client_id</span>
</span><span id="AuthorizationCodeCredential-49"><a href="#AuthorizationCodeCredential-49"><span class="linenos"> 49</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client_secret</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;client_secret&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="AuthorizationCodeCredential-50"><a href="#AuthorizationCodeCredential-50"><span class="linenos"> 50</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;client&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="n">AadClient</span><span class="p">(</span><span class="n">tenant_id</span><span class="p">,</span> <span class="n">client_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="AuthorizationCodeCredential-51"><a href="#AuthorizationCodeCredential-51"><span class="linenos"> 51</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_redirect_uri</span> <span class="o">=</span> <span class="n">redirect_uri</span>
</span><span id="AuthorizationCodeCredential-52"><a href="#AuthorizationCodeCredential-52"><span class="linenos"> 52</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">AuthorizationCodeCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="AuthorizationCodeCredential-53"><a href="#AuthorizationCodeCredential-53"><span class="linenos"> 53</span></a>
</span><span id="AuthorizationCodeCredential-54"><a href="#AuthorizationCodeCredential-54"><span class="linenos"> 54</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AuthorizationCodeCredential&quot;</span><span class="p">:</span>
</span><span id="AuthorizationCodeCredential-55"><a href="#AuthorizationCodeCredential-55"><span class="linenos"> 55</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="fm">__enter__</span><span class="p">()</span>
</span><span id="AuthorizationCodeCredential-56"><a href="#AuthorizationCodeCredential-56"><span class="linenos"> 56</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="AuthorizationCodeCredential-57"><a href="#AuthorizationCodeCredential-57"><span class="linenos"> 57</span></a>
</span><span id="AuthorizationCodeCredential-58"><a href="#AuthorizationCodeCredential-58"><span class="linenos"> 58</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AuthorizationCodeCredential-59"><a href="#AuthorizationCodeCredential-59"><span class="linenos"> 59</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
</span><span id="AuthorizationCodeCredential-60"><a href="#AuthorizationCodeCredential-60"><span class="linenos"> 60</span></a>
</span><span id="AuthorizationCodeCredential-61"><a href="#AuthorizationCodeCredential-61"><span class="linenos"> 61</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AuthorizationCodeCredential-62"><a href="#AuthorizationCodeCredential-62"><span class="linenos"> 62</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the credential&#39;s transport session.&quot;&quot;&quot;</span>
</span><span id="AuthorizationCodeCredential-63"><a href="#AuthorizationCodeCredential-63"><span class="linenos"> 63</span></a>        <span class="bp">self</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">()</span>
</span><span id="AuthorizationCodeCredential-64"><a href="#AuthorizationCodeCredential-64"><span class="linenos"> 64</span></a>
</span><span id="AuthorizationCodeCredential-65"><a href="#AuthorizationCodeCredential-65"><span class="linenos"> 65</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="AuthorizationCodeCredential-66"><a href="#AuthorizationCodeCredential-66"><span class="linenos"> 66</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="AuthorizationCodeCredential-67"><a href="#AuthorizationCodeCredential-67"><span class="linenos"> 67</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="AuthorizationCodeCredential-68"><a href="#AuthorizationCodeCredential-68"><span class="linenos"> 68</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AuthorizationCodeCredential-69"><a href="#AuthorizationCodeCredential-69"><span class="linenos"> 69</span></a>
</span><span id="AuthorizationCodeCredential-70"><a href="#AuthorizationCodeCredential-70"><span class="linenos"> 70</span></a><span class="sd">        This method is called automatically by Azure SDK clients.</span>
</span><span id="AuthorizationCodeCredential-71"><a href="#AuthorizationCodeCredential-71"><span class="linenos"> 71</span></a>
</span><span id="AuthorizationCodeCredential-72"><a href="#AuthorizationCodeCredential-72"><span class="linenos"> 72</span></a><span class="sd">        The first time this method is called, the credential will redeem its authorization code. On subsequent calls</span>
</span><span id="AuthorizationCodeCredential-73"><a href="#AuthorizationCodeCredential-73"><span class="linenos"> 73</span></a><span class="sd">        the credential will return a cached access token or redeem a refresh token, if it acquired a refresh token upon</span>
</span><span id="AuthorizationCodeCredential-74"><a href="#AuthorizationCodeCredential-74"><span class="linenos"> 74</span></a><span class="sd">        redeeming the authorization code.</span>
</span><span id="AuthorizationCodeCredential-75"><a href="#AuthorizationCodeCredential-75"><span class="linenos"> 75</span></a>
</span><span id="AuthorizationCodeCredential-76"><a href="#AuthorizationCodeCredential-76"><span class="linenos"> 76</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="AuthorizationCodeCredential-77"><a href="#AuthorizationCodeCredential-77"><span class="linenos"> 77</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="AuthorizationCodeCredential-78"><a href="#AuthorizationCodeCredential-78"><span class="linenos"> 78</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AuthorizationCodeCredential-79"><a href="#AuthorizationCodeCredential-79"><span class="linenos"> 79</span></a><span class="sd">        :keyword str claims: additional claims required in the token, such as those returned in a resource provider&#39;s</span>
</span><span id="AuthorizationCodeCredential-80"><a href="#AuthorizationCodeCredential-80"><span class="linenos"> 80</span></a><span class="sd">            claims challenge following an authorization failure.</span>
</span><span id="AuthorizationCodeCredential-81"><a href="#AuthorizationCodeCredential-81"><span class="linenos"> 81</span></a><span class="sd">        :keyword str tenant_id: optional tenant to include in the token request.</span>
</span><span id="AuthorizationCodeCredential-82"><a href="#AuthorizationCodeCredential-82"><span class="linenos"> 82</span></a>
</span><span id="AuthorizationCodeCredential-83"><a href="#AuthorizationCodeCredential-83"><span class="linenos"> 83</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="AuthorizationCodeCredential-84"><a href="#AuthorizationCodeCredential-84"><span class="linenos"> 84</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="AuthorizationCodeCredential-85"><a href="#AuthorizationCodeCredential-85"><span class="linenos"> 85</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: authentication failed. The error&#39;s ``message``</span>
</span><span id="AuthorizationCodeCredential-86"><a href="#AuthorizationCodeCredential-86"><span class="linenos"> 86</span></a><span class="sd">          attribute gives a reason. Any error response from Microsoft Entra ID is available as the error&#39;s</span>
</span><span id="AuthorizationCodeCredential-87"><a href="#AuthorizationCodeCredential-87"><span class="linenos"> 87</span></a><span class="sd">          ``response`` attribute.</span>
</span><span id="AuthorizationCodeCredential-88"><a href="#AuthorizationCodeCredential-88"><span class="linenos"> 88</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthorizationCodeCredential-89"><a href="#AuthorizationCodeCredential-89"><span class="linenos"> 89</span></a>
</span><span id="AuthorizationCodeCredential-90"><a href="#AuthorizationCodeCredential-90"><span class="linenos"> 90</span></a>        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">AuthorizationCodeCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
</span><span id="AuthorizationCodeCredential-91"><a href="#AuthorizationCodeCredential-91"><span class="linenos"> 91</span></a>            <span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_client_secret</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="AuthorizationCodeCredential-92"><a href="#AuthorizationCodeCredential-92"><span class="linenos"> 92</span></a>        <span class="p">)</span>
</span><span id="AuthorizationCodeCredential-93"><a href="#AuthorizationCodeCredential-93"><span class="linenos"> 93</span></a>
</span><span id="AuthorizationCodeCredential-94"><a href="#AuthorizationCodeCredential-94"><span class="linenos"> 94</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="AuthorizationCodeCredential-95"><a href="#AuthorizationCodeCredential-95"><span class="linenos"> 95</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AuthorizationCodeCredential-96"><a href="#AuthorizationCodeCredential-96"><span class="linenos"> 96</span></a>
</span><span id="AuthorizationCodeCredential-97"><a href="#AuthorizationCodeCredential-97"><span class="linenos"> 97</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="AuthorizationCodeCredential-98"><a href="#AuthorizationCodeCredential-98"><span class="linenos"> 98</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients.</span>
</span><span id="AuthorizationCodeCredential-99"><a href="#AuthorizationCodeCredential-99"><span class="linenos"> 99</span></a>
</span><span id="AuthorizationCodeCredential-100"><a href="#AuthorizationCodeCredential-100"><span class="linenos">100</span></a><span class="sd">        The first time this method is called, the credential will redeem its authorization code. On subsequent calls</span>
</span><span id="AuthorizationCodeCredential-101"><a href="#AuthorizationCodeCredential-101"><span class="linenos">101</span></a><span class="sd">        the credential will return a cached access token or redeem a refresh token, if it acquired a refresh token upon</span>
</span><span id="AuthorizationCodeCredential-102"><a href="#AuthorizationCodeCredential-102"><span class="linenos">102</span></a><span class="sd">        redeeming the authorization code.</span>
</span><span id="AuthorizationCodeCredential-103"><a href="#AuthorizationCodeCredential-103"><span class="linenos">103</span></a>
</span><span id="AuthorizationCodeCredential-104"><a href="#AuthorizationCodeCredential-104"><span class="linenos">104</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="AuthorizationCodeCredential-105"><a href="#AuthorizationCodeCredential-105"><span class="linenos">105</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AuthorizationCodeCredential-106"><a href="#AuthorizationCodeCredential-106"><span class="linenos">106</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="AuthorizationCodeCredential-107"><a href="#AuthorizationCodeCredential-107"><span class="linenos">107</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="AuthorizationCodeCredential-108"><a href="#AuthorizationCodeCredential-108"><span class="linenos">108</span></a>
</span><span id="AuthorizationCodeCredential-109"><a href="#AuthorizationCodeCredential-109"><span class="linenos">109</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="AuthorizationCodeCredential-110"><a href="#AuthorizationCodeCredential-110"><span class="linenos">110</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="AuthorizationCodeCredential-111"><a href="#AuthorizationCodeCredential-111"><span class="linenos">111</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: authentication failed. The error&#39;s ``message``</span>
</span><span id="AuthorizationCodeCredential-112"><a href="#AuthorizationCodeCredential-112"><span class="linenos">112</span></a><span class="sd">          attribute gives a reason. Any error response from Microsoft Entra ID is available as the error&#39;s</span>
</span><span id="AuthorizationCodeCredential-113"><a href="#AuthorizationCodeCredential-113"><span class="linenos">113</span></a><span class="sd">          ``response`` attribute.</span>
</span><span id="AuthorizationCodeCredential-114"><a href="#AuthorizationCodeCredential-114"><span class="linenos">114</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthorizationCodeCredential-115"><a href="#AuthorizationCodeCredential-115"><span class="linenos">115</span></a>        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_get_token_base</span><span class="p">(</span>
</span><span id="AuthorizationCodeCredential-116"><a href="#AuthorizationCodeCredential-116"><span class="linenos">116</span></a>            <span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_client_secret</span><span class="p">,</span> <span class="n">base_method_name</span><span class="o">=</span><span class="s2">&quot;get_token_info&quot;</span>
</span><span id="AuthorizationCodeCredential-117"><a href="#AuthorizationCodeCredential-117"><span class="linenos">117</span></a>        <span class="p">)</span>
</span><span id="AuthorizationCodeCredential-118"><a href="#AuthorizationCodeCredential-118"><span class="linenos">118</span></a>
</span><span id="AuthorizationCodeCredential-119"><a href="#AuthorizationCodeCredential-119"><span class="linenos">119</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_acquire_token_silently</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AccessTokenInfo</span><span class="p">]:</span>
</span><span id="AuthorizationCodeCredential-120"><a href="#AuthorizationCodeCredential-120"><span class="linenos">120</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_cached_access_token</span><span class="p">(</span><span class="n">scopes</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="AuthorizationCodeCredential-121"><a href="#AuthorizationCodeCredential-121"><span class="linenos">121</span></a>
</span><span id="AuthorizationCodeCredential-122"><a href="#AuthorizationCodeCredential-122"><span class="linenos">122</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_request_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="AuthorizationCodeCredential-123"><a href="#AuthorizationCodeCredential-123"><span class="linenos">123</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_authorization_code</span><span class="p">:</span>
</span><span id="AuthorizationCodeCredential-124"><a href="#AuthorizationCodeCredential-124"><span class="linenos">124</span></a>            <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">obtain_token_by_authorization_code</span><span class="p">(</span>
</span><span id="AuthorizationCodeCredential-125"><a href="#AuthorizationCodeCredential-125"><span class="linenos">125</span></a>                <span class="n">scopes</span><span class="o">=</span><span class="n">scopes</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_authorization_code</span><span class="p">,</span> <span class="n">redirect_uri</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_redirect_uri</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="AuthorizationCodeCredential-126"><a href="#AuthorizationCodeCredential-126"><span class="linenos">126</span></a>            <span class="p">)</span>
</span><span id="AuthorizationCodeCredential-127"><a href="#AuthorizationCodeCredential-127"><span class="linenos">127</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_authorization_code</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># auth codes are single-use</span>
</span><span id="AuthorizationCodeCredential-128"><a href="#AuthorizationCodeCredential-128"><span class="linenos">128</span></a>            <span class="k">return</span> <span class="n">token</span>
</span><span id="AuthorizationCodeCredential-129"><a href="#AuthorizationCodeCredential-129"><span class="linenos">129</span></a>
</span><span id="AuthorizationCodeCredential-130"><a href="#AuthorizationCodeCredential-130"><span class="linenos">130</span></a>        <span class="n">token</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="AuthorizationCodeCredential-131"><a href="#AuthorizationCodeCredential-131"><span class="linenos">131</span></a>        <span class="k">for</span> <span class="n">refresh_token</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_cached_refresh_tokens</span><span class="p">(</span><span class="n">scopes</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="AuthorizationCodeCredential-132"><a href="#AuthorizationCodeCredential-132"><span class="linenos">132</span></a>            <span class="k">if</span> <span class="s2">&quot;secret&quot;</span> <span class="ow">in</span> <span class="n">refresh_token</span><span class="p">:</span>
</span><span id="AuthorizationCodeCredential-133"><a href="#AuthorizationCodeCredential-133"><span class="linenos">133</span></a>                <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">obtain_token_by_refresh_token</span><span class="p">(</span><span class="n">scopes</span><span class="p">,</span> <span class="n">refresh_token</span><span class="p">[</span><span class="s2">&quot;secret&quot;</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="AuthorizationCodeCredential-134"><a href="#AuthorizationCodeCredential-134"><span class="linenos">134</span></a>                <span class="k">if</span> <span class="n">token</span><span class="p">:</span>
</span><span id="AuthorizationCodeCredential-135"><a href="#AuthorizationCodeCredential-135"><span class="linenos">135</span></a>                    <span class="k">break</span>
</span><span id="AuthorizationCodeCredential-136"><a href="#AuthorizationCodeCredential-136"><span class="linenos">136</span></a>
</span><span id="AuthorizationCodeCredential-137"><a href="#AuthorizationCodeCredential-137"><span class="linenos">137</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">token</span><span class="p">:</span>
</span><span id="AuthorizationCodeCredential-138"><a href="#AuthorizationCodeCredential-138"><span class="linenos">138</span></a>            <span class="k">raise</span> <span class="n">ClientAuthenticationError</span><span class="p">(</span>
</span><span id="AuthorizationCodeCredential-139"><a href="#AuthorizationCodeCredential-139"><span class="linenos">139</span></a>                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;No authorization code, cached access token, or refresh token available.&quot;</span>
</span><span id="AuthorizationCodeCredential-140"><a href="#AuthorizationCodeCredential-140"><span class="linenos">140</span></a>            <span class="p">)</span>
</span><span id="AuthorizationCodeCredential-141"><a href="#AuthorizationCodeCredential-141"><span class="linenos">141</span></a>
</span><span id="AuthorizationCodeCredential-142"><a href="#AuthorizationCodeCredential-142"><span class="linenos">142</span></a>        <span class="k">return</span> <span class="n">token</span>
</span></pre></div>


            <div class="docstring"><p>Authenticates by redeeming an authorization code previously obtained from Microsoft Entra ID.</p>

<p>See <a href="https://learn.microsoft.com/entra/identity-platform/v2-oauth2-auth-code-flow">Microsoft Entra ID documentation
</a>_ for more information
about the authentication flow.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str tenant_id</strong>:  ID of the application's Microsoft Entra tenant. Also called its "directory" ID.</li>
<li><strong>str client_id</strong>:  The application's client ID</li>
<li><strong>str authorization_code</strong>:  The authorization code from the user's log-in</li>
<li><strong>str redirect_uri</strong>:  The application's redirect URI. Must match the URI used to request the authorization code.</li>
</ul>

<p>:keyword str authority: Authority of a Microsoft Entra endpoint, for example "login.microsoftonline.com",
    the authority for Azure Public Cloud (which is the default). <code>~<a href="#AzureAuthorityHosts">azure.identity.AzureAuthorityHosts</a></code>
    defines authorities for other clouds.
:keyword str client_secret: One of the application's client secrets. Required only for web apps and web APIs.
:keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified "tenant_id"
    for which the credential may acquire tokens. Add the wildcard value "*" to allow the credential to
    acquire tokens for any tenant the application can access.</p>

<p>.. admonition:: Example:</p>

<pre><code>.. literalinclude:: ../samples/credential_creation_code_snippets.py
    :start-after: [START create_authorization_code_credential]
    :end-before: [END create_authorization_code_credential]
    :language: python
    :dedent: 4
    :caption: Create an AuthorizationCodeCredential.
</code></pre>
</div>


                            <div id="AuthorizationCodeCredential.__init__" class="classattr">
                                        <input id="AuthorizationCodeCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">AuthorizationCodeCredential</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">authorization_code</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="AuthorizationCodeCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AuthorizationCodeCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AuthorizationCodeCredential.__init__-44"><a href="#AuthorizationCodeCredential.__init__-44"><span class="linenos">44</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="AuthorizationCodeCredential.__init__-45"><a href="#AuthorizationCodeCredential.__init__-45"><span class="linenos">45</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">authorization_code</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="AuthorizationCodeCredential.__init__-46"><a href="#AuthorizationCodeCredential.__init__-46"><span class="linenos">46</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AuthorizationCodeCredential.__init__-47"><a href="#AuthorizationCodeCredential.__init__-47"><span class="linenos">47</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_authorization_code</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">authorization_code</span>
</span><span id="AuthorizationCodeCredential.__init__-48"><a href="#AuthorizationCodeCredential.__init__-48"><span class="linenos">48</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span> <span class="o">=</span> <span class="n">client_id</span>
</span><span id="AuthorizationCodeCredential.__init__-49"><a href="#AuthorizationCodeCredential.__init__-49"><span class="linenos">49</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client_secret</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;client_secret&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="AuthorizationCodeCredential.__init__-50"><a href="#AuthorizationCodeCredential.__init__-50"><span class="linenos">50</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;client&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="n">AadClient</span><span class="p">(</span><span class="n">tenant_id</span><span class="p">,</span> <span class="n">client_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="AuthorizationCodeCredential.__init__-51"><a href="#AuthorizationCodeCredential.__init__-51"><span class="linenos">51</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_redirect_uri</span> <span class="o">=</span> <span class="n">redirect_uri</span>
</span><span id="AuthorizationCodeCredential.__init__-52"><a href="#AuthorizationCodeCredential.__init__-52"><span class="linenos">52</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">AuthorizationCodeCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="AuthorizationCodeCredential.close" class="classattr">
                                        <input id="AuthorizationCodeCredential.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="AuthorizationCodeCredential.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AuthorizationCodeCredential.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AuthorizationCodeCredential.close-61"><a href="#AuthorizationCodeCredential.close-61"><span class="linenos">61</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AuthorizationCodeCredential.close-62"><a href="#AuthorizationCodeCredential.close-62"><span class="linenos">62</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the credential&#39;s transport session.&quot;&quot;&quot;</span>
</span><span id="AuthorizationCodeCredential.close-63"><a href="#AuthorizationCodeCredential.close-63"><span class="linenos">63</span></a>        <span class="bp">self</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Close the credential's transport session.</p>
</div>


                            </div>
                            <div id="AuthorizationCodeCredential.get_token" class="classattr">
                                        <input id="AuthorizationCodeCredential.get_token-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_token</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessToken</span>:</span></span>

                <label class="view-source-button" for="AuthorizationCodeCredential.get_token-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AuthorizationCodeCredential.get_token"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AuthorizationCodeCredential.get_token-65"><a href="#AuthorizationCodeCredential.get_token-65"><span class="linenos">65</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="AuthorizationCodeCredential.get_token-66"><a href="#AuthorizationCodeCredential.get_token-66"><span class="linenos">66</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="AuthorizationCodeCredential.get_token-67"><a href="#AuthorizationCodeCredential.get_token-67"><span class="linenos">67</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="AuthorizationCodeCredential.get_token-68"><a href="#AuthorizationCodeCredential.get_token-68"><span class="linenos">68</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AuthorizationCodeCredential.get_token-69"><a href="#AuthorizationCodeCredential.get_token-69"><span class="linenos">69</span></a>
</span><span id="AuthorizationCodeCredential.get_token-70"><a href="#AuthorizationCodeCredential.get_token-70"><span class="linenos">70</span></a><span class="sd">        This method is called automatically by Azure SDK clients.</span>
</span><span id="AuthorizationCodeCredential.get_token-71"><a href="#AuthorizationCodeCredential.get_token-71"><span class="linenos">71</span></a>
</span><span id="AuthorizationCodeCredential.get_token-72"><a href="#AuthorizationCodeCredential.get_token-72"><span class="linenos">72</span></a><span class="sd">        The first time this method is called, the credential will redeem its authorization code. On subsequent calls</span>
</span><span id="AuthorizationCodeCredential.get_token-73"><a href="#AuthorizationCodeCredential.get_token-73"><span class="linenos">73</span></a><span class="sd">        the credential will return a cached access token or redeem a refresh token, if it acquired a refresh token upon</span>
</span><span id="AuthorizationCodeCredential.get_token-74"><a href="#AuthorizationCodeCredential.get_token-74"><span class="linenos">74</span></a><span class="sd">        redeeming the authorization code.</span>
</span><span id="AuthorizationCodeCredential.get_token-75"><a href="#AuthorizationCodeCredential.get_token-75"><span class="linenos">75</span></a>
</span><span id="AuthorizationCodeCredential.get_token-76"><a href="#AuthorizationCodeCredential.get_token-76"><span class="linenos">76</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="AuthorizationCodeCredential.get_token-77"><a href="#AuthorizationCodeCredential.get_token-77"><span class="linenos">77</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="AuthorizationCodeCredential.get_token-78"><a href="#AuthorizationCodeCredential.get_token-78"><span class="linenos">78</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AuthorizationCodeCredential.get_token-79"><a href="#AuthorizationCodeCredential.get_token-79"><span class="linenos">79</span></a><span class="sd">        :keyword str claims: additional claims required in the token, such as those returned in a resource provider&#39;s</span>
</span><span id="AuthorizationCodeCredential.get_token-80"><a href="#AuthorizationCodeCredential.get_token-80"><span class="linenos">80</span></a><span class="sd">            claims challenge following an authorization failure.</span>
</span><span id="AuthorizationCodeCredential.get_token-81"><a href="#AuthorizationCodeCredential.get_token-81"><span class="linenos">81</span></a><span class="sd">        :keyword str tenant_id: optional tenant to include in the token request.</span>
</span><span id="AuthorizationCodeCredential.get_token-82"><a href="#AuthorizationCodeCredential.get_token-82"><span class="linenos">82</span></a>
</span><span id="AuthorizationCodeCredential.get_token-83"><a href="#AuthorizationCodeCredential.get_token-83"><span class="linenos">83</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="AuthorizationCodeCredential.get_token-84"><a href="#AuthorizationCodeCredential.get_token-84"><span class="linenos">84</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="AuthorizationCodeCredential.get_token-85"><a href="#AuthorizationCodeCredential.get_token-85"><span class="linenos">85</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: authentication failed. The error&#39;s ``message``</span>
</span><span id="AuthorizationCodeCredential.get_token-86"><a href="#AuthorizationCodeCredential.get_token-86"><span class="linenos">86</span></a><span class="sd">          attribute gives a reason. Any error response from Microsoft Entra ID is available as the error&#39;s</span>
</span><span id="AuthorizationCodeCredential.get_token-87"><a href="#AuthorizationCodeCredential.get_token-87"><span class="linenos">87</span></a><span class="sd">          ``response`` attribute.</span>
</span><span id="AuthorizationCodeCredential.get_token-88"><a href="#AuthorizationCodeCredential.get_token-88"><span class="linenos">88</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthorizationCodeCredential.get_token-89"><a href="#AuthorizationCodeCredential.get_token-89"><span class="linenos">89</span></a>
</span><span id="AuthorizationCodeCredential.get_token-90"><a href="#AuthorizationCodeCredential.get_token-90"><span class="linenos">90</span></a>        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">AuthorizationCodeCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
</span><span id="AuthorizationCodeCredential.get_token-91"><a href="#AuthorizationCodeCredential.get_token-91"><span class="linenos">91</span></a>            <span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_client_secret</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="AuthorizationCodeCredential.get_token-92"><a href="#AuthorizationCodeCredential.get_token-92"><span class="linenos">92</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code>.</p>

<p>This method is called automatically by Azure SDK clients.</p>

<p>The first time this method is called, the credential will redeem its authorization code. On subsequent calls
the credential will return a cached access token or redeem a refresh token, if it acquired a refresh token upon
redeeming the authorization code.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scopes for the access token. This method requires at least one scope.
For more information about scopes, see
<a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword str claims: additional claims required in the token, such as those returned in a resource provider's
claims challenge following an authorization failure.
:keyword str tenant_id: optional tenant to include in the token request.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An access token with the desired scopes.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~azure.core.exceptions.ClientAuthenticationError</strong>:  authentication failed. The error's <code>message</code>
attribute gives a reason. Any error response from Microsoft Entra ID is available as the error's
<code>response</code> attribute.</li>
</ul>
</div>


                            </div>
                            <div id="AuthorizationCodeCredential.get_token_info" class="classattr">
                                        <input id="AuthorizationCodeCredential.get_token_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_token_info</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessTokenInfo</span>:</span></span>

                <label class="view-source-button" for="AuthorizationCodeCredential.get_token_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AuthorizationCodeCredential.get_token_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AuthorizationCodeCredential.get_token_info-94"><a href="#AuthorizationCodeCredential.get_token_info-94"><span class="linenos"> 94</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="AuthorizationCodeCredential.get_token_info-95"><a href="#AuthorizationCodeCredential.get_token_info-95"><span class="linenos"> 95</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AuthorizationCodeCredential.get_token_info-96"><a href="#AuthorizationCodeCredential.get_token_info-96"><span class="linenos"> 96</span></a>
</span><span id="AuthorizationCodeCredential.get_token_info-97"><a href="#AuthorizationCodeCredential.get_token_info-97"><span class="linenos"> 97</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="AuthorizationCodeCredential.get_token_info-98"><a href="#AuthorizationCodeCredential.get_token_info-98"><span class="linenos"> 98</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients.</span>
</span><span id="AuthorizationCodeCredential.get_token_info-99"><a href="#AuthorizationCodeCredential.get_token_info-99"><span class="linenos"> 99</span></a>
</span><span id="AuthorizationCodeCredential.get_token_info-100"><a href="#AuthorizationCodeCredential.get_token_info-100"><span class="linenos">100</span></a><span class="sd">        The first time this method is called, the credential will redeem its authorization code. On subsequent calls</span>
</span><span id="AuthorizationCodeCredential.get_token_info-101"><a href="#AuthorizationCodeCredential.get_token_info-101"><span class="linenos">101</span></a><span class="sd">        the credential will return a cached access token or redeem a refresh token, if it acquired a refresh token upon</span>
</span><span id="AuthorizationCodeCredential.get_token_info-102"><a href="#AuthorizationCodeCredential.get_token_info-102"><span class="linenos">102</span></a><span class="sd">        redeeming the authorization code.</span>
</span><span id="AuthorizationCodeCredential.get_token_info-103"><a href="#AuthorizationCodeCredential.get_token_info-103"><span class="linenos">103</span></a>
</span><span id="AuthorizationCodeCredential.get_token_info-104"><a href="#AuthorizationCodeCredential.get_token_info-104"><span class="linenos">104</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="AuthorizationCodeCredential.get_token_info-105"><a href="#AuthorizationCodeCredential.get_token_info-105"><span class="linenos">105</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AuthorizationCodeCredential.get_token_info-106"><a href="#AuthorizationCodeCredential.get_token_info-106"><span class="linenos">106</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="AuthorizationCodeCredential.get_token_info-107"><a href="#AuthorizationCodeCredential.get_token_info-107"><span class="linenos">107</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="AuthorizationCodeCredential.get_token_info-108"><a href="#AuthorizationCodeCredential.get_token_info-108"><span class="linenos">108</span></a>
</span><span id="AuthorizationCodeCredential.get_token_info-109"><a href="#AuthorizationCodeCredential.get_token_info-109"><span class="linenos">109</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="AuthorizationCodeCredential.get_token_info-110"><a href="#AuthorizationCodeCredential.get_token_info-110"><span class="linenos">110</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="AuthorizationCodeCredential.get_token_info-111"><a href="#AuthorizationCodeCredential.get_token_info-111"><span class="linenos">111</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: authentication failed. The error&#39;s ``message``</span>
</span><span id="AuthorizationCodeCredential.get_token_info-112"><a href="#AuthorizationCodeCredential.get_token_info-112"><span class="linenos">112</span></a><span class="sd">          attribute gives a reason. Any error response from Microsoft Entra ID is available as the error&#39;s</span>
</span><span id="AuthorizationCodeCredential.get_token_info-113"><a href="#AuthorizationCodeCredential.get_token_info-113"><span class="linenos">113</span></a><span class="sd">          ``response`` attribute.</span>
</span><span id="AuthorizationCodeCredential.get_token_info-114"><a href="#AuthorizationCodeCredential.get_token_info-114"><span class="linenos">114</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AuthorizationCodeCredential.get_token_info-115"><a href="#AuthorizationCodeCredential.get_token_info-115"><span class="linenos">115</span></a>        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_get_token_base</span><span class="p">(</span>
</span><span id="AuthorizationCodeCredential.get_token_info-116"><a href="#AuthorizationCodeCredential.get_token_info-116"><span class="linenos">116</span></a>            <span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_client_secret</span><span class="p">,</span> <span class="n">base_method_name</span><span class="o">=</span><span class="s2">&quot;get_token_info&quot;</span>
</span><span id="AuthorizationCodeCredential.get_token_info-117"><a href="#AuthorizationCodeCredential.get_token_info-117"><span class="linenos">117</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code>.</p>

<p>This is an alternative to <code><a href="#AuthorizationCodeCredential.get_token">get_token</a></code> to enable certain scenarios that require additional properties
on the token. This method is called automatically by Azure SDK clients.</p>

<p>The first time this method is called, the credential will redeem its authorization code. On subsequent calls
the credential will return a cached access token or redeem a refresh token, if it acquired a refresh token upon
redeeming the authorization code.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scopes for the access token. This method requires at least one scope.
For more information about scopes, see <a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.
:paramtype options: ~azure.core.credentials.TokenRequestOptions</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An AccessTokenInfo instance containing information about the token.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~azure.core.exceptions.ClientAuthenticationError</strong>:  authentication failed. The error's <code>message</code>
attribute gives a reason. Any error response from Microsoft Entra ID is available as the error's
<code>response</code> attribute.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="AzureAuthorityHosts">
                            <input id="AzureAuthorityHosts-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">AzureAuthorityHosts</span>:

                <label class="view-source-button" for="AzureAuthorityHosts-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzureAuthorityHosts"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzureAuthorityHosts-30"><a href="#AzureAuthorityHosts-30"><span class="linenos">30</span></a><span class="k">class</span><span class="w"> </span><span class="nc">AzureAuthorityHosts</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">AzureAuthorityHostsMeta</span><span class="p">):</span>
</span><span id="AzureAuthorityHosts-31"><a href="#AzureAuthorityHosts-31"><span class="linenos">31</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Constants for Microsoft Entra ID authority hosts.</span>
</span><span id="AzureAuthorityHosts-32"><a href="#AzureAuthorityHosts-32"><span class="linenos">32</span></a><span class="sd">    These are used to construct authority URLs for various Azure environments.</span>
</span><span id="AzureAuthorityHosts-33"><a href="#AzureAuthorityHosts-33"><span class="linenos">33</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="AzureAuthorityHosts-34"><a href="#AzureAuthorityHosts-34"><span class="linenos">34</span></a>
</span><span id="AzureAuthorityHosts-35"><a href="#AzureAuthorityHosts-35"><span class="linenos">35</span></a>    <span class="n">AZURE_CHINA</span> <span class="o">=</span> <span class="s2">&quot;login.chinacloudapi.cn&quot;</span>
</span><span id="AzureAuthorityHosts-36"><a href="#AzureAuthorityHosts-36"><span class="linenos">36</span></a>    <span class="n">AZURE_GOVERNMENT</span> <span class="o">=</span> <span class="s2">&quot;login.microsoftonline.us&quot;</span>
</span><span id="AzureAuthorityHosts-37"><a href="#AzureAuthorityHosts-37"><span class="linenos">37</span></a>    <span class="n">AZURE_PUBLIC_CLOUD</span> <span class="o">=</span> <span class="s2">&quot;login.microsoftonline.com&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Constants for Microsoft Entra ID authority hosts.
These are used to construct authority URLs for various Azure environments.</p>
</div>


                            <div id="AzureAuthorityHosts.AZURE_CHINA" class="classattr">
                                <div class="attr variable">
            <span class="name">AZURE_CHINA</span>        =
<span class="default_value">&#39;login.chinacloudapi.cn&#39;</span>

        
    </div>
    <a class="headerlink" href="#AzureAuthorityHosts.AZURE_CHINA"></a>
    
    

                            </div>
                            <div id="AzureAuthorityHosts.AZURE_GOVERNMENT" class="classattr">
                                <div class="attr variable">
            <span class="name">AZURE_GOVERNMENT</span>        =
<span class="default_value">&#39;login.microsoftonline.us&#39;</span>

        
    </div>
    <a class="headerlink" href="#AzureAuthorityHosts.AZURE_GOVERNMENT"></a>
    
    

                            </div>
                            <div id="AzureAuthorityHosts.AZURE_PUBLIC_CLOUD" class="classattr">
                                <div class="attr variable">
            <span class="name">AZURE_PUBLIC_CLOUD</span>        =
<span class="default_value">&#39;login.microsoftonline.com&#39;</span>

        
    </div>
    <a class="headerlink" href="#AzureAuthorityHosts.AZURE_PUBLIC_CLOUD"></a>
    
    

                            </div>
                </section>
                <section id="AzureCliCredential">
                            <input id="AzureCliCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">AzureCliCredential</span>:

                <label class="view-source-button" for="AzureCliCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzureCliCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzureCliCredential-40"><a href="#AzureCliCredential-40"><span class="linenos"> 40</span></a><span class="k">class</span><span class="w"> </span><span class="nc">AzureCliCredential</span><span class="p">:</span>
</span><span id="AzureCliCredential-41"><a href="#AzureCliCredential-41"><span class="linenos"> 41</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticates by requesting a token from the Azure CLI.</span>
</span><span id="AzureCliCredential-42"><a href="#AzureCliCredential-42"><span class="linenos"> 42</span></a>
</span><span id="AzureCliCredential-43"><a href="#AzureCliCredential-43"><span class="linenos"> 43</span></a><span class="sd">    This requires previously logging in to Azure via &quot;az login&quot;, and will use the CLI&#39;s currently logged in identity.</span>
</span><span id="AzureCliCredential-44"><a href="#AzureCliCredential-44"><span class="linenos"> 44</span></a>
</span><span id="AzureCliCredential-45"><a href="#AzureCliCredential-45"><span class="linenos"> 45</span></a><span class="sd">    :keyword str tenant_id: Optional tenant to include in the token request.</span>
</span><span id="AzureCliCredential-46"><a href="#AzureCliCredential-46"><span class="linenos"> 46</span></a><span class="sd">    :keyword str subscription: The name or ID of a subscription. Set this to acquire tokens for an account other</span>
</span><span id="AzureCliCredential-47"><a href="#AzureCliCredential-47"><span class="linenos"> 47</span></a><span class="sd">        than the Azure CLI&#39;s current account.</span>
</span><span id="AzureCliCredential-48"><a href="#AzureCliCredential-48"><span class="linenos"> 48</span></a><span class="sd">    :keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified &quot;tenant_id&quot;</span>
</span><span id="AzureCliCredential-49"><a href="#AzureCliCredential-49"><span class="linenos"> 49</span></a><span class="sd">        for which the credential may acquire tokens. Add the wildcard value &quot;*&quot; to allow the credential to</span>
</span><span id="AzureCliCredential-50"><a href="#AzureCliCredential-50"><span class="linenos"> 50</span></a><span class="sd">        acquire tokens for any tenant the application can access.</span>
</span><span id="AzureCliCredential-51"><a href="#AzureCliCredential-51"><span class="linenos"> 51</span></a><span class="sd">    :keyword int process_timeout: Seconds to wait for the Azure CLI process to respond. Defaults to 10 seconds.</span>
</span><span id="AzureCliCredential-52"><a href="#AzureCliCredential-52"><span class="linenos"> 52</span></a>
</span><span id="AzureCliCredential-53"><a href="#AzureCliCredential-53"><span class="linenos"> 53</span></a><span class="sd">    .. admonition:: Example:</span>
</span><span id="AzureCliCredential-54"><a href="#AzureCliCredential-54"><span class="linenos"> 54</span></a>
</span><span id="AzureCliCredential-55"><a href="#AzureCliCredential-55"><span class="linenos"> 55</span></a><span class="sd">        .. literalinclude:: ../samples/credential_creation_code_snippets.py</span>
</span><span id="AzureCliCredential-56"><a href="#AzureCliCredential-56"><span class="linenos"> 56</span></a><span class="sd">            :start-after: [START create_azure_cli_credential]</span>
</span><span id="AzureCliCredential-57"><a href="#AzureCliCredential-57"><span class="linenos"> 57</span></a><span class="sd">            :end-before: [END create_azure_cli_credential]</span>
</span><span id="AzureCliCredential-58"><a href="#AzureCliCredential-58"><span class="linenos"> 58</span></a><span class="sd">            :language: python</span>
</span><span id="AzureCliCredential-59"><a href="#AzureCliCredential-59"><span class="linenos"> 59</span></a><span class="sd">            :dedent: 4</span>
</span><span id="AzureCliCredential-60"><a href="#AzureCliCredential-60"><span class="linenos"> 60</span></a><span class="sd">            :caption: Create an AzureCliCredential.</span>
</span><span id="AzureCliCredential-61"><a href="#AzureCliCredential-61"><span class="linenos"> 61</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="AzureCliCredential-62"><a href="#AzureCliCredential-62"><span class="linenos"> 62</span></a>
</span><span id="AzureCliCredential-63"><a href="#AzureCliCredential-63"><span class="linenos"> 63</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="AzureCliCredential-64"><a href="#AzureCliCredential-64"><span class="linenos"> 64</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AzureCliCredential-65"><a href="#AzureCliCredential-65"><span class="linenos"> 65</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AzureCliCredential-66"><a href="#AzureCliCredential-66"><span class="linenos"> 66</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="AzureCliCredential-67"><a href="#AzureCliCredential-67"><span class="linenos"> 67</span></a>        <span class="n">subscription</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AzureCliCredential-68"><a href="#AzureCliCredential-68"><span class="linenos"> 68</span></a>        <span class="n">additionally_allowed_tenants</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AzureCliCredential-69"><a href="#AzureCliCredential-69"><span class="linenos"> 69</span></a>        <span class="n">process_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
</span><span id="AzureCliCredential-70"><a href="#AzureCliCredential-70"><span class="linenos"> 70</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzureCliCredential-71"><a href="#AzureCliCredential-71"><span class="linenos"> 71</span></a>        <span class="k">if</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="AzureCliCredential-72"><a href="#AzureCliCredential-72"><span class="linenos"> 72</span></a>            <span class="n">validate_tenant_id</span><span class="p">(</span><span class="n">tenant_id</span><span class="p">)</span>
</span><span id="AzureCliCredential-73"><a href="#AzureCliCredential-73"><span class="linenos"> 73</span></a>        <span class="k">if</span> <span class="n">subscription</span><span class="p">:</span>
</span><span id="AzureCliCredential-74"><a href="#AzureCliCredential-74"><span class="linenos"> 74</span></a>            <span class="n">validate_subscription</span><span class="p">(</span><span class="n">subscription</span><span class="p">)</span>
</span><span id="AzureCliCredential-75"><a href="#AzureCliCredential-75"><span class="linenos"> 75</span></a>
</span><span id="AzureCliCredential-76"><a href="#AzureCliCredential-76"><span class="linenos"> 76</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tenant_id</span> <span class="o">=</span> <span class="n">tenant_id</span>
</span><span id="AzureCliCredential-77"><a href="#AzureCliCredential-77"><span class="linenos"> 77</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">subscription</span> <span class="o">=</span> <span class="n">subscription</span>
</span><span id="AzureCliCredential-78"><a href="#AzureCliCredential-78"><span class="linenos"> 78</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_additionally_allowed_tenants</span> <span class="o">=</span> <span class="n">additionally_allowed_tenants</span> <span class="ow">or</span> <span class="p">[]</span>
</span><span id="AzureCliCredential-79"><a href="#AzureCliCredential-79"><span class="linenos"> 79</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_process_timeout</span> <span class="o">=</span> <span class="n">process_timeout</span>
</span><span id="AzureCliCredential-80"><a href="#AzureCliCredential-80"><span class="linenos"> 80</span></a>
</span><span id="AzureCliCredential-81"><a href="#AzureCliCredential-81"><span class="linenos"> 81</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AzureCliCredential&quot;</span><span class="p">:</span>
</span><span id="AzureCliCredential-82"><a href="#AzureCliCredential-82"><span class="linenos"> 82</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="AzureCliCredential-83"><a href="#AzureCliCredential-83"><span class="linenos"> 83</span></a>
</span><span id="AzureCliCredential-84"><a href="#AzureCliCredential-84"><span class="linenos"> 84</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzureCliCredential-85"><a href="#AzureCliCredential-85"><span class="linenos"> 85</span></a>        <span class="k">pass</span>
</span><span id="AzureCliCredential-86"><a href="#AzureCliCredential-86"><span class="linenos"> 86</span></a>
</span><span id="AzureCliCredential-87"><a href="#AzureCliCredential-87"><span class="linenos"> 87</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzureCliCredential-88"><a href="#AzureCliCredential-88"><span class="linenos"> 88</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calling this method is unnecessary.&quot;&quot;&quot;</span>
</span><span id="AzureCliCredential-89"><a href="#AzureCliCredential-89"><span class="linenos"> 89</span></a>
</span><span id="AzureCliCredential-90"><a href="#AzureCliCredential-90"><span class="linenos"> 90</span></a>    <span class="nd">@log_get_token</span>
</span><span id="AzureCliCredential-91"><a href="#AzureCliCredential-91"><span class="linenos"> 91</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="AzureCliCredential-92"><a href="#AzureCliCredential-92"><span class="linenos"> 92</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AzureCliCredential-93"><a href="#AzureCliCredential-93"><span class="linenos"> 93</span></a>        <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AzureCliCredential-94"><a href="#AzureCliCredential-94"><span class="linenos"> 94</span></a>        <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># pylint:disable=unused-argument</span>
</span><span id="AzureCliCredential-95"><a href="#AzureCliCredential-95"><span class="linenos"> 95</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AzureCliCredential-96"><a href="#AzureCliCredential-96"><span class="linenos"> 96</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="AzureCliCredential-97"><a href="#AzureCliCredential-97"><span class="linenos"> 97</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="AzureCliCredential-98"><a href="#AzureCliCredential-98"><span class="linenos"> 98</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AzureCliCredential-99"><a href="#AzureCliCredential-99"><span class="linenos"> 99</span></a>
</span><span id="AzureCliCredential-100"><a href="#AzureCliCredential-100"><span class="linenos">100</span></a><span class="sd">        This method is called automatically by Azure SDK clients. Applications calling this method directly must</span>
</span><span id="AzureCliCredential-101"><a href="#AzureCliCredential-101"><span class="linenos">101</span></a><span class="sd">        also handle token caching because this credential doesn&#39;t cache the tokens it acquires.</span>
</span><span id="AzureCliCredential-102"><a href="#AzureCliCredential-102"><span class="linenos">102</span></a>
</span><span id="AzureCliCredential-103"><a href="#AzureCliCredential-103"><span class="linenos">103</span></a><span class="sd">        :param str scopes: desired scope for the access token. This credential allows only one scope per request.</span>
</span><span id="AzureCliCredential-104"><a href="#AzureCliCredential-104"><span class="linenos">104</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="AzureCliCredential-105"><a href="#AzureCliCredential-105"><span class="linenos">105</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AzureCliCredential-106"><a href="#AzureCliCredential-106"><span class="linenos">106</span></a><span class="sd">        :keyword str claims: not used by this credential; any value provided will be ignored.</span>
</span><span id="AzureCliCredential-107"><a href="#AzureCliCredential-107"><span class="linenos">107</span></a><span class="sd">        :keyword str tenant_id: optional tenant to include in the token request.</span>
</span><span id="AzureCliCredential-108"><a href="#AzureCliCredential-108"><span class="linenos">108</span></a>
</span><span id="AzureCliCredential-109"><a href="#AzureCliCredential-109"><span class="linenos">109</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="AzureCliCredential-110"><a href="#AzureCliCredential-110"><span class="linenos">110</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="AzureCliCredential-111"><a href="#AzureCliCredential-111"><span class="linenos">111</span></a>
</span><span id="AzureCliCredential-112"><a href="#AzureCliCredential-112"><span class="linenos">112</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the credential was unable to invoke the Azure CLI.</span>
</span><span id="AzureCliCredential-113"><a href="#AzureCliCredential-113"><span class="linenos">113</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: the credential invoked the Azure CLI but didn&#39;t</span>
</span><span id="AzureCliCredential-114"><a href="#AzureCliCredential-114"><span class="linenos">114</span></a><span class="sd">          receive an access token.</span>
</span><span id="AzureCliCredential-115"><a href="#AzureCliCredential-115"><span class="linenos">115</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AzureCliCredential-116"><a href="#AzureCliCredential-116"><span class="linenos">116</span></a>
</span><span id="AzureCliCredential-117"><a href="#AzureCliCredential-117"><span class="linenos">117</span></a>        <span class="n">options</span><span class="p">:</span> <span class="n">TokenRequestOptions</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="AzureCliCredential-118"><a href="#AzureCliCredential-118"><span class="linenos">118</span></a>        <span class="k">if</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="AzureCliCredential-119"><a href="#AzureCliCredential-119"><span class="linenos">119</span></a>            <span class="n">options</span><span class="p">[</span><span class="s2">&quot;tenant_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tenant_id</span>
</span><span id="AzureCliCredential-120"><a href="#AzureCliCredential-120"><span class="linenos">120</span></a>
</span><span id="AzureCliCredential-121"><a href="#AzureCliCredential-121"><span class="linenos">121</span></a>        <span class="n">token_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_token_base</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="AzureCliCredential-122"><a href="#AzureCliCredential-122"><span class="linenos">122</span></a>        <span class="k">return</span> <span class="n">AccessToken</span><span class="p">(</span><span class="n">token_info</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">token_info</span><span class="o">.</span><span class="n">expires_on</span><span class="p">)</span>
</span><span id="AzureCliCredential-123"><a href="#AzureCliCredential-123"><span class="linenos">123</span></a>
</span><span id="AzureCliCredential-124"><a href="#AzureCliCredential-124"><span class="linenos">124</span></a>    <span class="nd">@log_get_token</span>
</span><span id="AzureCliCredential-125"><a href="#AzureCliCredential-125"><span class="linenos">125</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="AzureCliCredential-126"><a href="#AzureCliCredential-126"><span class="linenos">126</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AzureCliCredential-127"><a href="#AzureCliCredential-127"><span class="linenos">127</span></a>
</span><span id="AzureCliCredential-128"><a href="#AzureCliCredential-128"><span class="linenos">128</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="AzureCliCredential-129"><a href="#AzureCliCredential-129"><span class="linenos">129</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients. Applications calling this method</span>
</span><span id="AzureCliCredential-130"><a href="#AzureCliCredential-130"><span class="linenos">130</span></a><span class="sd">        directly must also handle token caching because this credential doesn&#39;t cache the tokens it acquires.</span>
</span><span id="AzureCliCredential-131"><a href="#AzureCliCredential-131"><span class="linenos">131</span></a>
</span><span id="AzureCliCredential-132"><a href="#AzureCliCredential-132"><span class="linenos">132</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This credential allows only one scope per request.</span>
</span><span id="AzureCliCredential-133"><a href="#AzureCliCredential-133"><span class="linenos">133</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AzureCliCredential-134"><a href="#AzureCliCredential-134"><span class="linenos">134</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="AzureCliCredential-135"><a href="#AzureCliCredential-135"><span class="linenos">135</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="AzureCliCredential-136"><a href="#AzureCliCredential-136"><span class="linenos">136</span></a>
</span><span id="AzureCliCredential-137"><a href="#AzureCliCredential-137"><span class="linenos">137</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="AzureCliCredential-138"><a href="#AzureCliCredential-138"><span class="linenos">138</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="AzureCliCredential-139"><a href="#AzureCliCredential-139"><span class="linenos">139</span></a>
</span><span id="AzureCliCredential-140"><a href="#AzureCliCredential-140"><span class="linenos">140</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the credential was unable to invoke the Azure CLI.</span>
</span><span id="AzureCliCredential-141"><a href="#AzureCliCredential-141"><span class="linenos">141</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: the credential invoked the Azure CLI but didn&#39;t</span>
</span><span id="AzureCliCredential-142"><a href="#AzureCliCredential-142"><span class="linenos">142</span></a><span class="sd">          receive an access token.</span>
</span><span id="AzureCliCredential-143"><a href="#AzureCliCredential-143"><span class="linenos">143</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AzureCliCredential-144"><a href="#AzureCliCredential-144"><span class="linenos">144</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_token_base</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span><span id="AzureCliCredential-145"><a href="#AzureCliCredential-145"><span class="linenos">145</span></a>
</span><span id="AzureCliCredential-146"><a href="#AzureCliCredential-146"><span class="linenos">146</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_token_base</span><span class="p">(</span>
</span><span id="AzureCliCredential-147"><a href="#AzureCliCredential-147"><span class="linenos">147</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="AzureCliCredential-148"><a href="#AzureCliCredential-148"><span class="linenos">148</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="AzureCliCredential-149"><a href="#AzureCliCredential-149"><span class="linenos">149</span></a>
</span><span id="AzureCliCredential-150"><a href="#AzureCliCredential-150"><span class="linenos">150</span></a>        <span class="n">tenant_id</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tenant_id&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">options</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="AzureCliCredential-151"><a href="#AzureCliCredential-151"><span class="linenos">151</span></a>        <span class="k">if</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="AzureCliCredential-152"><a href="#AzureCliCredential-152"><span class="linenos">152</span></a>            <span class="n">validate_tenant_id</span><span class="p">(</span><span class="n">tenant_id</span><span class="p">)</span>
</span><span id="AzureCliCredential-153"><a href="#AzureCliCredential-153"><span class="linenos">153</span></a>        <span class="k">for</span> <span class="n">scope</span> <span class="ow">in</span> <span class="n">scopes</span><span class="p">:</span>
</span><span id="AzureCliCredential-154"><a href="#AzureCliCredential-154"><span class="linenos">154</span></a>            <span class="n">validate_scope</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>
</span><span id="AzureCliCredential-155"><a href="#AzureCliCredential-155"><span class="linenos">155</span></a>
</span><span id="AzureCliCredential-156"><a href="#AzureCliCredential-156"><span class="linenos">156</span></a>        <span class="n">resource</span> <span class="o">=</span> <span class="n">_scopes_to_resource</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">)</span>
</span><span id="AzureCliCredential-157"><a href="#AzureCliCredential-157"><span class="linenos">157</span></a>        <span class="n">command_args</span> <span class="o">=</span> <span class="n">COMMAND_LINE</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;--resource&quot;</span><span class="p">,</span> <span class="n">resource</span><span class="p">]</span>
</span><span id="AzureCliCredential-158"><a href="#AzureCliCredential-158"><span class="linenos">158</span></a>        <span class="n">tenant</span> <span class="o">=</span> <span class="n">resolve_tenant</span><span class="p">(</span>
</span><span id="AzureCliCredential-159"><a href="#AzureCliCredential-159"><span class="linenos">159</span></a>            <span class="n">default_tenant</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tenant_id</span><span class="p">,</span>
</span><span id="AzureCliCredential-160"><a href="#AzureCliCredential-160"><span class="linenos">160</span></a>            <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span>
</span><span id="AzureCliCredential-161"><a href="#AzureCliCredential-161"><span class="linenos">161</span></a>            <span class="n">additionally_allowed_tenants</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_additionally_allowed_tenants</span><span class="p">,</span>
</span><span id="AzureCliCredential-162"><a href="#AzureCliCredential-162"><span class="linenos">162</span></a>            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="AzureCliCredential-163"><a href="#AzureCliCredential-163"><span class="linenos">163</span></a>        <span class="p">)</span>
</span><span id="AzureCliCredential-164"><a href="#AzureCliCredential-164"><span class="linenos">164</span></a>        <span class="k">if</span> <span class="n">tenant</span><span class="p">:</span>
</span><span id="AzureCliCredential-165"><a href="#AzureCliCredential-165"><span class="linenos">165</span></a>            <span class="n">command_args</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;--tenant&quot;</span><span class="p">,</span> <span class="n">tenant</span><span class="p">]</span>
</span><span id="AzureCliCredential-166"><a href="#AzureCliCredential-166"><span class="linenos">166</span></a>
</span><span id="AzureCliCredential-167"><a href="#AzureCliCredential-167"><span class="linenos">167</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">subscription</span><span class="p">:</span>
</span><span id="AzureCliCredential-168"><a href="#AzureCliCredential-168"><span class="linenos">168</span></a>            <span class="n">command_args</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;--subscription&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">subscription</span><span class="p">]</span>
</span><span id="AzureCliCredential-169"><a href="#AzureCliCredential-169"><span class="linenos">169</span></a>        <span class="n">output</span> <span class="o">=</span> <span class="n">_run_command</span><span class="p">(</span><span class="n">command_args</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_timeout</span><span class="p">)</span>
</span><span id="AzureCliCredential-170"><a href="#AzureCliCredential-170"><span class="linenos">170</span></a>
</span><span id="AzureCliCredential-171"><a href="#AzureCliCredential-171"><span class="linenos">171</span></a>        <span class="n">token</span> <span class="o">=</span> <span class="n">parse_token</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
</span><span id="AzureCliCredential-172"><a href="#AzureCliCredential-172"><span class="linenos">172</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">token</span><span class="p">:</span>
</span><span id="AzureCliCredential-173"><a href="#AzureCliCredential-173"><span class="linenos">173</span></a>            <span class="n">sanitized_output</span> <span class="o">=</span> <span class="n">sanitize_output</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
</span><span id="AzureCliCredential-174"><a href="#AzureCliCredential-174"><span class="linenos">174</span></a>            <span class="n">message</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="AzureCliCredential-175"><a href="#AzureCliCredential-175"><span class="linenos">175</span></a>                <span class="sa">f</span><span class="s2">&quot;Unexpected output from Azure CLI: &#39;</span><span class="si">{</span><span class="n">sanitized_output</span><span class="si">}</span><span class="s2">&#39;. </span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="AzureCliCredential-176"><a href="#AzureCliCredential-176"><span class="linenos">176</span></a>                <span class="sa">f</span><span class="s2">&quot;To mitigate this issue, please refer to the troubleshooting guidelines here at &quot;</span>
</span><span id="AzureCliCredential-177"><a href="#AzureCliCredential-177"><span class="linenos">177</span></a>                <span class="sa">f</span><span class="s2">&quot;https://aka.ms/azsdk/python/identity/azclicredential/troubleshoot.&quot;</span>
</span><span id="AzureCliCredential-178"><a href="#AzureCliCredential-178"><span class="linenos">178</span></a>            <span class="p">)</span>
</span><span id="AzureCliCredential-179"><a href="#AzureCliCredential-179"><span class="linenos">179</span></a>            <span class="k">if</span> <span class="n">within_dac</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span><span id="AzureCliCredential-180"><a href="#AzureCliCredential-180"><span class="linenos">180</span></a>                <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
</span><span id="AzureCliCredential-181"><a href="#AzureCliCredential-181"><span class="linenos">181</span></a>            <span class="k">raise</span> <span class="n">ClientAuthenticationError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
</span><span id="AzureCliCredential-182"><a href="#AzureCliCredential-182"><span class="linenos">182</span></a>
</span><span id="AzureCliCredential-183"><a href="#AzureCliCredential-183"><span class="linenos">183</span></a>        <span class="k">return</span> <span class="n">token</span>
</span></pre></div>


            <div class="docstring"><p>Authenticates by requesting a token from the Azure CLI.</p>

<p>This requires previously logging in to Azure via "az login", and will use the CLI's currently logged in identity.</p>

<p>:keyword str tenant_id: Optional tenant to include in the token request.
:keyword str subscription: The name or ID of a subscription. Set this to acquire tokens for an account other
    than the Azure CLI's current account.
:keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified "tenant_id"
    for which the credential may acquire tokens. Add the wildcard value "*" to allow the credential to
    acquire tokens for any tenant the application can access.
:keyword int process_timeout: Seconds to wait for the Azure CLI process to respond. Defaults to 10 seconds.</p>

<p>.. admonition:: Example:</p>

<pre><code>.. literalinclude:: ../samples/credential_creation_code_snippets.py
    :start-after: [START create_azure_cli_credential]
    :end-before: [END create_azure_cli_credential]
    :language: python
    :dedent: 4
    :caption: Create an AzureCliCredential.
</code></pre>
</div>


                            <div id="AzureCliCredential.__init__" class="classattr">
                                        <input id="AzureCliCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">AzureCliCredential</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>,</span><span class="param">	<span class="n">subscription</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">additionally_allowed_tenants</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">process_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span></span>)</span>

                <label class="view-source-button" for="AzureCliCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzureCliCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzureCliCredential.__init__-63"><a href="#AzureCliCredential.__init__-63"><span class="linenos">63</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="AzureCliCredential.__init__-64"><a href="#AzureCliCredential.__init__-64"><span class="linenos">64</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AzureCliCredential.__init__-65"><a href="#AzureCliCredential.__init__-65"><span class="linenos">65</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AzureCliCredential.__init__-66"><a href="#AzureCliCredential.__init__-66"><span class="linenos">66</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="AzureCliCredential.__init__-67"><a href="#AzureCliCredential.__init__-67"><span class="linenos">67</span></a>        <span class="n">subscription</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AzureCliCredential.__init__-68"><a href="#AzureCliCredential.__init__-68"><span class="linenos">68</span></a>        <span class="n">additionally_allowed_tenants</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AzureCliCredential.__init__-69"><a href="#AzureCliCredential.__init__-69"><span class="linenos">69</span></a>        <span class="n">process_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
</span><span id="AzureCliCredential.__init__-70"><a href="#AzureCliCredential.__init__-70"><span class="linenos">70</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzureCliCredential.__init__-71"><a href="#AzureCliCredential.__init__-71"><span class="linenos">71</span></a>        <span class="k">if</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="AzureCliCredential.__init__-72"><a href="#AzureCliCredential.__init__-72"><span class="linenos">72</span></a>            <span class="n">validate_tenant_id</span><span class="p">(</span><span class="n">tenant_id</span><span class="p">)</span>
</span><span id="AzureCliCredential.__init__-73"><a href="#AzureCliCredential.__init__-73"><span class="linenos">73</span></a>        <span class="k">if</span> <span class="n">subscription</span><span class="p">:</span>
</span><span id="AzureCliCredential.__init__-74"><a href="#AzureCliCredential.__init__-74"><span class="linenos">74</span></a>            <span class="n">validate_subscription</span><span class="p">(</span><span class="n">subscription</span><span class="p">)</span>
</span><span id="AzureCliCredential.__init__-75"><a href="#AzureCliCredential.__init__-75"><span class="linenos">75</span></a>
</span><span id="AzureCliCredential.__init__-76"><a href="#AzureCliCredential.__init__-76"><span class="linenos">76</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tenant_id</span> <span class="o">=</span> <span class="n">tenant_id</span>
</span><span id="AzureCliCredential.__init__-77"><a href="#AzureCliCredential.__init__-77"><span class="linenos">77</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">subscription</span> <span class="o">=</span> <span class="n">subscription</span>
</span><span id="AzureCliCredential.__init__-78"><a href="#AzureCliCredential.__init__-78"><span class="linenos">78</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_additionally_allowed_tenants</span> <span class="o">=</span> <span class="n">additionally_allowed_tenants</span> <span class="ow">or</span> <span class="p">[]</span>
</span><span id="AzureCliCredential.__init__-79"><a href="#AzureCliCredential.__init__-79"><span class="linenos">79</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_process_timeout</span> <span class="o">=</span> <span class="n">process_timeout</span>
</span></pre></div>


    

                            </div>
                            <div id="AzureCliCredential.tenant_id" class="classattr">
                                <div class="attr variable">
            <span class="name">tenant_id</span>

        
    </div>
    <a class="headerlink" href="#AzureCliCredential.tenant_id"></a>
    
    

                            </div>
                            <div id="AzureCliCredential.subscription" class="classattr">
                                <div class="attr variable">
            <span class="name">subscription</span>

        
    </div>
    <a class="headerlink" href="#AzureCliCredential.subscription"></a>
    
    

                            </div>
                            <div id="AzureCliCredential.close" class="classattr">
                                        <input id="AzureCliCredential.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="AzureCliCredential.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzureCliCredential.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzureCliCredential.close-87"><a href="#AzureCliCredential.close-87"><span class="linenos">87</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzureCliCredential.close-88"><a href="#AzureCliCredential.close-88"><span class="linenos">88</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calling this method is unnecessary.&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Calling this method is unnecessary.</p>
</div>


                            </div>
                            <div id="AzureCliCredential.get_token" class="classattr">
                                        <input id="AzureCliCredential.get_token-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-log_get_token">@log_get_token</div>

        <span class="def">def</span>
        <span class="name">get_token</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessToken</span>:</span></span>

                <label class="view-source-button" for="AzureCliCredential.get_token-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzureCliCredential.get_token"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzureCliCredential.get_token-90"><a href="#AzureCliCredential.get_token-90"><span class="linenos"> 90</span></a>    <span class="nd">@log_get_token</span>
</span><span id="AzureCliCredential.get_token-91"><a href="#AzureCliCredential.get_token-91"><span class="linenos"> 91</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="AzureCliCredential.get_token-92"><a href="#AzureCliCredential.get_token-92"><span class="linenos"> 92</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AzureCliCredential.get_token-93"><a href="#AzureCliCredential.get_token-93"><span class="linenos"> 93</span></a>        <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AzureCliCredential.get_token-94"><a href="#AzureCliCredential.get_token-94"><span class="linenos"> 94</span></a>        <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># pylint:disable=unused-argument</span>
</span><span id="AzureCliCredential.get_token-95"><a href="#AzureCliCredential.get_token-95"><span class="linenos"> 95</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AzureCliCredential.get_token-96"><a href="#AzureCliCredential.get_token-96"><span class="linenos"> 96</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="AzureCliCredential.get_token-97"><a href="#AzureCliCredential.get_token-97"><span class="linenos"> 97</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="AzureCliCredential.get_token-98"><a href="#AzureCliCredential.get_token-98"><span class="linenos"> 98</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AzureCliCredential.get_token-99"><a href="#AzureCliCredential.get_token-99"><span class="linenos"> 99</span></a>
</span><span id="AzureCliCredential.get_token-100"><a href="#AzureCliCredential.get_token-100"><span class="linenos">100</span></a><span class="sd">        This method is called automatically by Azure SDK clients. Applications calling this method directly must</span>
</span><span id="AzureCliCredential.get_token-101"><a href="#AzureCliCredential.get_token-101"><span class="linenos">101</span></a><span class="sd">        also handle token caching because this credential doesn&#39;t cache the tokens it acquires.</span>
</span><span id="AzureCliCredential.get_token-102"><a href="#AzureCliCredential.get_token-102"><span class="linenos">102</span></a>
</span><span id="AzureCliCredential.get_token-103"><a href="#AzureCliCredential.get_token-103"><span class="linenos">103</span></a><span class="sd">        :param str scopes: desired scope for the access token. This credential allows only one scope per request.</span>
</span><span id="AzureCliCredential.get_token-104"><a href="#AzureCliCredential.get_token-104"><span class="linenos">104</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="AzureCliCredential.get_token-105"><a href="#AzureCliCredential.get_token-105"><span class="linenos">105</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AzureCliCredential.get_token-106"><a href="#AzureCliCredential.get_token-106"><span class="linenos">106</span></a><span class="sd">        :keyword str claims: not used by this credential; any value provided will be ignored.</span>
</span><span id="AzureCliCredential.get_token-107"><a href="#AzureCliCredential.get_token-107"><span class="linenos">107</span></a><span class="sd">        :keyword str tenant_id: optional tenant to include in the token request.</span>
</span><span id="AzureCliCredential.get_token-108"><a href="#AzureCliCredential.get_token-108"><span class="linenos">108</span></a>
</span><span id="AzureCliCredential.get_token-109"><a href="#AzureCliCredential.get_token-109"><span class="linenos">109</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="AzureCliCredential.get_token-110"><a href="#AzureCliCredential.get_token-110"><span class="linenos">110</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="AzureCliCredential.get_token-111"><a href="#AzureCliCredential.get_token-111"><span class="linenos">111</span></a>
</span><span id="AzureCliCredential.get_token-112"><a href="#AzureCliCredential.get_token-112"><span class="linenos">112</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the credential was unable to invoke the Azure CLI.</span>
</span><span id="AzureCliCredential.get_token-113"><a href="#AzureCliCredential.get_token-113"><span class="linenos">113</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: the credential invoked the Azure CLI but didn&#39;t</span>
</span><span id="AzureCliCredential.get_token-114"><a href="#AzureCliCredential.get_token-114"><span class="linenos">114</span></a><span class="sd">          receive an access token.</span>
</span><span id="AzureCliCredential.get_token-115"><a href="#AzureCliCredential.get_token-115"><span class="linenos">115</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AzureCliCredential.get_token-116"><a href="#AzureCliCredential.get_token-116"><span class="linenos">116</span></a>
</span><span id="AzureCliCredential.get_token-117"><a href="#AzureCliCredential.get_token-117"><span class="linenos">117</span></a>        <span class="n">options</span><span class="p">:</span> <span class="n">TokenRequestOptions</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="AzureCliCredential.get_token-118"><a href="#AzureCliCredential.get_token-118"><span class="linenos">118</span></a>        <span class="k">if</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="AzureCliCredential.get_token-119"><a href="#AzureCliCredential.get_token-119"><span class="linenos">119</span></a>            <span class="n">options</span><span class="p">[</span><span class="s2">&quot;tenant_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tenant_id</span>
</span><span id="AzureCliCredential.get_token-120"><a href="#AzureCliCredential.get_token-120"><span class="linenos">120</span></a>
</span><span id="AzureCliCredential.get_token-121"><a href="#AzureCliCredential.get_token-121"><span class="linenos">121</span></a>        <span class="n">token_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_token_base</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="AzureCliCredential.get_token-122"><a href="#AzureCliCredential.get_token-122"><span class="linenos">122</span></a>        <span class="k">return</span> <span class="n">AccessToken</span><span class="p">(</span><span class="n">token_info</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">token_info</span><span class="o">.</span><span class="n">expires_on</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code>.</p>

<p>This method is called automatically by Azure SDK clients. Applications calling this method directly must
also handle token caching because this credential doesn't cache the tokens it acquires.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scope for the access token. This credential allows only one scope per request.
For more information about scopes, see
<a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword str claims: not used by this credential; any value provided will be ignored.
:keyword str tenant_id: optional tenant to include in the token request.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An access token with the desired scopes.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~<a href="#CredentialUnavailableError">azure.identity.CredentialUnavailableError</a></strong>:  the credential was unable to invoke the Azure CLI.</li>
<li><strong>~azure.core.exceptions.ClientAuthenticationError</strong>:  the credential invoked the Azure CLI but didn't
receive an access token.</li>
</ul>
</div>


                            </div>
                            <div id="AzureCliCredential.get_token_info" class="classattr">
                                        <input id="AzureCliCredential.get_token_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-log_get_token">@log_get_token</div>

        <span class="def">def</span>
        <span class="name">get_token_info</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessTokenInfo</span>:</span></span>

                <label class="view-source-button" for="AzureCliCredential.get_token_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzureCliCredential.get_token_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzureCliCredential.get_token_info-124"><a href="#AzureCliCredential.get_token_info-124"><span class="linenos">124</span></a>    <span class="nd">@log_get_token</span>
</span><span id="AzureCliCredential.get_token_info-125"><a href="#AzureCliCredential.get_token_info-125"><span class="linenos">125</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="AzureCliCredential.get_token_info-126"><a href="#AzureCliCredential.get_token_info-126"><span class="linenos">126</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AzureCliCredential.get_token_info-127"><a href="#AzureCliCredential.get_token_info-127"><span class="linenos">127</span></a>
</span><span id="AzureCliCredential.get_token_info-128"><a href="#AzureCliCredential.get_token_info-128"><span class="linenos">128</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="AzureCliCredential.get_token_info-129"><a href="#AzureCliCredential.get_token_info-129"><span class="linenos">129</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients. Applications calling this method</span>
</span><span id="AzureCliCredential.get_token_info-130"><a href="#AzureCliCredential.get_token_info-130"><span class="linenos">130</span></a><span class="sd">        directly must also handle token caching because this credential doesn&#39;t cache the tokens it acquires.</span>
</span><span id="AzureCliCredential.get_token_info-131"><a href="#AzureCliCredential.get_token_info-131"><span class="linenos">131</span></a>
</span><span id="AzureCliCredential.get_token_info-132"><a href="#AzureCliCredential.get_token_info-132"><span class="linenos">132</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This credential allows only one scope per request.</span>
</span><span id="AzureCliCredential.get_token_info-133"><a href="#AzureCliCredential.get_token_info-133"><span class="linenos">133</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AzureCliCredential.get_token_info-134"><a href="#AzureCliCredential.get_token_info-134"><span class="linenos">134</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="AzureCliCredential.get_token_info-135"><a href="#AzureCliCredential.get_token_info-135"><span class="linenos">135</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="AzureCliCredential.get_token_info-136"><a href="#AzureCliCredential.get_token_info-136"><span class="linenos">136</span></a>
</span><span id="AzureCliCredential.get_token_info-137"><a href="#AzureCliCredential.get_token_info-137"><span class="linenos">137</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="AzureCliCredential.get_token_info-138"><a href="#AzureCliCredential.get_token_info-138"><span class="linenos">138</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="AzureCliCredential.get_token_info-139"><a href="#AzureCliCredential.get_token_info-139"><span class="linenos">139</span></a>
</span><span id="AzureCliCredential.get_token_info-140"><a href="#AzureCliCredential.get_token_info-140"><span class="linenos">140</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the credential was unable to invoke the Azure CLI.</span>
</span><span id="AzureCliCredential.get_token_info-141"><a href="#AzureCliCredential.get_token_info-141"><span class="linenos">141</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: the credential invoked the Azure CLI but didn&#39;t</span>
</span><span id="AzureCliCredential.get_token_info-142"><a href="#AzureCliCredential.get_token_info-142"><span class="linenos">142</span></a><span class="sd">          receive an access token.</span>
</span><span id="AzureCliCredential.get_token_info-143"><a href="#AzureCliCredential.get_token_info-143"><span class="linenos">143</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AzureCliCredential.get_token_info-144"><a href="#AzureCliCredential.get_token_info-144"><span class="linenos">144</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_token_base</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code>.</p>

<p>This is an alternative to <code><a href="#AzureCliCredential.get_token">get_token</a></code> to enable certain scenarios that require additional properties
on the token. This method is called automatically by Azure SDK clients. Applications calling this method
directly must also handle token caching because this credential doesn't cache the tokens it acquires.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scopes for the access token. This credential allows only one scope per request.
For more information about scopes, see <a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.
:paramtype options: ~azure.core.credentials.TokenRequestOptions</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An AccessTokenInfo instance containing information about the token.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~<a href="#CredentialUnavailableError">azure.identity.CredentialUnavailableError</a></strong>:  the credential was unable to invoke the Azure CLI.</li>
<li><strong>~azure.core.exceptions.ClientAuthenticationError</strong>:  the credential invoked the Azure CLI but didn't
receive an access token.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="AzureDeveloperCliCredential">
                            <input id="AzureDeveloperCliCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">AzureDeveloperCliCredential</span>:

                <label class="view-source-button" for="AzureDeveloperCliCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzureDeveloperCliCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzureDeveloperCliCredential-37"><a href="#AzureDeveloperCliCredential-37"><span class="linenos"> 37</span></a><span class="k">class</span><span class="w"> </span><span class="nc">AzureDeveloperCliCredential</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential-38"><a href="#AzureDeveloperCliCredential-38"><span class="linenos"> 38</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticates by requesting a token from the Azure Developer CLI.</span>
</span><span id="AzureDeveloperCliCredential-39"><a href="#AzureDeveloperCliCredential-39"><span class="linenos"> 39</span></a>
</span><span id="AzureDeveloperCliCredential-40"><a href="#AzureDeveloperCliCredential-40"><span class="linenos"> 40</span></a><span class="sd">    Azure Developer CLI is a command-line interface tool that allows developers to create, manage, and deploy</span>
</span><span id="AzureDeveloperCliCredential-41"><a href="#AzureDeveloperCliCredential-41"><span class="linenos"> 41</span></a><span class="sd">    resources in Azure. It&#39;s built on top of the Azure CLI and provides additional functionality specific</span>
</span><span id="AzureDeveloperCliCredential-42"><a href="#AzureDeveloperCliCredential-42"><span class="linenos"> 42</span></a><span class="sd">    to Azure developers. It allows users to authenticate as a user and/or a service principal against</span>
</span><span id="AzureDeveloperCliCredential-43"><a href="#AzureDeveloperCliCredential-43"><span class="linenos"> 43</span></a><span class="sd">    `Microsoft Entra ID &lt;&quot;https://learn.microsoft.com/entra/fundamentals/&quot;&gt;`__.</span>
</span><span id="AzureDeveloperCliCredential-44"><a href="#AzureDeveloperCliCredential-44"><span class="linenos"> 44</span></a><span class="sd">    The AzureDeveloperCliCredential authenticates in a development environment and acquires a token on behalf of</span>
</span><span id="AzureDeveloperCliCredential-45"><a href="#AzureDeveloperCliCredential-45"><span class="linenos"> 45</span></a><span class="sd">    the logged-in user or service principal in Azure Developer CLI. It acts as the Azure Developer CLI logged-in user</span>
</span><span id="AzureDeveloperCliCredential-46"><a href="#AzureDeveloperCliCredential-46"><span class="linenos"> 46</span></a><span class="sd">    or service principal and executes an Azure CLI command underneath to authenticate the application against</span>
</span><span id="AzureDeveloperCliCredential-47"><a href="#AzureDeveloperCliCredential-47"><span class="linenos"> 47</span></a><span class="sd">    Microsoft Entra ID.</span>
</span><span id="AzureDeveloperCliCredential-48"><a href="#AzureDeveloperCliCredential-48"><span class="linenos"> 48</span></a>
</span><span id="AzureDeveloperCliCredential-49"><a href="#AzureDeveloperCliCredential-49"><span class="linenos"> 49</span></a><span class="sd">    To use this credential, the developer needs to authenticate locally in Azure Developer CLI using one of the</span>
</span><span id="AzureDeveloperCliCredential-50"><a href="#AzureDeveloperCliCredential-50"><span class="linenos"> 50</span></a><span class="sd">    commands below:</span>
</span><span id="AzureDeveloperCliCredential-51"><a href="#AzureDeveloperCliCredential-51"><span class="linenos"> 51</span></a>
</span><span id="AzureDeveloperCliCredential-52"><a href="#AzureDeveloperCliCredential-52"><span class="linenos"> 52</span></a><span class="sd">      * Run &quot;azd auth login&quot; in Azure Developer CLI to authenticate interactively as a user.</span>
</span><span id="AzureDeveloperCliCredential-53"><a href="#AzureDeveloperCliCredential-53"><span class="linenos"> 53</span></a><span class="sd">      * Run &quot;azd auth login --client-id &#39;client_id&#39; --client-secret &#39;client_secret&#39; --tenant-id &#39;tenant_id&#39;&quot;</span>
</span><span id="AzureDeveloperCliCredential-54"><a href="#AzureDeveloperCliCredential-54"><span class="linenos"> 54</span></a><span class="sd">        to authenticate as a service principal.</span>
</span><span id="AzureDeveloperCliCredential-55"><a href="#AzureDeveloperCliCredential-55"><span class="linenos"> 55</span></a>
</span><span id="AzureDeveloperCliCredential-56"><a href="#AzureDeveloperCliCredential-56"><span class="linenos"> 56</span></a><span class="sd">    You may need to repeat this process after a certain time period, depending on the refresh token validity in your</span>
</span><span id="AzureDeveloperCliCredential-57"><a href="#AzureDeveloperCliCredential-57"><span class="linenos"> 57</span></a><span class="sd">    organization. Generally, the refresh token validity period is a few weeks to a few months.</span>
</span><span id="AzureDeveloperCliCredential-58"><a href="#AzureDeveloperCliCredential-58"><span class="linenos"> 58</span></a><span class="sd">    AzureDeveloperCliCredential will prompt you to sign in again.</span>
</span><span id="AzureDeveloperCliCredential-59"><a href="#AzureDeveloperCliCredential-59"><span class="linenos"> 59</span></a>
</span><span id="AzureDeveloperCliCredential-60"><a href="#AzureDeveloperCliCredential-60"><span class="linenos"> 60</span></a><span class="sd">    :keyword str tenant_id: Optional tenant to include in the token request.</span>
</span><span id="AzureDeveloperCliCredential-61"><a href="#AzureDeveloperCliCredential-61"><span class="linenos"> 61</span></a><span class="sd">    :keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified &quot;tenant_id&quot;</span>
</span><span id="AzureDeveloperCliCredential-62"><a href="#AzureDeveloperCliCredential-62"><span class="linenos"> 62</span></a><span class="sd">        for which the credential may acquire tokens. Add the wildcard value &quot;*&quot; to allow the credential to</span>
</span><span id="AzureDeveloperCliCredential-63"><a href="#AzureDeveloperCliCredential-63"><span class="linenos"> 63</span></a><span class="sd">        acquire tokens for any tenant the application can access.</span>
</span><span id="AzureDeveloperCliCredential-64"><a href="#AzureDeveloperCliCredential-64"><span class="linenos"> 64</span></a><span class="sd">    :keyword int process_timeout: Seconds to wait for the Azure Developer CLI process to respond. Defaults</span>
</span><span id="AzureDeveloperCliCredential-65"><a href="#AzureDeveloperCliCredential-65"><span class="linenos"> 65</span></a><span class="sd">        to 10 seconds.</span>
</span><span id="AzureDeveloperCliCredential-66"><a href="#AzureDeveloperCliCredential-66"><span class="linenos"> 66</span></a>
</span><span id="AzureDeveloperCliCredential-67"><a href="#AzureDeveloperCliCredential-67"><span class="linenos"> 67</span></a><span class="sd">    .. admonition:: Example:</span>
</span><span id="AzureDeveloperCliCredential-68"><a href="#AzureDeveloperCliCredential-68"><span class="linenos"> 68</span></a>
</span><span id="AzureDeveloperCliCredential-69"><a href="#AzureDeveloperCliCredential-69"><span class="linenos"> 69</span></a><span class="sd">        .. literalinclude:: ../samples/credential_creation_code_snippets.py</span>
</span><span id="AzureDeveloperCliCredential-70"><a href="#AzureDeveloperCliCredential-70"><span class="linenos"> 70</span></a><span class="sd">            :start-after: [START azure_developer_cli_credential]</span>
</span><span id="AzureDeveloperCliCredential-71"><a href="#AzureDeveloperCliCredential-71"><span class="linenos"> 71</span></a><span class="sd">            :end-before: [END azure_developer_cli_credential]</span>
</span><span id="AzureDeveloperCliCredential-72"><a href="#AzureDeveloperCliCredential-72"><span class="linenos"> 72</span></a><span class="sd">            :language: python</span>
</span><span id="AzureDeveloperCliCredential-73"><a href="#AzureDeveloperCliCredential-73"><span class="linenos"> 73</span></a><span class="sd">            :dedent: 4</span>
</span><span id="AzureDeveloperCliCredential-74"><a href="#AzureDeveloperCliCredential-74"><span class="linenos"> 74</span></a><span class="sd">            :caption: Create an AzureDeveloperCliCredential.</span>
</span><span id="AzureDeveloperCliCredential-75"><a href="#AzureDeveloperCliCredential-75"><span class="linenos"> 75</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="AzureDeveloperCliCredential-76"><a href="#AzureDeveloperCliCredential-76"><span class="linenos"> 76</span></a>
</span><span id="AzureDeveloperCliCredential-77"><a href="#AzureDeveloperCliCredential-77"><span class="linenos"> 77</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="AzureDeveloperCliCredential-78"><a href="#AzureDeveloperCliCredential-78"><span class="linenos"> 78</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential-79"><a href="#AzureDeveloperCliCredential-79"><span class="linenos"> 79</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential-80"><a href="#AzureDeveloperCliCredential-80"><span class="linenos"> 80</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential-81"><a href="#AzureDeveloperCliCredential-81"><span class="linenos"> 81</span></a>        <span class="n">additionally_allowed_tenants</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential-82"><a href="#AzureDeveloperCliCredential-82"><span class="linenos"> 82</span></a>        <span class="n">process_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential-83"><a href="#AzureDeveloperCliCredential-83"><span class="linenos"> 83</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential-84"><a href="#AzureDeveloperCliCredential-84"><span class="linenos"> 84</span></a>        <span class="k">if</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential-85"><a href="#AzureDeveloperCliCredential-85"><span class="linenos"> 85</span></a>            <span class="n">validate_tenant_id</span><span class="p">(</span><span class="n">tenant_id</span><span class="p">)</span>
</span><span id="AzureDeveloperCliCredential-86"><a href="#AzureDeveloperCliCredential-86"><span class="linenos"> 86</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tenant_id</span> <span class="o">=</span> <span class="n">tenant_id</span>
</span><span id="AzureDeveloperCliCredential-87"><a href="#AzureDeveloperCliCredential-87"><span class="linenos"> 87</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_additionally_allowed_tenants</span> <span class="o">=</span> <span class="n">additionally_allowed_tenants</span> <span class="ow">or</span> <span class="p">[]</span>
</span><span id="AzureDeveloperCliCredential-88"><a href="#AzureDeveloperCliCredential-88"><span class="linenos"> 88</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_process_timeout</span> <span class="o">=</span> <span class="n">process_timeout</span>
</span><span id="AzureDeveloperCliCredential-89"><a href="#AzureDeveloperCliCredential-89"><span class="linenos"> 89</span></a>
</span><span id="AzureDeveloperCliCredential-90"><a href="#AzureDeveloperCliCredential-90"><span class="linenos"> 90</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AzureDeveloperCliCredential&quot;</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential-91"><a href="#AzureDeveloperCliCredential-91"><span class="linenos"> 91</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="AzureDeveloperCliCredential-92"><a href="#AzureDeveloperCliCredential-92"><span class="linenos"> 92</span></a>
</span><span id="AzureDeveloperCliCredential-93"><a href="#AzureDeveloperCliCredential-93"><span class="linenos"> 93</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential-94"><a href="#AzureDeveloperCliCredential-94"><span class="linenos"> 94</span></a>        <span class="k">pass</span>
</span><span id="AzureDeveloperCliCredential-95"><a href="#AzureDeveloperCliCredential-95"><span class="linenos"> 95</span></a>
</span><span id="AzureDeveloperCliCredential-96"><a href="#AzureDeveloperCliCredential-96"><span class="linenos"> 96</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential-97"><a href="#AzureDeveloperCliCredential-97"><span class="linenos"> 97</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calling this method is unnecessary.&quot;&quot;&quot;</span>
</span><span id="AzureDeveloperCliCredential-98"><a href="#AzureDeveloperCliCredential-98"><span class="linenos"> 98</span></a>
</span><span id="AzureDeveloperCliCredential-99"><a href="#AzureDeveloperCliCredential-99"><span class="linenos"> 99</span></a>    <span class="nd">@log_get_token</span>
</span><span id="AzureDeveloperCliCredential-100"><a href="#AzureDeveloperCliCredential-100"><span class="linenos">100</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="AzureDeveloperCliCredential-101"><a href="#AzureDeveloperCliCredential-101"><span class="linenos">101</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential-102"><a href="#AzureDeveloperCliCredential-102"><span class="linenos">102</span></a>        <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential-103"><a href="#AzureDeveloperCliCredential-103"><span class="linenos">103</span></a>        <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># pylint:disable=unused-argument</span>
</span><span id="AzureDeveloperCliCredential-104"><a href="#AzureDeveloperCliCredential-104"><span class="linenos">104</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential-105"><a href="#AzureDeveloperCliCredential-105"><span class="linenos">105</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential-106"><a href="#AzureDeveloperCliCredential-106"><span class="linenos">106</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential-107"><a href="#AzureDeveloperCliCredential-107"><span class="linenos">107</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AzureDeveloperCliCredential-108"><a href="#AzureDeveloperCliCredential-108"><span class="linenos">108</span></a>
</span><span id="AzureDeveloperCliCredential-109"><a href="#AzureDeveloperCliCredential-109"><span class="linenos">109</span></a><span class="sd">        This method is called automatically by Azure SDK clients. Applications calling this method directly must</span>
</span><span id="AzureDeveloperCliCredential-110"><a href="#AzureDeveloperCliCredential-110"><span class="linenos">110</span></a><span class="sd">        also handle token caching because this credential doesn&#39;t cache the tokens it acquires.</span>
</span><span id="AzureDeveloperCliCredential-111"><a href="#AzureDeveloperCliCredential-111"><span class="linenos">111</span></a>
</span><span id="AzureDeveloperCliCredential-112"><a href="#AzureDeveloperCliCredential-112"><span class="linenos">112</span></a><span class="sd">        :param str scopes: desired scope for the access token. This credential allows only one scope per request.</span>
</span><span id="AzureDeveloperCliCredential-113"><a href="#AzureDeveloperCliCredential-113"><span class="linenos">113</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="AzureDeveloperCliCredential-114"><a href="#AzureDeveloperCliCredential-114"><span class="linenos">114</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AzureDeveloperCliCredential-115"><a href="#AzureDeveloperCliCredential-115"><span class="linenos">115</span></a><span class="sd">        :keyword str claims: not used by this credential; any value provided will be ignored.</span>
</span><span id="AzureDeveloperCliCredential-116"><a href="#AzureDeveloperCliCredential-116"><span class="linenos">116</span></a><span class="sd">        :keyword str tenant_id: optional tenant to include in the token request.</span>
</span><span id="AzureDeveloperCliCredential-117"><a href="#AzureDeveloperCliCredential-117"><span class="linenos">117</span></a>
</span><span id="AzureDeveloperCliCredential-118"><a href="#AzureDeveloperCliCredential-118"><span class="linenos">118</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="AzureDeveloperCliCredential-119"><a href="#AzureDeveloperCliCredential-119"><span class="linenos">119</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="AzureDeveloperCliCredential-120"><a href="#AzureDeveloperCliCredential-120"><span class="linenos">120</span></a>
</span><span id="AzureDeveloperCliCredential-121"><a href="#AzureDeveloperCliCredential-121"><span class="linenos">121</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the credential was unable to invoke</span>
</span><span id="AzureDeveloperCliCredential-122"><a href="#AzureDeveloperCliCredential-122"><span class="linenos">122</span></a><span class="sd">          the Azure Developer CLI.</span>
</span><span id="AzureDeveloperCliCredential-123"><a href="#AzureDeveloperCliCredential-123"><span class="linenos">123</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: the credential invoked</span>
</span><span id="AzureDeveloperCliCredential-124"><a href="#AzureDeveloperCliCredential-124"><span class="linenos">124</span></a><span class="sd">          the Azure Developer CLI but didn&#39;t receive an access token.</span>
</span><span id="AzureDeveloperCliCredential-125"><a href="#AzureDeveloperCliCredential-125"><span class="linenos">125</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AzureDeveloperCliCredential-126"><a href="#AzureDeveloperCliCredential-126"><span class="linenos">126</span></a>        <span class="n">options</span><span class="p">:</span> <span class="n">TokenRequestOptions</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="AzureDeveloperCliCredential-127"><a href="#AzureDeveloperCliCredential-127"><span class="linenos">127</span></a>        <span class="k">if</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential-128"><a href="#AzureDeveloperCliCredential-128"><span class="linenos">128</span></a>            <span class="n">options</span><span class="p">[</span><span class="s2">&quot;tenant_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tenant_id</span>
</span><span id="AzureDeveloperCliCredential-129"><a href="#AzureDeveloperCliCredential-129"><span class="linenos">129</span></a>
</span><span id="AzureDeveloperCliCredential-130"><a href="#AzureDeveloperCliCredential-130"><span class="linenos">130</span></a>        <span class="n">token_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_token_base</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="AzureDeveloperCliCredential-131"><a href="#AzureDeveloperCliCredential-131"><span class="linenos">131</span></a>        <span class="k">return</span> <span class="n">AccessToken</span><span class="p">(</span><span class="n">token_info</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">token_info</span><span class="o">.</span><span class="n">expires_on</span><span class="p">)</span>
</span><span id="AzureDeveloperCliCredential-132"><a href="#AzureDeveloperCliCredential-132"><span class="linenos">132</span></a>
</span><span id="AzureDeveloperCliCredential-133"><a href="#AzureDeveloperCliCredential-133"><span class="linenos">133</span></a>    <span class="nd">@log_get_token</span>
</span><span id="AzureDeveloperCliCredential-134"><a href="#AzureDeveloperCliCredential-134"><span class="linenos">134</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential-135"><a href="#AzureDeveloperCliCredential-135"><span class="linenos">135</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AzureDeveloperCliCredential-136"><a href="#AzureDeveloperCliCredential-136"><span class="linenos">136</span></a>
</span><span id="AzureDeveloperCliCredential-137"><a href="#AzureDeveloperCliCredential-137"><span class="linenos">137</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="AzureDeveloperCliCredential-138"><a href="#AzureDeveloperCliCredential-138"><span class="linenos">138</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients. Applications calling this method</span>
</span><span id="AzureDeveloperCliCredential-139"><a href="#AzureDeveloperCliCredential-139"><span class="linenos">139</span></a><span class="sd">        directly must also handle token caching because this credential doesn&#39;t cache the tokens it acquires.</span>
</span><span id="AzureDeveloperCliCredential-140"><a href="#AzureDeveloperCliCredential-140"><span class="linenos">140</span></a>
</span><span id="AzureDeveloperCliCredential-141"><a href="#AzureDeveloperCliCredential-141"><span class="linenos">141</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="AzureDeveloperCliCredential-142"><a href="#AzureDeveloperCliCredential-142"><span class="linenos">142</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AzureDeveloperCliCredential-143"><a href="#AzureDeveloperCliCredential-143"><span class="linenos">143</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="AzureDeveloperCliCredential-144"><a href="#AzureDeveloperCliCredential-144"><span class="linenos">144</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="AzureDeveloperCliCredential-145"><a href="#AzureDeveloperCliCredential-145"><span class="linenos">145</span></a>
</span><span id="AzureDeveloperCliCredential-146"><a href="#AzureDeveloperCliCredential-146"><span class="linenos">146</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="AzureDeveloperCliCredential-147"><a href="#AzureDeveloperCliCredential-147"><span class="linenos">147</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="AzureDeveloperCliCredential-148"><a href="#AzureDeveloperCliCredential-148"><span class="linenos">148</span></a>
</span><span id="AzureDeveloperCliCredential-149"><a href="#AzureDeveloperCliCredential-149"><span class="linenos">149</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the credential was unable to invoke</span>
</span><span id="AzureDeveloperCliCredential-150"><a href="#AzureDeveloperCliCredential-150"><span class="linenos">150</span></a><span class="sd">          the Azure Developer CLI.</span>
</span><span id="AzureDeveloperCliCredential-151"><a href="#AzureDeveloperCliCredential-151"><span class="linenos">151</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: the credential invoked</span>
</span><span id="AzureDeveloperCliCredential-152"><a href="#AzureDeveloperCliCredential-152"><span class="linenos">152</span></a><span class="sd">          the Azure Developer CLI but didn&#39;t receive an access token.</span>
</span><span id="AzureDeveloperCliCredential-153"><a href="#AzureDeveloperCliCredential-153"><span class="linenos">153</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AzureDeveloperCliCredential-154"><a href="#AzureDeveloperCliCredential-154"><span class="linenos">154</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_token_base</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span><span id="AzureDeveloperCliCredential-155"><a href="#AzureDeveloperCliCredential-155"><span class="linenos">155</span></a>
</span><span id="AzureDeveloperCliCredential-156"><a href="#AzureDeveloperCliCredential-156"><span class="linenos">156</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_token_base</span><span class="p">(</span>
</span><span id="AzureDeveloperCliCredential-157"><a href="#AzureDeveloperCliCredential-157"><span class="linenos">157</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="AzureDeveloperCliCredential-158"><a href="#AzureDeveloperCliCredential-158"><span class="linenos">158</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential-159"><a href="#AzureDeveloperCliCredential-159"><span class="linenos">159</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">scopes</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential-160"><a href="#AzureDeveloperCliCredential-160"><span class="linenos">160</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Missing scope in request. </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="AzureDeveloperCliCredential-161"><a href="#AzureDeveloperCliCredential-161"><span class="linenos">161</span></a>
</span><span id="AzureDeveloperCliCredential-162"><a href="#AzureDeveloperCliCredential-162"><span class="linenos">162</span></a>        <span class="n">tenant_id</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tenant_id&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">options</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="AzureDeveloperCliCredential-163"><a href="#AzureDeveloperCliCredential-163"><span class="linenos">163</span></a>        <span class="k">if</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential-164"><a href="#AzureDeveloperCliCredential-164"><span class="linenos">164</span></a>            <span class="n">validate_tenant_id</span><span class="p">(</span><span class="n">tenant_id</span><span class="p">)</span>
</span><span id="AzureDeveloperCliCredential-165"><a href="#AzureDeveloperCliCredential-165"><span class="linenos">165</span></a>        <span class="k">for</span> <span class="n">scope</span> <span class="ow">in</span> <span class="n">scopes</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential-166"><a href="#AzureDeveloperCliCredential-166"><span class="linenos">166</span></a>            <span class="n">validate_scope</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>
</span><span id="AzureDeveloperCliCredential-167"><a href="#AzureDeveloperCliCredential-167"><span class="linenos">167</span></a>
</span><span id="AzureDeveloperCliCredential-168"><a href="#AzureDeveloperCliCredential-168"><span class="linenos">168</span></a>        <span class="n">command_args</span> <span class="o">=</span> <span class="n">COMMAND_LINE</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="AzureDeveloperCliCredential-169"><a href="#AzureDeveloperCliCredential-169"><span class="linenos">169</span></a>        <span class="k">for</span> <span class="n">scope</span> <span class="ow">in</span> <span class="n">scopes</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential-170"><a href="#AzureDeveloperCliCredential-170"><span class="linenos">170</span></a>            <span class="n">command_args</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;--scope&quot;</span><span class="p">,</span> <span class="n">scope</span><span class="p">]</span>
</span><span id="AzureDeveloperCliCredential-171"><a href="#AzureDeveloperCliCredential-171"><span class="linenos">171</span></a>        <span class="n">tenant</span> <span class="o">=</span> <span class="n">resolve_tenant</span><span class="p">(</span>
</span><span id="AzureDeveloperCliCredential-172"><a href="#AzureDeveloperCliCredential-172"><span class="linenos">172</span></a>            <span class="n">default_tenant</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tenant_id</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential-173"><a href="#AzureDeveloperCliCredential-173"><span class="linenos">173</span></a>            <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential-174"><a href="#AzureDeveloperCliCredential-174"><span class="linenos">174</span></a>            <span class="n">additionally_allowed_tenants</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_additionally_allowed_tenants</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential-175"><a href="#AzureDeveloperCliCredential-175"><span class="linenos">175</span></a>            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential-176"><a href="#AzureDeveloperCliCredential-176"><span class="linenos">176</span></a>        <span class="p">)</span>
</span><span id="AzureDeveloperCliCredential-177"><a href="#AzureDeveloperCliCredential-177"><span class="linenos">177</span></a>        <span class="k">if</span> <span class="n">tenant</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential-178"><a href="#AzureDeveloperCliCredential-178"><span class="linenos">178</span></a>            <span class="n">command_args</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;--tenant-id&quot;</span><span class="p">,</span> <span class="n">tenant</span><span class="p">]</span>
</span><span id="AzureDeveloperCliCredential-179"><a href="#AzureDeveloperCliCredential-179"><span class="linenos">179</span></a>        <span class="n">output</span> <span class="o">=</span> <span class="n">_run_command</span><span class="p">(</span><span class="n">command_args</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_timeout</span><span class="p">)</span>
</span><span id="AzureDeveloperCliCredential-180"><a href="#AzureDeveloperCliCredential-180"><span class="linenos">180</span></a>
</span><span id="AzureDeveloperCliCredential-181"><a href="#AzureDeveloperCliCredential-181"><span class="linenos">181</span></a>        <span class="n">token</span> <span class="o">=</span> <span class="n">parse_token</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
</span><span id="AzureDeveloperCliCredential-182"><a href="#AzureDeveloperCliCredential-182"><span class="linenos">182</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">token</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential-183"><a href="#AzureDeveloperCliCredential-183"><span class="linenos">183</span></a>            <span class="n">sanitized_output</span> <span class="o">=</span> <span class="n">sanitize_output</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
</span><span id="AzureDeveloperCliCredential-184"><a href="#AzureDeveloperCliCredential-184"><span class="linenos">184</span></a>            <span class="n">message</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="AzureDeveloperCliCredential-185"><a href="#AzureDeveloperCliCredential-185"><span class="linenos">185</span></a>                <span class="sa">f</span><span class="s2">&quot;Unexpected output from Azure Developer CLI: &#39;</span><span class="si">{</span><span class="n">sanitized_output</span><span class="si">}</span><span class="s2">&#39;. </span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="AzureDeveloperCliCredential-186"><a href="#AzureDeveloperCliCredential-186"><span class="linenos">186</span></a>                <span class="sa">f</span><span class="s2">&quot;To mitigate this issue, please refer to the troubleshooting guidelines here at &quot;</span>
</span><span id="AzureDeveloperCliCredential-187"><a href="#AzureDeveloperCliCredential-187"><span class="linenos">187</span></a>                <span class="sa">f</span><span class="s2">&quot;https://aka.ms/azsdk/python/identity/azdevclicredential/troubleshoot.&quot;</span>
</span><span id="AzureDeveloperCliCredential-188"><a href="#AzureDeveloperCliCredential-188"><span class="linenos">188</span></a>            <span class="p">)</span>
</span><span id="AzureDeveloperCliCredential-189"><a href="#AzureDeveloperCliCredential-189"><span class="linenos">189</span></a>            <span class="k">if</span> <span class="n">within_dac</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span><span id="AzureDeveloperCliCredential-190"><a href="#AzureDeveloperCliCredential-190"><span class="linenos">190</span></a>                <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
</span><span id="AzureDeveloperCliCredential-191"><a href="#AzureDeveloperCliCredential-191"><span class="linenos">191</span></a>            <span class="k">raise</span> <span class="n">ClientAuthenticationError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
</span><span id="AzureDeveloperCliCredential-192"><a href="#AzureDeveloperCliCredential-192"><span class="linenos">192</span></a>
</span><span id="AzureDeveloperCliCredential-193"><a href="#AzureDeveloperCliCredential-193"><span class="linenos">193</span></a>        <span class="k">return</span> <span class="n">token</span>
</span></pre></div>


            <div class="docstring"><p>Authenticates by requesting a token from the Azure Developer CLI.</p>

<p>Azure Developer CLI is a command-line interface tool that allows developers to create, manage, and deploy
resources in Azure. It's built on top of the Azure CLI and provides additional functionality specific
to Azure developers. It allows users to authenticate as a user and/or a service principal against
<a href="&quot;https://learn.microsoft.com/entra/fundamentals/&quot;">Microsoft Entra ID </a>_.
The AzureDeveloperCliCredential authenticates in a development environment and acquires a token on behalf of
the logged-in user or service principal in Azure Developer CLI. It acts as the Azure Developer CLI logged-in user
or service principal and executes an Azure CLI command underneath to authenticate the application against
Microsoft Entra ID.</p>

<p>To use this credential, the developer needs to authenticate locally in Azure Developer CLI using one of the
commands below:</p>

<ul>
<li>Run "azd auth login" in Azure Developer CLI to authenticate interactively as a user.</li>
<li>Run "azd auth login --client-id 'client_id' --client-secret 'client_secret' --tenant-id 'tenant_id'"
to authenticate as a service principal.</li>
</ul>

<p>You may need to repeat this process after a certain time period, depending on the refresh token validity in your
organization. Generally, the refresh token validity period is a few weeks to a few months.
AzureDeveloperCliCredential will prompt you to sign in again.</p>

<p>:keyword str tenant_id: Optional tenant to include in the token request.
:keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified "tenant_id"
    for which the credential may acquire tokens. Add the wildcard value "*" to allow the credential to
    acquire tokens for any tenant the application can access.
:keyword int process_timeout: Seconds to wait for the Azure Developer CLI process to respond. Defaults
    to 10 seconds.</p>

<p>.. admonition:: Example:</p>

<pre><code>.. literalinclude:: ../samples/credential_creation_code_snippets.py
    :start-after: [START azure_developer_cli_credential]
    :end-before: [END azure_developer_cli_credential]
    :language: python
    :dedent: 4
    :caption: Create an AzureDeveloperCliCredential.
</code></pre>
</div>


                            <div id="AzureDeveloperCliCredential.__init__" class="classattr">
                                        <input id="AzureDeveloperCliCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">AzureDeveloperCliCredential</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>,</span><span class="param">	<span class="n">additionally_allowed_tenants</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">process_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span></span>)</span>

                <label class="view-source-button" for="AzureDeveloperCliCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzureDeveloperCliCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzureDeveloperCliCredential.__init__-77"><a href="#AzureDeveloperCliCredential.__init__-77"><span class="linenos">77</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="AzureDeveloperCliCredential.__init__-78"><a href="#AzureDeveloperCliCredential.__init__-78"><span class="linenos">78</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential.__init__-79"><a href="#AzureDeveloperCliCredential.__init__-79"><span class="linenos">79</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential.__init__-80"><a href="#AzureDeveloperCliCredential.__init__-80"><span class="linenos">80</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential.__init__-81"><a href="#AzureDeveloperCliCredential.__init__-81"><span class="linenos">81</span></a>        <span class="n">additionally_allowed_tenants</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential.__init__-82"><a href="#AzureDeveloperCliCredential.__init__-82"><span class="linenos">82</span></a>        <span class="n">process_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential.__init__-83"><a href="#AzureDeveloperCliCredential.__init__-83"><span class="linenos">83</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential.__init__-84"><a href="#AzureDeveloperCliCredential.__init__-84"><span class="linenos">84</span></a>        <span class="k">if</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential.__init__-85"><a href="#AzureDeveloperCliCredential.__init__-85"><span class="linenos">85</span></a>            <span class="n">validate_tenant_id</span><span class="p">(</span><span class="n">tenant_id</span><span class="p">)</span>
</span><span id="AzureDeveloperCliCredential.__init__-86"><a href="#AzureDeveloperCliCredential.__init__-86"><span class="linenos">86</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tenant_id</span> <span class="o">=</span> <span class="n">tenant_id</span>
</span><span id="AzureDeveloperCliCredential.__init__-87"><a href="#AzureDeveloperCliCredential.__init__-87"><span class="linenos">87</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_additionally_allowed_tenants</span> <span class="o">=</span> <span class="n">additionally_allowed_tenants</span> <span class="ow">or</span> <span class="p">[]</span>
</span><span id="AzureDeveloperCliCredential.__init__-88"><a href="#AzureDeveloperCliCredential.__init__-88"><span class="linenos">88</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_process_timeout</span> <span class="o">=</span> <span class="n">process_timeout</span>
</span></pre></div>


    

                            </div>
                            <div id="AzureDeveloperCliCredential.tenant_id" class="classattr">
                                <div class="attr variable">
            <span class="name">tenant_id</span>

        
    </div>
    <a class="headerlink" href="#AzureDeveloperCliCredential.tenant_id"></a>
    
    

                            </div>
                            <div id="AzureDeveloperCliCredential.close" class="classattr">
                                        <input id="AzureDeveloperCliCredential.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="AzureDeveloperCliCredential.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzureDeveloperCliCredential.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzureDeveloperCliCredential.close-96"><a href="#AzureDeveloperCliCredential.close-96"><span class="linenos">96</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential.close-97"><a href="#AzureDeveloperCliCredential.close-97"><span class="linenos">97</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calling this method is unnecessary.&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Calling this method is unnecessary.</p>
</div>


                            </div>
                            <div id="AzureDeveloperCliCredential.get_token" class="classattr">
                                        <input id="AzureDeveloperCliCredential.get_token-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-log_get_token">@log_get_token</div>

        <span class="def">def</span>
        <span class="name">get_token</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessToken</span>:</span></span>

                <label class="view-source-button" for="AzureDeveloperCliCredential.get_token-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzureDeveloperCliCredential.get_token"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzureDeveloperCliCredential.get_token-99"><a href="#AzureDeveloperCliCredential.get_token-99"><span class="linenos"> 99</span></a>    <span class="nd">@log_get_token</span>
</span><span id="AzureDeveloperCliCredential.get_token-100"><a href="#AzureDeveloperCliCredential.get_token-100"><span class="linenos">100</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="AzureDeveloperCliCredential.get_token-101"><a href="#AzureDeveloperCliCredential.get_token-101"><span class="linenos">101</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential.get_token-102"><a href="#AzureDeveloperCliCredential.get_token-102"><span class="linenos">102</span></a>        <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential.get_token-103"><a href="#AzureDeveloperCliCredential.get_token-103"><span class="linenos">103</span></a>        <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># pylint:disable=unused-argument</span>
</span><span id="AzureDeveloperCliCredential.get_token-104"><a href="#AzureDeveloperCliCredential.get_token-104"><span class="linenos">104</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential.get_token-105"><a href="#AzureDeveloperCliCredential.get_token-105"><span class="linenos">105</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="AzureDeveloperCliCredential.get_token-106"><a href="#AzureDeveloperCliCredential.get_token-106"><span class="linenos">106</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential.get_token-107"><a href="#AzureDeveloperCliCredential.get_token-107"><span class="linenos">107</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AzureDeveloperCliCredential.get_token-108"><a href="#AzureDeveloperCliCredential.get_token-108"><span class="linenos">108</span></a>
</span><span id="AzureDeveloperCliCredential.get_token-109"><a href="#AzureDeveloperCliCredential.get_token-109"><span class="linenos">109</span></a><span class="sd">        This method is called automatically by Azure SDK clients. Applications calling this method directly must</span>
</span><span id="AzureDeveloperCliCredential.get_token-110"><a href="#AzureDeveloperCliCredential.get_token-110"><span class="linenos">110</span></a><span class="sd">        also handle token caching because this credential doesn&#39;t cache the tokens it acquires.</span>
</span><span id="AzureDeveloperCliCredential.get_token-111"><a href="#AzureDeveloperCliCredential.get_token-111"><span class="linenos">111</span></a>
</span><span id="AzureDeveloperCliCredential.get_token-112"><a href="#AzureDeveloperCliCredential.get_token-112"><span class="linenos">112</span></a><span class="sd">        :param str scopes: desired scope for the access token. This credential allows only one scope per request.</span>
</span><span id="AzureDeveloperCliCredential.get_token-113"><a href="#AzureDeveloperCliCredential.get_token-113"><span class="linenos">113</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="AzureDeveloperCliCredential.get_token-114"><a href="#AzureDeveloperCliCredential.get_token-114"><span class="linenos">114</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AzureDeveloperCliCredential.get_token-115"><a href="#AzureDeveloperCliCredential.get_token-115"><span class="linenos">115</span></a><span class="sd">        :keyword str claims: not used by this credential; any value provided will be ignored.</span>
</span><span id="AzureDeveloperCliCredential.get_token-116"><a href="#AzureDeveloperCliCredential.get_token-116"><span class="linenos">116</span></a><span class="sd">        :keyword str tenant_id: optional tenant to include in the token request.</span>
</span><span id="AzureDeveloperCliCredential.get_token-117"><a href="#AzureDeveloperCliCredential.get_token-117"><span class="linenos">117</span></a>
</span><span id="AzureDeveloperCliCredential.get_token-118"><a href="#AzureDeveloperCliCredential.get_token-118"><span class="linenos">118</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="AzureDeveloperCliCredential.get_token-119"><a href="#AzureDeveloperCliCredential.get_token-119"><span class="linenos">119</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="AzureDeveloperCliCredential.get_token-120"><a href="#AzureDeveloperCliCredential.get_token-120"><span class="linenos">120</span></a>
</span><span id="AzureDeveloperCliCredential.get_token-121"><a href="#AzureDeveloperCliCredential.get_token-121"><span class="linenos">121</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the credential was unable to invoke</span>
</span><span id="AzureDeveloperCliCredential.get_token-122"><a href="#AzureDeveloperCliCredential.get_token-122"><span class="linenos">122</span></a><span class="sd">          the Azure Developer CLI.</span>
</span><span id="AzureDeveloperCliCredential.get_token-123"><a href="#AzureDeveloperCliCredential.get_token-123"><span class="linenos">123</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: the credential invoked</span>
</span><span id="AzureDeveloperCliCredential.get_token-124"><a href="#AzureDeveloperCliCredential.get_token-124"><span class="linenos">124</span></a><span class="sd">          the Azure Developer CLI but didn&#39;t receive an access token.</span>
</span><span id="AzureDeveloperCliCredential.get_token-125"><a href="#AzureDeveloperCliCredential.get_token-125"><span class="linenos">125</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AzureDeveloperCliCredential.get_token-126"><a href="#AzureDeveloperCliCredential.get_token-126"><span class="linenos">126</span></a>        <span class="n">options</span><span class="p">:</span> <span class="n">TokenRequestOptions</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="AzureDeveloperCliCredential.get_token-127"><a href="#AzureDeveloperCliCredential.get_token-127"><span class="linenos">127</span></a>        <span class="k">if</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential.get_token-128"><a href="#AzureDeveloperCliCredential.get_token-128"><span class="linenos">128</span></a>            <span class="n">options</span><span class="p">[</span><span class="s2">&quot;tenant_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tenant_id</span>
</span><span id="AzureDeveloperCliCredential.get_token-129"><a href="#AzureDeveloperCliCredential.get_token-129"><span class="linenos">129</span></a>
</span><span id="AzureDeveloperCliCredential.get_token-130"><a href="#AzureDeveloperCliCredential.get_token-130"><span class="linenos">130</span></a>        <span class="n">token_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_token_base</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="AzureDeveloperCliCredential.get_token-131"><a href="#AzureDeveloperCliCredential.get_token-131"><span class="linenos">131</span></a>        <span class="k">return</span> <span class="n">AccessToken</span><span class="p">(</span><span class="n">token_info</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">token_info</span><span class="o">.</span><span class="n">expires_on</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code>.</p>

<p>This method is called automatically by Azure SDK clients. Applications calling this method directly must
also handle token caching because this credential doesn't cache the tokens it acquires.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scope for the access token. This credential allows only one scope per request.
For more information about scopes, see
<a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword str claims: not used by this credential; any value provided will be ignored.
:keyword str tenant_id: optional tenant to include in the token request.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An access token with the desired scopes.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~<a href="#CredentialUnavailableError">azure.identity.CredentialUnavailableError</a></strong>:  the credential was unable to invoke
the Azure Developer CLI.</li>
<li><strong>~azure.core.exceptions.ClientAuthenticationError</strong>:  the credential invoked
the Azure Developer CLI but didn't receive an access token.</li>
</ul>
</div>


                            </div>
                            <div id="AzureDeveloperCliCredential.get_token_info" class="classattr">
                                        <input id="AzureDeveloperCliCredential.get_token_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-log_get_token">@log_get_token</div>

        <span class="def">def</span>
        <span class="name">get_token_info</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessTokenInfo</span>:</span></span>

                <label class="view-source-button" for="AzureDeveloperCliCredential.get_token_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzureDeveloperCliCredential.get_token_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzureDeveloperCliCredential.get_token_info-133"><a href="#AzureDeveloperCliCredential.get_token_info-133"><span class="linenos">133</span></a>    <span class="nd">@log_get_token</span>
</span><span id="AzureDeveloperCliCredential.get_token_info-134"><a href="#AzureDeveloperCliCredential.get_token_info-134"><span class="linenos">134</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="AzureDeveloperCliCredential.get_token_info-135"><a href="#AzureDeveloperCliCredential.get_token_info-135"><span class="linenos">135</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AzureDeveloperCliCredential.get_token_info-136"><a href="#AzureDeveloperCliCredential.get_token_info-136"><span class="linenos">136</span></a>
</span><span id="AzureDeveloperCliCredential.get_token_info-137"><a href="#AzureDeveloperCliCredential.get_token_info-137"><span class="linenos">137</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="AzureDeveloperCliCredential.get_token_info-138"><a href="#AzureDeveloperCliCredential.get_token_info-138"><span class="linenos">138</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients. Applications calling this method</span>
</span><span id="AzureDeveloperCliCredential.get_token_info-139"><a href="#AzureDeveloperCliCredential.get_token_info-139"><span class="linenos">139</span></a><span class="sd">        directly must also handle token caching because this credential doesn&#39;t cache the tokens it acquires.</span>
</span><span id="AzureDeveloperCliCredential.get_token_info-140"><a href="#AzureDeveloperCliCredential.get_token_info-140"><span class="linenos">140</span></a>
</span><span id="AzureDeveloperCliCredential.get_token_info-141"><a href="#AzureDeveloperCliCredential.get_token_info-141"><span class="linenos">141</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="AzureDeveloperCliCredential.get_token_info-142"><a href="#AzureDeveloperCliCredential.get_token_info-142"><span class="linenos">142</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AzureDeveloperCliCredential.get_token_info-143"><a href="#AzureDeveloperCliCredential.get_token_info-143"><span class="linenos">143</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="AzureDeveloperCliCredential.get_token_info-144"><a href="#AzureDeveloperCliCredential.get_token_info-144"><span class="linenos">144</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="AzureDeveloperCliCredential.get_token_info-145"><a href="#AzureDeveloperCliCredential.get_token_info-145"><span class="linenos">145</span></a>
</span><span id="AzureDeveloperCliCredential.get_token_info-146"><a href="#AzureDeveloperCliCredential.get_token_info-146"><span class="linenos">146</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="AzureDeveloperCliCredential.get_token_info-147"><a href="#AzureDeveloperCliCredential.get_token_info-147"><span class="linenos">147</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="AzureDeveloperCliCredential.get_token_info-148"><a href="#AzureDeveloperCliCredential.get_token_info-148"><span class="linenos">148</span></a>
</span><span id="AzureDeveloperCliCredential.get_token_info-149"><a href="#AzureDeveloperCliCredential.get_token_info-149"><span class="linenos">149</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the credential was unable to invoke</span>
</span><span id="AzureDeveloperCliCredential.get_token_info-150"><a href="#AzureDeveloperCliCredential.get_token_info-150"><span class="linenos">150</span></a><span class="sd">          the Azure Developer CLI.</span>
</span><span id="AzureDeveloperCliCredential.get_token_info-151"><a href="#AzureDeveloperCliCredential.get_token_info-151"><span class="linenos">151</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: the credential invoked</span>
</span><span id="AzureDeveloperCliCredential.get_token_info-152"><a href="#AzureDeveloperCliCredential.get_token_info-152"><span class="linenos">152</span></a><span class="sd">          the Azure Developer CLI but didn&#39;t receive an access token.</span>
</span><span id="AzureDeveloperCliCredential.get_token_info-153"><a href="#AzureDeveloperCliCredential.get_token_info-153"><span class="linenos">153</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AzureDeveloperCliCredential.get_token_info-154"><a href="#AzureDeveloperCliCredential.get_token_info-154"><span class="linenos">154</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_token_base</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code>.</p>

<p>This is an alternative to <code><a href="#AzureDeveloperCliCredential.get_token">get_token</a></code> to enable certain scenarios that require additional properties
on the token. This method is called automatically by Azure SDK clients. Applications calling this method
directly must also handle token caching because this credential doesn't cache the tokens it acquires.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scopes for the access token. This method requires at least one scope.
For more information about scopes, see <a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.
:paramtype options: ~azure.core.credentials.TokenRequestOptions</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An AccessTokenInfo instance containing information about the token.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~<a href="#CredentialUnavailableError">azure.identity.CredentialUnavailableError</a></strong>:  the credential was unable to invoke
the Azure Developer CLI.</li>
<li><strong>~azure.core.exceptions.ClientAuthenticationError</strong>:  the credential invoked
the Azure Developer CLI but didn't receive an access token.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="AzurePipelinesCredential">
                            <input id="AzurePipelinesCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">AzurePipelinesCredential</span>:

                <label class="view-source-button" for="AzurePipelinesCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzurePipelinesCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzurePipelinesCredential-47"><a href="#AzurePipelinesCredential-47"><span class="linenos"> 47</span></a><span class="k">class</span><span class="w"> </span><span class="nc">AzurePipelinesCredential</span><span class="p">:</span>
</span><span id="AzurePipelinesCredential-48"><a href="#AzurePipelinesCredential-48"><span class="linenos"> 48</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticates using Microsoft Entra Workload ID in Azure Pipelines.</span>
</span><span id="AzurePipelinesCredential-49"><a href="#AzurePipelinesCredential-49"><span class="linenos"> 49</span></a>
</span><span id="AzurePipelinesCredential-50"><a href="#AzurePipelinesCredential-50"><span class="linenos"> 50</span></a><span class="sd">    This credential enables authentication in Azure Pipelines using workload identity federation for Azure service</span>
</span><span id="AzurePipelinesCredential-51"><a href="#AzurePipelinesCredential-51"><span class="linenos"> 51</span></a><span class="sd">    connections.</span>
</span><span id="AzurePipelinesCredential-52"><a href="#AzurePipelinesCredential-52"><span class="linenos"> 52</span></a>
</span><span id="AzurePipelinesCredential-53"><a href="#AzurePipelinesCredential-53"><span class="linenos"> 53</span></a><span class="sd">    :keyword str tenant_id: The tenant ID for the service connection. Required.</span>
</span><span id="AzurePipelinesCredential-54"><a href="#AzurePipelinesCredential-54"><span class="linenos"> 54</span></a><span class="sd">    :keyword str client_id: The client ID for the service connection. Required.</span>
</span><span id="AzurePipelinesCredential-55"><a href="#AzurePipelinesCredential-55"><span class="linenos"> 55</span></a><span class="sd">    :keyword str service_connection_id: The service connection ID for the service connection associated with the</span>
</span><span id="AzurePipelinesCredential-56"><a href="#AzurePipelinesCredential-56"><span class="linenos"> 56</span></a><span class="sd">        pipeline. From the service connection&#39;s configuration page URL in the Azure DevOps web portal, the ID</span>
</span><span id="AzurePipelinesCredential-57"><a href="#AzurePipelinesCredential-57"><span class="linenos"> 57</span></a><span class="sd">        is the value of the &quot;resourceId&quot; query parameter. Required.</span>
</span><span id="AzurePipelinesCredential-58"><a href="#AzurePipelinesCredential-58"><span class="linenos"> 58</span></a><span class="sd">    :keyword str system_access_token: The pipeline&#39;s System.AccessToken value. It is recommended to assign the value</span>
</span><span id="AzurePipelinesCredential-59"><a href="#AzurePipelinesCredential-59"><span class="linenos"> 59</span></a><span class="sd">        of System.AccessToken to a secure variable in the Azure Pipelines environment. See</span>
</span><span id="AzurePipelinesCredential-60"><a href="#AzurePipelinesCredential-60"><span class="linenos"> 60</span></a><span class="sd">        https://learn.microsoft.com/azure/devops/pipelines/build/variables#systemaccesstoken for more info. Required.</span>
</span><span id="AzurePipelinesCredential-61"><a href="#AzurePipelinesCredential-61"><span class="linenos"> 61</span></a><span class="sd">    :keyword str authority: Authority of a Microsoft Entra endpoint, for example &quot;login.microsoftonline.com&quot;,</span>
</span><span id="AzurePipelinesCredential-62"><a href="#AzurePipelinesCredential-62"><span class="linenos"> 62</span></a><span class="sd">        the authority for Azure Public Cloud (which is the default). :class:`~azure.identity.AzureAuthorityHosts`</span>
</span><span id="AzurePipelinesCredential-63"><a href="#AzurePipelinesCredential-63"><span class="linenos"> 63</span></a><span class="sd">        defines authorities for other clouds.</span>
</span><span id="AzurePipelinesCredential-64"><a href="#AzurePipelinesCredential-64"><span class="linenos"> 64</span></a><span class="sd">    :keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified &quot;tenant_id&quot;</span>
</span><span id="AzurePipelinesCredential-65"><a href="#AzurePipelinesCredential-65"><span class="linenos"> 65</span></a><span class="sd">        for which the credential may acquire tokens. Add the wildcard value &quot;*&quot; to allow the credential to</span>
</span><span id="AzurePipelinesCredential-66"><a href="#AzurePipelinesCredential-66"><span class="linenos"> 66</span></a><span class="sd">        acquire tokens for any tenant the application can access.</span>
</span><span id="AzurePipelinesCredential-67"><a href="#AzurePipelinesCredential-67"><span class="linenos"> 67</span></a>
</span><span id="AzurePipelinesCredential-68"><a href="#AzurePipelinesCredential-68"><span class="linenos"> 68</span></a><span class="sd">    .. admonition:: Example:</span>
</span><span id="AzurePipelinesCredential-69"><a href="#AzurePipelinesCredential-69"><span class="linenos"> 69</span></a>
</span><span id="AzurePipelinesCredential-70"><a href="#AzurePipelinesCredential-70"><span class="linenos"> 70</span></a><span class="sd">        .. literalinclude:: ../samples/credential_creation_code_snippets.py</span>
</span><span id="AzurePipelinesCredential-71"><a href="#AzurePipelinesCredential-71"><span class="linenos"> 71</span></a><span class="sd">            :start-after: [START create_azure_pipelines_credential]</span>
</span><span id="AzurePipelinesCredential-72"><a href="#AzurePipelinesCredential-72"><span class="linenos"> 72</span></a><span class="sd">            :end-before: [END create_azure_pipelines_credential]</span>
</span><span id="AzurePipelinesCredential-73"><a href="#AzurePipelinesCredential-73"><span class="linenos"> 73</span></a><span class="sd">            :language: python</span>
</span><span id="AzurePipelinesCredential-74"><a href="#AzurePipelinesCredential-74"><span class="linenos"> 74</span></a><span class="sd">            :dedent: 4</span>
</span><span id="AzurePipelinesCredential-75"><a href="#AzurePipelinesCredential-75"><span class="linenos"> 75</span></a><span class="sd">            :caption: Create an AzurePipelinesCredential.</span>
</span><span id="AzurePipelinesCredential-76"><a href="#AzurePipelinesCredential-76"><span class="linenos"> 76</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="AzurePipelinesCredential-77"><a href="#AzurePipelinesCredential-77"><span class="linenos"> 77</span></a>
</span><span id="AzurePipelinesCredential-78"><a href="#AzurePipelinesCredential-78"><span class="linenos"> 78</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="AzurePipelinesCredential-79"><a href="#AzurePipelinesCredential-79"><span class="linenos"> 79</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential-80"><a href="#AzurePipelinesCredential-80"><span class="linenos"> 80</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential-81"><a href="#AzurePipelinesCredential-81"><span class="linenos"> 81</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential-82"><a href="#AzurePipelinesCredential-82"><span class="linenos"> 82</span></a>        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential-83"><a href="#AzurePipelinesCredential-83"><span class="linenos"> 83</span></a>        <span class="n">service_connection_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential-84"><a href="#AzurePipelinesCredential-84"><span class="linenos"> 84</span></a>        <span class="n">system_access_token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential-85"><a href="#AzurePipelinesCredential-85"><span class="linenos"> 85</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential-86"><a href="#AzurePipelinesCredential-86"><span class="linenos"> 86</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzurePipelinesCredential-87"><a href="#AzurePipelinesCredential-87"><span class="linenos"> 87</span></a>
</span><span id="AzurePipelinesCredential-88"><a href="#AzurePipelinesCredential-88"><span class="linenos"> 88</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">system_access_token</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">tenant_id</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">client_id</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">service_connection_id</span><span class="p">:</span>
</span><span id="AzurePipelinesCredential-89"><a href="#AzurePipelinesCredential-89"><span class="linenos"> 89</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="AzurePipelinesCredential-90"><a href="#AzurePipelinesCredential-90"><span class="linenos"> 90</span></a>                <span class="s2">&quot;&#39;tenant_id&#39;, &#39;client_id&#39;, &#39;service_connection_id&#39;, and &#39;system_access_token&#39; must be passed in as &quot;</span>
</span><span id="AzurePipelinesCredential-91"><a href="#AzurePipelinesCredential-91"><span class="linenos"> 91</span></a>                <span class="sa">f</span><span class="s2">&quot;keyword arguments. Please refer to the troubleshooting guide at </span><span class="si">{</span><span class="n">TROUBLESHOOTING_GUIDE</span><span class="si">}</span><span class="s2">.&quot;</span>
</span><span id="AzurePipelinesCredential-92"><a href="#AzurePipelinesCredential-92"><span class="linenos"> 92</span></a>            <span class="p">)</span>
</span><span id="AzurePipelinesCredential-93"><a href="#AzurePipelinesCredential-93"><span class="linenos"> 93</span></a>        <span class="n">validate_tenant_id</span><span class="p">(</span><span class="n">tenant_id</span><span class="p">)</span>
</span><span id="AzurePipelinesCredential-94"><a href="#AzurePipelinesCredential-94"><span class="linenos"> 94</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_system_access_token</span> <span class="o">=</span> <span class="n">system_access_token</span>
</span><span id="AzurePipelinesCredential-95"><a href="#AzurePipelinesCredential-95"><span class="linenos"> 95</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_service_connection_id</span> <span class="o">=</span> <span class="n">service_connection_id</span>
</span><span id="AzurePipelinesCredential-96"><a href="#AzurePipelinesCredential-96"><span class="linenos"> 96</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client_assertion_credential</span> <span class="o">=</span> <span class="n">ClientAssertionCredential</span><span class="p">(</span>
</span><span id="AzurePipelinesCredential-97"><a href="#AzurePipelinesCredential-97"><span class="linenos"> 97</span></a>            <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_oidc_token</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="AzurePipelinesCredential-98"><a href="#AzurePipelinesCredential-98"><span class="linenos"> 98</span></a>        <span class="p">)</span>
</span><span id="AzurePipelinesCredential-99"><a href="#AzurePipelinesCredential-99"><span class="linenos"> 99</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span> <span class="o">=</span> <span class="n">build_pipeline</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="AzurePipelinesCredential-100"><a href="#AzurePipelinesCredential-100"><span class="linenos">100</span></a>
</span><span id="AzurePipelinesCredential-101"><a href="#AzurePipelinesCredential-101"><span class="linenos">101</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="AzurePipelinesCredential-102"><a href="#AzurePipelinesCredential-102"><span class="linenos">102</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential-103"><a href="#AzurePipelinesCredential-103"><span class="linenos">103</span></a>        <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential-104"><a href="#AzurePipelinesCredential-104"><span class="linenos">104</span></a>        <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential-105"><a href="#AzurePipelinesCredential-105"><span class="linenos">105</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential-106"><a href="#AzurePipelinesCredential-106"><span class="linenos">106</span></a>        <span class="n">enable_cae</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential-107"><a href="#AzurePipelinesCredential-107"><span class="linenos">107</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential-108"><a href="#AzurePipelinesCredential-108"><span class="linenos">108</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="AzurePipelinesCredential-109"><a href="#AzurePipelinesCredential-109"><span class="linenos">109</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AzurePipelinesCredential-110"><a href="#AzurePipelinesCredential-110"><span class="linenos">110</span></a>
</span><span id="AzurePipelinesCredential-111"><a href="#AzurePipelinesCredential-111"><span class="linenos">111</span></a><span class="sd">        This method is called automatically by Azure SDK clients.</span>
</span><span id="AzurePipelinesCredential-112"><a href="#AzurePipelinesCredential-112"><span class="linenos">112</span></a>
</span><span id="AzurePipelinesCredential-113"><a href="#AzurePipelinesCredential-113"><span class="linenos">113</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="AzurePipelinesCredential-114"><a href="#AzurePipelinesCredential-114"><span class="linenos">114</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="AzurePipelinesCredential-115"><a href="#AzurePipelinesCredential-115"><span class="linenos">115</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AzurePipelinesCredential-116"><a href="#AzurePipelinesCredential-116"><span class="linenos">116</span></a><span class="sd">        :keyword str claims: additional claims required in the token, such as those returned in a resource provider&#39;s</span>
</span><span id="AzurePipelinesCredential-117"><a href="#AzurePipelinesCredential-117"><span class="linenos">117</span></a><span class="sd">            claims challenge following an authorization failure.</span>
</span><span id="AzurePipelinesCredential-118"><a href="#AzurePipelinesCredential-118"><span class="linenos">118</span></a><span class="sd">        :keyword str tenant_id: optional tenant to include in the token request.</span>
</span><span id="AzurePipelinesCredential-119"><a href="#AzurePipelinesCredential-119"><span class="linenos">119</span></a><span class="sd">        :keyword bool enable_cae: indicates whether to enable Continuous Access Evaluation (CAE) for the requested</span>
</span><span id="AzurePipelinesCredential-120"><a href="#AzurePipelinesCredential-120"><span class="linenos">120</span></a><span class="sd">            token. Defaults to False.</span>
</span><span id="AzurePipelinesCredential-121"><a href="#AzurePipelinesCredential-121"><span class="linenos">121</span></a>
</span><span id="AzurePipelinesCredential-122"><a href="#AzurePipelinesCredential-122"><span class="linenos">122</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="AzurePipelinesCredential-123"><a href="#AzurePipelinesCredential-123"><span class="linenos">123</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="AzurePipelinesCredential-124"><a href="#AzurePipelinesCredential-124"><span class="linenos">124</span></a><span class="sd">        :raises CredentialUnavailableError: the credential is unable to attempt authentication because it lacks</span>
</span><span id="AzurePipelinesCredential-125"><a href="#AzurePipelinesCredential-125"><span class="linenos">125</span></a><span class="sd">            required data, state, or platform support</span>
</span><span id="AzurePipelinesCredential-126"><a href="#AzurePipelinesCredential-126"><span class="linenos">126</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: authentication failed. The error&#39;s ``message``</span>
</span><span id="AzurePipelinesCredential-127"><a href="#AzurePipelinesCredential-127"><span class="linenos">127</span></a><span class="sd">            attribute gives a reason.</span>
</span><span id="AzurePipelinesCredential-128"><a href="#AzurePipelinesCredential-128"><span class="linenos">128</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AzurePipelinesCredential-129"><a href="#AzurePipelinesCredential-129"><span class="linenos">129</span></a>        <span class="n">validate_env_vars</span><span class="p">()</span>
</span><span id="AzurePipelinesCredential-130"><a href="#AzurePipelinesCredential-130"><span class="linenos">130</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_assertion_credential</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
</span><span id="AzurePipelinesCredential-131"><a href="#AzurePipelinesCredential-131"><span class="linenos">131</span></a>            <span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="n">enable_cae</span><span class="o">=</span><span class="n">enable_cae</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="AzurePipelinesCredential-132"><a href="#AzurePipelinesCredential-132"><span class="linenos">132</span></a>        <span class="p">)</span>
</span><span id="AzurePipelinesCredential-133"><a href="#AzurePipelinesCredential-133"><span class="linenos">133</span></a>
</span><span id="AzurePipelinesCredential-134"><a href="#AzurePipelinesCredential-134"><span class="linenos">134</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="AzurePipelinesCredential-135"><a href="#AzurePipelinesCredential-135"><span class="linenos">135</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AzurePipelinesCredential-136"><a href="#AzurePipelinesCredential-136"><span class="linenos">136</span></a>
</span><span id="AzurePipelinesCredential-137"><a href="#AzurePipelinesCredential-137"><span class="linenos">137</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="AzurePipelinesCredential-138"><a href="#AzurePipelinesCredential-138"><span class="linenos">138</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients.</span>
</span><span id="AzurePipelinesCredential-139"><a href="#AzurePipelinesCredential-139"><span class="linenos">139</span></a>
</span><span id="AzurePipelinesCredential-140"><a href="#AzurePipelinesCredential-140"><span class="linenos">140</span></a><span class="sd">        :param str scopes: desired scope for the access token. This method requires at least one scope.</span>
</span><span id="AzurePipelinesCredential-141"><a href="#AzurePipelinesCredential-141"><span class="linenos">141</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AzurePipelinesCredential-142"><a href="#AzurePipelinesCredential-142"><span class="linenos">142</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="AzurePipelinesCredential-143"><a href="#AzurePipelinesCredential-143"><span class="linenos">143</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="AzurePipelinesCredential-144"><a href="#AzurePipelinesCredential-144"><span class="linenos">144</span></a>
</span><span id="AzurePipelinesCredential-145"><a href="#AzurePipelinesCredential-145"><span class="linenos">145</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="AzurePipelinesCredential-146"><a href="#AzurePipelinesCredential-146"><span class="linenos">146</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="AzurePipelinesCredential-147"><a href="#AzurePipelinesCredential-147"><span class="linenos">147</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: authentication failed. The error&#39;s ``message``</span>
</span><span id="AzurePipelinesCredential-148"><a href="#AzurePipelinesCredential-148"><span class="linenos">148</span></a><span class="sd">            attribute gives a reason.</span>
</span><span id="AzurePipelinesCredential-149"><a href="#AzurePipelinesCredential-149"><span class="linenos">149</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AzurePipelinesCredential-150"><a href="#AzurePipelinesCredential-150"><span class="linenos">150</span></a>        <span class="n">validate_env_vars</span><span class="p">()</span>
</span><span id="AzurePipelinesCredential-151"><a href="#AzurePipelinesCredential-151"><span class="linenos">151</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_assertion_credential</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span><span id="AzurePipelinesCredential-152"><a href="#AzurePipelinesCredential-152"><span class="linenos">152</span></a>
</span><span id="AzurePipelinesCredential-153"><a href="#AzurePipelinesCredential-153"><span class="linenos">153</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_oidc_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="AzurePipelinesCredential-154"><a href="#AzurePipelinesCredential-154"><span class="linenos">154</span></a>        <span class="n">request</span> <span class="o">=</span> <span class="n">build_oidc_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_service_connection_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_system_access_token</span><span class="p">)</span>
</span><span id="AzurePipelinesCredential-155"><a href="#AzurePipelinesCredential-155"><span class="linenos">155</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">retry_on_methods</span><span class="o">=</span><span class="p">[</span><span class="n">request</span><span class="o">.</span><span class="n">method</span><span class="p">])</span>
</span><span id="AzurePipelinesCredential-156"><a href="#AzurePipelinesCredential-156"><span class="linenos">156</span></a>        <span class="n">http_response</span><span class="p">:</span> <span class="n">HttpResponse</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">http_response</span>
</span><span id="AzurePipelinesCredential-157"><a href="#AzurePipelinesCredential-157"><span class="linenos">157</span></a>        <span class="k">if</span> <span class="n">http_response</span><span class="o">.</span><span class="n">status_code</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">200</span><span class="p">]:</span>
</span><span id="AzurePipelinesCredential-158"><a href="#AzurePipelinesCredential-158"><span class="linenos">158</span></a>            <span class="k">raise</span> <span class="n">ClientAuthenticationError</span><span class="p">(</span>
</span><span id="AzurePipelinesCredential-159"><a href="#AzurePipelinesCredential-159"><span class="linenos">159</span></a>                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Unexpected response from OIDC token endpoint.&quot;</span><span class="p">,</span> <span class="n">response</span><span class="o">=</span><span class="n">http_response</span>
</span><span id="AzurePipelinesCredential-160"><a href="#AzurePipelinesCredential-160"><span class="linenos">160</span></a>            <span class="p">)</span>
</span><span id="AzurePipelinesCredential-161"><a href="#AzurePipelinesCredential-161"><span class="linenos">161</span></a>        <span class="n">json_response</span> <span class="o">=</span> <span class="n">http_response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</span><span id="AzurePipelinesCredential-162"><a href="#AzurePipelinesCredential-162"><span class="linenos">162</span></a>        <span class="k">if</span> <span class="s2">&quot;oidcToken&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">json_response</span><span class="p">:</span>
</span><span id="AzurePipelinesCredential-163"><a href="#AzurePipelinesCredential-163"><span class="linenos">163</span></a>            <span class="k">raise</span> <span class="n">ClientAuthenticationError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;OIDC token not found in response.&quot;</span><span class="p">)</span>
</span><span id="AzurePipelinesCredential-164"><a href="#AzurePipelinesCredential-164"><span class="linenos">164</span></a>        <span class="k">return</span> <span class="n">json_response</span><span class="p">[</span><span class="s2">&quot;oidcToken&quot;</span><span class="p">]</span>
</span><span id="AzurePipelinesCredential-165"><a href="#AzurePipelinesCredential-165"><span class="linenos">165</span></a>
</span><span id="AzurePipelinesCredential-166"><a href="#AzurePipelinesCredential-166"><span class="linenos">166</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="AzurePipelinesCredential-167"><a href="#AzurePipelinesCredential-167"><span class="linenos">167</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client_assertion_credential</span><span class="o">.</span><span class="fm">__enter__</span><span class="p">()</span>
</span><span id="AzurePipelinesCredential-168"><a href="#AzurePipelinesCredential-168"><span class="linenos">168</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span><span class="o">.</span><span class="fm">__enter__</span><span class="p">()</span>
</span><span id="AzurePipelinesCredential-169"><a href="#AzurePipelinesCredential-169"><span class="linenos">169</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="AzurePipelinesCredential-170"><a href="#AzurePipelinesCredential-170"><span class="linenos">170</span></a>
</span><span id="AzurePipelinesCredential-171"><a href="#AzurePipelinesCredential-171"><span class="linenos">171</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
</span><span id="AzurePipelinesCredential-172"><a href="#AzurePipelinesCredential-172"><span class="linenos">172</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client_assertion_credential</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
</span><span id="AzurePipelinesCredential-173"><a href="#AzurePipelinesCredential-173"><span class="linenos">173</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
</span><span id="AzurePipelinesCredential-174"><a href="#AzurePipelinesCredential-174"><span class="linenos">174</span></a>
</span><span id="AzurePipelinesCredential-175"><a href="#AzurePipelinesCredential-175"><span class="linenos">175</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzurePipelinesCredential-176"><a href="#AzurePipelinesCredential-176"><span class="linenos">176</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the credential&#39;s transport session.&quot;&quot;&quot;</span>
</span><span id="AzurePipelinesCredential-177"><a href="#AzurePipelinesCredential-177"><span class="linenos">177</span></a>        <span class="bp">self</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Authenticates using Microsoft Entra Workload ID in Azure Pipelines.</p>

<p>This credential enables authentication in Azure Pipelines using workload identity federation for Azure service
connections.</p>

<p>:keyword str tenant_id: The tenant ID for the service connection. Required.
:keyword str client_id: The client ID for the service connection. Required.
:keyword str service_connection_id: The service connection ID for the service connection associated with the
    pipeline. From the service connection's configuration page URL in the Azure DevOps web portal, the ID
    is the value of the "resourceId" query parameter. Required.
:keyword str system_access_token: The pipeline's System.AccessToken value. It is recommended to assign the value
    of System.AccessToken to a secure variable in the Azure Pipelines environment. See
    <a href="https://learn.microsoft.com/azure/devops/pipelines/build/variables#systemaccesstoken">https://learn.microsoft.com/azure/devops/pipelines/build/variables#systemaccesstoken</a> for more info. Required.
:keyword str authority: Authority of a Microsoft Entra endpoint, for example "login.microsoftonline.com",
    the authority for Azure Public Cloud (which is the default). <code>~<a href="#AzureAuthorityHosts">azure.identity.AzureAuthorityHosts</a></code>
    defines authorities for other clouds.
:keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified "tenant_id"
    for which the credential may acquire tokens. Add the wildcard value "*" to allow the credential to
    acquire tokens for any tenant the application can access.</p>

<p>.. admonition:: Example:</p>

<pre><code>.. literalinclude:: ../samples/credential_creation_code_snippets.py
    :start-after: [START create_azure_pipelines_credential]
    :end-before: [END create_azure_pipelines_credential]
    :language: python
    :dedent: 4
    :caption: Create an AzurePipelinesCredential.
</code></pre>
</div>


                            <div id="AzurePipelinesCredential.__init__" class="classattr">
                                        <input id="AzurePipelinesCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">AzurePipelinesCredential</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">service_connection_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">system_access_token</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="AzurePipelinesCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzurePipelinesCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzurePipelinesCredential.__init__-78"><a href="#AzurePipelinesCredential.__init__-78"><span class="linenos">78</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="AzurePipelinesCredential.__init__-79"><a href="#AzurePipelinesCredential.__init__-79"><span class="linenos">79</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential.__init__-80"><a href="#AzurePipelinesCredential.__init__-80"><span class="linenos">80</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential.__init__-81"><a href="#AzurePipelinesCredential.__init__-81"><span class="linenos">81</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential.__init__-82"><a href="#AzurePipelinesCredential.__init__-82"><span class="linenos">82</span></a>        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential.__init__-83"><a href="#AzurePipelinesCredential.__init__-83"><span class="linenos">83</span></a>        <span class="n">service_connection_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential.__init__-84"><a href="#AzurePipelinesCredential.__init__-84"><span class="linenos">84</span></a>        <span class="n">system_access_token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential.__init__-85"><a href="#AzurePipelinesCredential.__init__-85"><span class="linenos">85</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential.__init__-86"><a href="#AzurePipelinesCredential.__init__-86"><span class="linenos">86</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzurePipelinesCredential.__init__-87"><a href="#AzurePipelinesCredential.__init__-87"><span class="linenos">87</span></a>
</span><span id="AzurePipelinesCredential.__init__-88"><a href="#AzurePipelinesCredential.__init__-88"><span class="linenos">88</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">system_access_token</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">tenant_id</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">client_id</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">service_connection_id</span><span class="p">:</span>
</span><span id="AzurePipelinesCredential.__init__-89"><a href="#AzurePipelinesCredential.__init__-89"><span class="linenos">89</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="AzurePipelinesCredential.__init__-90"><a href="#AzurePipelinesCredential.__init__-90"><span class="linenos">90</span></a>                <span class="s2">&quot;&#39;tenant_id&#39;, &#39;client_id&#39;, &#39;service_connection_id&#39;, and &#39;system_access_token&#39; must be passed in as &quot;</span>
</span><span id="AzurePipelinesCredential.__init__-91"><a href="#AzurePipelinesCredential.__init__-91"><span class="linenos">91</span></a>                <span class="sa">f</span><span class="s2">&quot;keyword arguments. Please refer to the troubleshooting guide at </span><span class="si">{</span><span class="n">TROUBLESHOOTING_GUIDE</span><span class="si">}</span><span class="s2">.&quot;</span>
</span><span id="AzurePipelinesCredential.__init__-92"><a href="#AzurePipelinesCredential.__init__-92"><span class="linenos">92</span></a>            <span class="p">)</span>
</span><span id="AzurePipelinesCredential.__init__-93"><a href="#AzurePipelinesCredential.__init__-93"><span class="linenos">93</span></a>        <span class="n">validate_tenant_id</span><span class="p">(</span><span class="n">tenant_id</span><span class="p">)</span>
</span><span id="AzurePipelinesCredential.__init__-94"><a href="#AzurePipelinesCredential.__init__-94"><span class="linenos">94</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_system_access_token</span> <span class="o">=</span> <span class="n">system_access_token</span>
</span><span id="AzurePipelinesCredential.__init__-95"><a href="#AzurePipelinesCredential.__init__-95"><span class="linenos">95</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_service_connection_id</span> <span class="o">=</span> <span class="n">service_connection_id</span>
</span><span id="AzurePipelinesCredential.__init__-96"><a href="#AzurePipelinesCredential.__init__-96"><span class="linenos">96</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client_assertion_credential</span> <span class="o">=</span> <span class="n">ClientAssertionCredential</span><span class="p">(</span>
</span><span id="AzurePipelinesCredential.__init__-97"><a href="#AzurePipelinesCredential.__init__-97"><span class="linenos">97</span></a>            <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_oidc_token</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="AzurePipelinesCredential.__init__-98"><a href="#AzurePipelinesCredential.__init__-98"><span class="linenos">98</span></a>        <span class="p">)</span>
</span><span id="AzurePipelinesCredential.__init__-99"><a href="#AzurePipelinesCredential.__init__-99"><span class="linenos">99</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span> <span class="o">=</span> <span class="n">build_pipeline</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="AzurePipelinesCredential.get_token" class="classattr">
                                        <input id="AzurePipelinesCredential.get_token-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_token</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">enable_cae</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessToken</span>:</span></span>

                <label class="view-source-button" for="AzurePipelinesCredential.get_token-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzurePipelinesCredential.get_token"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzurePipelinesCredential.get_token-101"><a href="#AzurePipelinesCredential.get_token-101"><span class="linenos">101</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="AzurePipelinesCredential.get_token-102"><a href="#AzurePipelinesCredential.get_token-102"><span class="linenos">102</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential.get_token-103"><a href="#AzurePipelinesCredential.get_token-103"><span class="linenos">103</span></a>        <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential.get_token-104"><a href="#AzurePipelinesCredential.get_token-104"><span class="linenos">104</span></a>        <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential.get_token-105"><a href="#AzurePipelinesCredential.get_token-105"><span class="linenos">105</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential.get_token-106"><a href="#AzurePipelinesCredential.get_token-106"><span class="linenos">106</span></a>        <span class="n">enable_cae</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential.get_token-107"><a href="#AzurePipelinesCredential.get_token-107"><span class="linenos">107</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="AzurePipelinesCredential.get_token-108"><a href="#AzurePipelinesCredential.get_token-108"><span class="linenos">108</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="AzurePipelinesCredential.get_token-109"><a href="#AzurePipelinesCredential.get_token-109"><span class="linenos">109</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AzurePipelinesCredential.get_token-110"><a href="#AzurePipelinesCredential.get_token-110"><span class="linenos">110</span></a>
</span><span id="AzurePipelinesCredential.get_token-111"><a href="#AzurePipelinesCredential.get_token-111"><span class="linenos">111</span></a><span class="sd">        This method is called automatically by Azure SDK clients.</span>
</span><span id="AzurePipelinesCredential.get_token-112"><a href="#AzurePipelinesCredential.get_token-112"><span class="linenos">112</span></a>
</span><span id="AzurePipelinesCredential.get_token-113"><a href="#AzurePipelinesCredential.get_token-113"><span class="linenos">113</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="AzurePipelinesCredential.get_token-114"><a href="#AzurePipelinesCredential.get_token-114"><span class="linenos">114</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="AzurePipelinesCredential.get_token-115"><a href="#AzurePipelinesCredential.get_token-115"><span class="linenos">115</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AzurePipelinesCredential.get_token-116"><a href="#AzurePipelinesCredential.get_token-116"><span class="linenos">116</span></a><span class="sd">        :keyword str claims: additional claims required in the token, such as those returned in a resource provider&#39;s</span>
</span><span id="AzurePipelinesCredential.get_token-117"><a href="#AzurePipelinesCredential.get_token-117"><span class="linenos">117</span></a><span class="sd">            claims challenge following an authorization failure.</span>
</span><span id="AzurePipelinesCredential.get_token-118"><a href="#AzurePipelinesCredential.get_token-118"><span class="linenos">118</span></a><span class="sd">        :keyword str tenant_id: optional tenant to include in the token request.</span>
</span><span id="AzurePipelinesCredential.get_token-119"><a href="#AzurePipelinesCredential.get_token-119"><span class="linenos">119</span></a><span class="sd">        :keyword bool enable_cae: indicates whether to enable Continuous Access Evaluation (CAE) for the requested</span>
</span><span id="AzurePipelinesCredential.get_token-120"><a href="#AzurePipelinesCredential.get_token-120"><span class="linenos">120</span></a><span class="sd">            token. Defaults to False.</span>
</span><span id="AzurePipelinesCredential.get_token-121"><a href="#AzurePipelinesCredential.get_token-121"><span class="linenos">121</span></a>
</span><span id="AzurePipelinesCredential.get_token-122"><a href="#AzurePipelinesCredential.get_token-122"><span class="linenos">122</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="AzurePipelinesCredential.get_token-123"><a href="#AzurePipelinesCredential.get_token-123"><span class="linenos">123</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="AzurePipelinesCredential.get_token-124"><a href="#AzurePipelinesCredential.get_token-124"><span class="linenos">124</span></a><span class="sd">        :raises CredentialUnavailableError: the credential is unable to attempt authentication because it lacks</span>
</span><span id="AzurePipelinesCredential.get_token-125"><a href="#AzurePipelinesCredential.get_token-125"><span class="linenos">125</span></a><span class="sd">            required data, state, or platform support</span>
</span><span id="AzurePipelinesCredential.get_token-126"><a href="#AzurePipelinesCredential.get_token-126"><span class="linenos">126</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: authentication failed. The error&#39;s ``message``</span>
</span><span id="AzurePipelinesCredential.get_token-127"><a href="#AzurePipelinesCredential.get_token-127"><span class="linenos">127</span></a><span class="sd">            attribute gives a reason.</span>
</span><span id="AzurePipelinesCredential.get_token-128"><a href="#AzurePipelinesCredential.get_token-128"><span class="linenos">128</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AzurePipelinesCredential.get_token-129"><a href="#AzurePipelinesCredential.get_token-129"><span class="linenos">129</span></a>        <span class="n">validate_env_vars</span><span class="p">()</span>
</span><span id="AzurePipelinesCredential.get_token-130"><a href="#AzurePipelinesCredential.get_token-130"><span class="linenos">130</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_assertion_credential</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
</span><span id="AzurePipelinesCredential.get_token-131"><a href="#AzurePipelinesCredential.get_token-131"><span class="linenos">131</span></a>            <span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="n">enable_cae</span><span class="o">=</span><span class="n">enable_cae</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="AzurePipelinesCredential.get_token-132"><a href="#AzurePipelinesCredential.get_token-132"><span class="linenos">132</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code>.</p>

<p>This method is called automatically by Azure SDK clients.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scopes for the access token. This method requires at least one scope.
For more information about scopes, see
<a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword str claims: additional claims required in the token, such as those returned in a resource provider's
claims challenge following an authorization failure.
:keyword str tenant_id: optional tenant to include in the token request.
:keyword bool enable_cae: indicates whether to enable Continuous Access Evaluation (CAE) for the requested
token. Defaults to False.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An access token with the desired scopes.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>CredentialUnavailableError</strong>:  the credential is unable to attempt authentication because it lacks
required data, state, or platform support</li>
<li><strong>~azure.core.exceptions.ClientAuthenticationError</strong>:  authentication failed. The error's <code>message</code>
attribute gives a reason.</li>
</ul>
</div>


                            </div>
                            <div id="AzurePipelinesCredential.get_token_info" class="classattr">
                                        <input id="AzurePipelinesCredential.get_token_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_token_info</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessTokenInfo</span>:</span></span>

                <label class="view-source-button" for="AzurePipelinesCredential.get_token_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzurePipelinesCredential.get_token_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzurePipelinesCredential.get_token_info-134"><a href="#AzurePipelinesCredential.get_token_info-134"><span class="linenos">134</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="AzurePipelinesCredential.get_token_info-135"><a href="#AzurePipelinesCredential.get_token_info-135"><span class="linenos">135</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AzurePipelinesCredential.get_token_info-136"><a href="#AzurePipelinesCredential.get_token_info-136"><span class="linenos">136</span></a>
</span><span id="AzurePipelinesCredential.get_token_info-137"><a href="#AzurePipelinesCredential.get_token_info-137"><span class="linenos">137</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="AzurePipelinesCredential.get_token_info-138"><a href="#AzurePipelinesCredential.get_token_info-138"><span class="linenos">138</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients.</span>
</span><span id="AzurePipelinesCredential.get_token_info-139"><a href="#AzurePipelinesCredential.get_token_info-139"><span class="linenos">139</span></a>
</span><span id="AzurePipelinesCredential.get_token_info-140"><a href="#AzurePipelinesCredential.get_token_info-140"><span class="linenos">140</span></a><span class="sd">        :param str scopes: desired scope for the access token. This method requires at least one scope.</span>
</span><span id="AzurePipelinesCredential.get_token_info-141"><a href="#AzurePipelinesCredential.get_token_info-141"><span class="linenos">141</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AzurePipelinesCredential.get_token_info-142"><a href="#AzurePipelinesCredential.get_token_info-142"><span class="linenos">142</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="AzurePipelinesCredential.get_token_info-143"><a href="#AzurePipelinesCredential.get_token_info-143"><span class="linenos">143</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="AzurePipelinesCredential.get_token_info-144"><a href="#AzurePipelinesCredential.get_token_info-144"><span class="linenos">144</span></a>
</span><span id="AzurePipelinesCredential.get_token_info-145"><a href="#AzurePipelinesCredential.get_token_info-145"><span class="linenos">145</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="AzurePipelinesCredential.get_token_info-146"><a href="#AzurePipelinesCredential.get_token_info-146"><span class="linenos">146</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="AzurePipelinesCredential.get_token_info-147"><a href="#AzurePipelinesCredential.get_token_info-147"><span class="linenos">147</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: authentication failed. The error&#39;s ``message``</span>
</span><span id="AzurePipelinesCredential.get_token_info-148"><a href="#AzurePipelinesCredential.get_token_info-148"><span class="linenos">148</span></a><span class="sd">            attribute gives a reason.</span>
</span><span id="AzurePipelinesCredential.get_token_info-149"><a href="#AzurePipelinesCredential.get_token_info-149"><span class="linenos">149</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AzurePipelinesCredential.get_token_info-150"><a href="#AzurePipelinesCredential.get_token_info-150"><span class="linenos">150</span></a>        <span class="n">validate_env_vars</span><span class="p">()</span>
</span><span id="AzurePipelinesCredential.get_token_info-151"><a href="#AzurePipelinesCredential.get_token_info-151"><span class="linenos">151</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_assertion_credential</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code>.</p>

<p>This is an alternative to <code><a href="#AzurePipelinesCredential.get_token">get_token</a></code> to enable certain scenarios that require additional properties
on the token. This method is called automatically by Azure SDK clients.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scope for the access token. This method requires at least one scope.
For more information about scopes, see <a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.
:paramtype options: ~azure.core.credentials.TokenRequestOptions</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An AccessTokenInfo instance containing information about the token.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~azure.core.exceptions.ClientAuthenticationError</strong>:  authentication failed. The error's <code>message</code>
attribute gives a reason.</li>
</ul>
</div>


                            </div>
                            <div id="AzurePipelinesCredential.close" class="classattr">
                                        <input id="AzurePipelinesCredential.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="AzurePipelinesCredential.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzurePipelinesCredential.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzurePipelinesCredential.close-175"><a href="#AzurePipelinesCredential.close-175"><span class="linenos">175</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzurePipelinesCredential.close-176"><a href="#AzurePipelinesCredential.close-176"><span class="linenos">176</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the credential&#39;s transport session.&quot;&quot;&quot;</span>
</span><span id="AzurePipelinesCredential.close-177"><a href="#AzurePipelinesCredential.close-177"><span class="linenos">177</span></a>        <span class="bp">self</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Close the credential's transport session.</p>
</div>


                            </div>
                </section>
                <section id="AzurePowerShellCredential">
                            <input id="AzurePowerShellCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">AzurePowerShellCredential</span>:

                <label class="view-source-button" for="AzurePowerShellCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzurePowerShellCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzurePowerShellCredential-69"><a href="#AzurePowerShellCredential-69"><span class="linenos"> 69</span></a><span class="k">class</span><span class="w"> </span><span class="nc">AzurePowerShellCredential</span><span class="p">:</span>
</span><span id="AzurePowerShellCredential-70"><a href="#AzurePowerShellCredential-70"><span class="linenos"> 70</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticates by requesting a token from Azure PowerShell.</span>
</span><span id="AzurePowerShellCredential-71"><a href="#AzurePowerShellCredential-71"><span class="linenos"> 71</span></a>
</span><span id="AzurePowerShellCredential-72"><a href="#AzurePowerShellCredential-72"><span class="linenos"> 72</span></a><span class="sd">    This requires previously logging in to Azure via &quot;Connect-AzAccount&quot;, and will use the currently logged in identity.</span>
</span><span id="AzurePowerShellCredential-73"><a href="#AzurePowerShellCredential-73"><span class="linenos"> 73</span></a>
</span><span id="AzurePowerShellCredential-74"><a href="#AzurePowerShellCredential-74"><span class="linenos"> 74</span></a><span class="sd">    :keyword str tenant_id: Optional tenant to include in the token request.</span>
</span><span id="AzurePowerShellCredential-75"><a href="#AzurePowerShellCredential-75"><span class="linenos"> 75</span></a><span class="sd">    :keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified &quot;tenant_id&quot;</span>
</span><span id="AzurePowerShellCredential-76"><a href="#AzurePowerShellCredential-76"><span class="linenos"> 76</span></a><span class="sd">        for which the credential may acquire tokens. Add the wildcard value &quot;*&quot; to allow the credential to</span>
</span><span id="AzurePowerShellCredential-77"><a href="#AzurePowerShellCredential-77"><span class="linenos"> 77</span></a><span class="sd">        acquire tokens for any tenant the application can access.</span>
</span><span id="AzurePowerShellCredential-78"><a href="#AzurePowerShellCredential-78"><span class="linenos"> 78</span></a><span class="sd">    :keyword int process_timeout: Seconds to wait for the Azure PowerShell process to respond. Defaults to 10 seconds.</span>
</span><span id="AzurePowerShellCredential-79"><a href="#AzurePowerShellCredential-79"><span class="linenos"> 79</span></a>
</span><span id="AzurePowerShellCredential-80"><a href="#AzurePowerShellCredential-80"><span class="linenos"> 80</span></a><span class="sd">    .. admonition:: Example:</span>
</span><span id="AzurePowerShellCredential-81"><a href="#AzurePowerShellCredential-81"><span class="linenos"> 81</span></a>
</span><span id="AzurePowerShellCredential-82"><a href="#AzurePowerShellCredential-82"><span class="linenos"> 82</span></a><span class="sd">        .. literalinclude:: ../samples/credential_creation_code_snippets.py</span>
</span><span id="AzurePowerShellCredential-83"><a href="#AzurePowerShellCredential-83"><span class="linenos"> 83</span></a><span class="sd">            :start-after: [START create_azure_power_shell_credential]</span>
</span><span id="AzurePowerShellCredential-84"><a href="#AzurePowerShellCredential-84"><span class="linenos"> 84</span></a><span class="sd">            :end-before: [END create_azure_power_shell_credential]</span>
</span><span id="AzurePowerShellCredential-85"><a href="#AzurePowerShellCredential-85"><span class="linenos"> 85</span></a><span class="sd">            :language: python</span>
</span><span id="AzurePowerShellCredential-86"><a href="#AzurePowerShellCredential-86"><span class="linenos"> 86</span></a><span class="sd">            :dedent: 4</span>
</span><span id="AzurePowerShellCredential-87"><a href="#AzurePowerShellCredential-87"><span class="linenos"> 87</span></a><span class="sd">            :caption: Create an AzurePowerShellCredential.</span>
</span><span id="AzurePowerShellCredential-88"><a href="#AzurePowerShellCredential-88"><span class="linenos"> 88</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="AzurePowerShellCredential-89"><a href="#AzurePowerShellCredential-89"><span class="linenos"> 89</span></a>
</span><span id="AzurePowerShellCredential-90"><a href="#AzurePowerShellCredential-90"><span class="linenos"> 90</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="AzurePowerShellCredential-91"><a href="#AzurePowerShellCredential-91"><span class="linenos"> 91</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential-92"><a href="#AzurePowerShellCredential-92"><span class="linenos"> 92</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential-93"><a href="#AzurePowerShellCredential-93"><span class="linenos"> 93</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential-94"><a href="#AzurePowerShellCredential-94"><span class="linenos"> 94</span></a>        <span class="n">additionally_allowed_tenants</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential-95"><a href="#AzurePowerShellCredential-95"><span class="linenos"> 95</span></a>        <span class="n">process_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential-96"><a href="#AzurePowerShellCredential-96"><span class="linenos"> 96</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzurePowerShellCredential-97"><a href="#AzurePowerShellCredential-97"><span class="linenos"> 97</span></a>        <span class="k">if</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="AzurePowerShellCredential-98"><a href="#AzurePowerShellCredential-98"><span class="linenos"> 98</span></a>            <span class="n">validate_tenant_id</span><span class="p">(</span><span class="n">tenant_id</span><span class="p">)</span>
</span><span id="AzurePowerShellCredential-99"><a href="#AzurePowerShellCredential-99"><span class="linenos"> 99</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tenant_id</span> <span class="o">=</span> <span class="n">tenant_id</span>
</span><span id="AzurePowerShellCredential-100"><a href="#AzurePowerShellCredential-100"><span class="linenos">100</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_additionally_allowed_tenants</span> <span class="o">=</span> <span class="n">additionally_allowed_tenants</span> <span class="ow">or</span> <span class="p">[]</span>
</span><span id="AzurePowerShellCredential-101"><a href="#AzurePowerShellCredential-101"><span class="linenos">101</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_process_timeout</span> <span class="o">=</span> <span class="n">process_timeout</span>
</span><span id="AzurePowerShellCredential-102"><a href="#AzurePowerShellCredential-102"><span class="linenos">102</span></a>
</span><span id="AzurePowerShellCredential-103"><a href="#AzurePowerShellCredential-103"><span class="linenos">103</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AzurePowerShellCredential&quot;</span><span class="p">:</span>
</span><span id="AzurePowerShellCredential-104"><a href="#AzurePowerShellCredential-104"><span class="linenos">104</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="AzurePowerShellCredential-105"><a href="#AzurePowerShellCredential-105"><span class="linenos">105</span></a>
</span><span id="AzurePowerShellCredential-106"><a href="#AzurePowerShellCredential-106"><span class="linenos">106</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzurePowerShellCredential-107"><a href="#AzurePowerShellCredential-107"><span class="linenos">107</span></a>        <span class="k">pass</span>
</span><span id="AzurePowerShellCredential-108"><a href="#AzurePowerShellCredential-108"><span class="linenos">108</span></a>
</span><span id="AzurePowerShellCredential-109"><a href="#AzurePowerShellCredential-109"><span class="linenos">109</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzurePowerShellCredential-110"><a href="#AzurePowerShellCredential-110"><span class="linenos">110</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calling this method is unnecessary.&quot;&quot;&quot;</span>
</span><span id="AzurePowerShellCredential-111"><a href="#AzurePowerShellCredential-111"><span class="linenos">111</span></a>
</span><span id="AzurePowerShellCredential-112"><a href="#AzurePowerShellCredential-112"><span class="linenos">112</span></a>    <span class="nd">@log_get_token</span>
</span><span id="AzurePowerShellCredential-113"><a href="#AzurePowerShellCredential-113"><span class="linenos">113</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="AzurePowerShellCredential-114"><a href="#AzurePowerShellCredential-114"><span class="linenos">114</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential-115"><a href="#AzurePowerShellCredential-115"><span class="linenos">115</span></a>        <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential-116"><a href="#AzurePowerShellCredential-116"><span class="linenos">116</span></a>        <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># pylint:disable=unused-argument</span>
</span><span id="AzurePowerShellCredential-117"><a href="#AzurePowerShellCredential-117"><span class="linenos">117</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential-118"><a href="#AzurePowerShellCredential-118"><span class="linenos">118</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential-119"><a href="#AzurePowerShellCredential-119"><span class="linenos">119</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="AzurePowerShellCredential-120"><a href="#AzurePowerShellCredential-120"><span class="linenos">120</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AzurePowerShellCredential-121"><a href="#AzurePowerShellCredential-121"><span class="linenos">121</span></a>
</span><span id="AzurePowerShellCredential-122"><a href="#AzurePowerShellCredential-122"><span class="linenos">122</span></a><span class="sd">        This method is called automatically by Azure SDK clients. Applications calling this method directly must</span>
</span><span id="AzurePowerShellCredential-123"><a href="#AzurePowerShellCredential-123"><span class="linenos">123</span></a><span class="sd">        also handle token caching because this credential doesn&#39;t cache the tokens it acquires.</span>
</span><span id="AzurePowerShellCredential-124"><a href="#AzurePowerShellCredential-124"><span class="linenos">124</span></a>
</span><span id="AzurePowerShellCredential-125"><a href="#AzurePowerShellCredential-125"><span class="linenos">125</span></a><span class="sd">        :param str scopes: desired scope for the access token. This credential allows only one scope per request.</span>
</span><span id="AzurePowerShellCredential-126"><a href="#AzurePowerShellCredential-126"><span class="linenos">126</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="AzurePowerShellCredential-127"><a href="#AzurePowerShellCredential-127"><span class="linenos">127</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AzurePowerShellCredential-128"><a href="#AzurePowerShellCredential-128"><span class="linenos">128</span></a><span class="sd">        :keyword str claims: not used by this credential; any value provided will be ignored.</span>
</span><span id="AzurePowerShellCredential-129"><a href="#AzurePowerShellCredential-129"><span class="linenos">129</span></a><span class="sd">        :keyword str tenant_id: optional tenant to include in the token request.</span>
</span><span id="AzurePowerShellCredential-130"><a href="#AzurePowerShellCredential-130"><span class="linenos">130</span></a>
</span><span id="AzurePowerShellCredential-131"><a href="#AzurePowerShellCredential-131"><span class="linenos">131</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="AzurePowerShellCredential-132"><a href="#AzurePowerShellCredential-132"><span class="linenos">132</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="AzurePowerShellCredential-133"><a href="#AzurePowerShellCredential-133"><span class="linenos">133</span></a>
</span><span id="AzurePowerShellCredential-134"><a href="#AzurePowerShellCredential-134"><span class="linenos">134</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the credential was unable to invoke Azure PowerShell, or</span>
</span><span id="AzurePowerShellCredential-135"><a href="#AzurePowerShellCredential-135"><span class="linenos">135</span></a><span class="sd">          no account is authenticated</span>
</span><span id="AzurePowerShellCredential-136"><a href="#AzurePowerShellCredential-136"><span class="linenos">136</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: the credential invoked Azure PowerShell but didn&#39;t</span>
</span><span id="AzurePowerShellCredential-137"><a href="#AzurePowerShellCredential-137"><span class="linenos">137</span></a><span class="sd">          receive an access token</span>
</span><span id="AzurePowerShellCredential-138"><a href="#AzurePowerShellCredential-138"><span class="linenos">138</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AzurePowerShellCredential-139"><a href="#AzurePowerShellCredential-139"><span class="linenos">139</span></a>
</span><span id="AzurePowerShellCredential-140"><a href="#AzurePowerShellCredential-140"><span class="linenos">140</span></a>        <span class="n">options</span><span class="p">:</span> <span class="n">TokenRequestOptions</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="AzurePowerShellCredential-141"><a href="#AzurePowerShellCredential-141"><span class="linenos">141</span></a>        <span class="k">if</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="AzurePowerShellCredential-142"><a href="#AzurePowerShellCredential-142"><span class="linenos">142</span></a>            <span class="n">options</span><span class="p">[</span><span class="s2">&quot;tenant_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tenant_id</span>
</span><span id="AzurePowerShellCredential-143"><a href="#AzurePowerShellCredential-143"><span class="linenos">143</span></a>
</span><span id="AzurePowerShellCredential-144"><a href="#AzurePowerShellCredential-144"><span class="linenos">144</span></a>        <span class="n">token_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_token_base</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="AzurePowerShellCredential-145"><a href="#AzurePowerShellCredential-145"><span class="linenos">145</span></a>        <span class="k">return</span> <span class="n">AccessToken</span><span class="p">(</span><span class="n">token_info</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">token_info</span><span class="o">.</span><span class="n">expires_on</span><span class="p">)</span>
</span><span id="AzurePowerShellCredential-146"><a href="#AzurePowerShellCredential-146"><span class="linenos">146</span></a>
</span><span id="AzurePowerShellCredential-147"><a href="#AzurePowerShellCredential-147"><span class="linenos">147</span></a>    <span class="nd">@log_get_token</span>
</span><span id="AzurePowerShellCredential-148"><a href="#AzurePowerShellCredential-148"><span class="linenos">148</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="AzurePowerShellCredential-149"><a href="#AzurePowerShellCredential-149"><span class="linenos">149</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AzurePowerShellCredential-150"><a href="#AzurePowerShellCredential-150"><span class="linenos">150</span></a>
</span><span id="AzurePowerShellCredential-151"><a href="#AzurePowerShellCredential-151"><span class="linenos">151</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="AzurePowerShellCredential-152"><a href="#AzurePowerShellCredential-152"><span class="linenos">152</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients. Applications calling this method</span>
</span><span id="AzurePowerShellCredential-153"><a href="#AzurePowerShellCredential-153"><span class="linenos">153</span></a><span class="sd">        directly must also handle token caching because this credential doesn&#39;t cache the tokens it acquires.</span>
</span><span id="AzurePowerShellCredential-154"><a href="#AzurePowerShellCredential-154"><span class="linenos">154</span></a>
</span><span id="AzurePowerShellCredential-155"><a href="#AzurePowerShellCredential-155"><span class="linenos">155</span></a><span class="sd">        :param str scopes: desired scopes for the access token. TThis credential allows only one scope per request.</span>
</span><span id="AzurePowerShellCredential-156"><a href="#AzurePowerShellCredential-156"><span class="linenos">156</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AzurePowerShellCredential-157"><a href="#AzurePowerShellCredential-157"><span class="linenos">157</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="AzurePowerShellCredential-158"><a href="#AzurePowerShellCredential-158"><span class="linenos">158</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="AzurePowerShellCredential-159"><a href="#AzurePowerShellCredential-159"><span class="linenos">159</span></a>
</span><span id="AzurePowerShellCredential-160"><a href="#AzurePowerShellCredential-160"><span class="linenos">160</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="AzurePowerShellCredential-161"><a href="#AzurePowerShellCredential-161"><span class="linenos">161</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="AzurePowerShellCredential-162"><a href="#AzurePowerShellCredential-162"><span class="linenos">162</span></a>
</span><span id="AzurePowerShellCredential-163"><a href="#AzurePowerShellCredential-163"><span class="linenos">163</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the credential was unable to invoke Azure PowerShell, or</span>
</span><span id="AzurePowerShellCredential-164"><a href="#AzurePowerShellCredential-164"><span class="linenos">164</span></a><span class="sd">          no account is authenticated</span>
</span><span id="AzurePowerShellCredential-165"><a href="#AzurePowerShellCredential-165"><span class="linenos">165</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: the credential invoked Azure PowerShell but didn&#39;t</span>
</span><span id="AzurePowerShellCredential-166"><a href="#AzurePowerShellCredential-166"><span class="linenos">166</span></a><span class="sd">          receive an access token</span>
</span><span id="AzurePowerShellCredential-167"><a href="#AzurePowerShellCredential-167"><span class="linenos">167</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AzurePowerShellCredential-168"><a href="#AzurePowerShellCredential-168"><span class="linenos">168</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_token_base</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span><span id="AzurePowerShellCredential-169"><a href="#AzurePowerShellCredential-169"><span class="linenos">169</span></a>
</span><span id="AzurePowerShellCredential-170"><a href="#AzurePowerShellCredential-170"><span class="linenos">170</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_token_base</span><span class="p">(</span>
</span><span id="AzurePowerShellCredential-171"><a href="#AzurePowerShellCredential-171"><span class="linenos">171</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="AzurePowerShellCredential-172"><a href="#AzurePowerShellCredential-172"><span class="linenos">172</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="AzurePowerShellCredential-173"><a href="#AzurePowerShellCredential-173"><span class="linenos">173</span></a>
</span><span id="AzurePowerShellCredential-174"><a href="#AzurePowerShellCredential-174"><span class="linenos">174</span></a>        <span class="n">tenant_id</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tenant_id&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">options</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="AzurePowerShellCredential-175"><a href="#AzurePowerShellCredential-175"><span class="linenos">175</span></a>        <span class="k">if</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="AzurePowerShellCredential-176"><a href="#AzurePowerShellCredential-176"><span class="linenos">176</span></a>            <span class="n">validate_tenant_id</span><span class="p">(</span><span class="n">tenant_id</span><span class="p">)</span>
</span><span id="AzurePowerShellCredential-177"><a href="#AzurePowerShellCredential-177"><span class="linenos">177</span></a>        <span class="k">for</span> <span class="n">scope</span> <span class="ow">in</span> <span class="n">scopes</span><span class="p">:</span>
</span><span id="AzurePowerShellCredential-178"><a href="#AzurePowerShellCredential-178"><span class="linenos">178</span></a>            <span class="n">validate_scope</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>
</span><span id="AzurePowerShellCredential-179"><a href="#AzurePowerShellCredential-179"><span class="linenos">179</span></a>
</span><span id="AzurePowerShellCredential-180"><a href="#AzurePowerShellCredential-180"><span class="linenos">180</span></a>        <span class="n">tenant_id</span> <span class="o">=</span> <span class="n">resolve_tenant</span><span class="p">(</span>
</span><span id="AzurePowerShellCredential-181"><a href="#AzurePowerShellCredential-181"><span class="linenos">181</span></a>            <span class="n">default_tenant</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tenant_id</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential-182"><a href="#AzurePowerShellCredential-182"><span class="linenos">182</span></a>            <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential-183"><a href="#AzurePowerShellCredential-183"><span class="linenos">183</span></a>            <span class="n">additionally_allowed_tenants</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_additionally_allowed_tenants</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential-184"><a href="#AzurePowerShellCredential-184"><span class="linenos">184</span></a>            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential-185"><a href="#AzurePowerShellCredential-185"><span class="linenos">185</span></a>        <span class="p">)</span>
</span><span id="AzurePowerShellCredential-186"><a href="#AzurePowerShellCredential-186"><span class="linenos">186</span></a>        <span class="n">command_line</span> <span class="o">=</span> <span class="n">get_command_line</span><span class="p">(</span><span class="n">scopes</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">)</span>
</span><span id="AzurePowerShellCredential-187"><a href="#AzurePowerShellCredential-187"><span class="linenos">187</span></a>        <span class="n">output</span> <span class="o">=</span> <span class="n">run_command_line</span><span class="p">(</span><span class="n">command_line</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_timeout</span><span class="p">)</span>
</span><span id="AzurePowerShellCredential-188"><a href="#AzurePowerShellCredential-188"><span class="linenos">188</span></a>        <span class="n">token</span> <span class="o">=</span> <span class="n">parse_token</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
</span><span id="AzurePowerShellCredential-189"><a href="#AzurePowerShellCredential-189"><span class="linenos">189</span></a>        <span class="k">return</span> <span class="n">token</span>
</span></pre></div>


            <div class="docstring"><p>Authenticates by requesting a token from Azure PowerShell.</p>

<p>This requires previously logging in to Azure via "Connect-AzAccount", and will use the currently logged in identity.</p>

<p>:keyword str tenant_id: Optional tenant to include in the token request.
:keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified "tenant_id"
    for which the credential may acquire tokens. Add the wildcard value "*" to allow the credential to
    acquire tokens for any tenant the application can access.
:keyword int process_timeout: Seconds to wait for the Azure PowerShell process to respond. Defaults to 10 seconds.</p>

<p>.. admonition:: Example:</p>

<pre><code>.. literalinclude:: ../samples/credential_creation_code_snippets.py
    :start-after: [START create_azure_power_shell_credential]
    :end-before: [END create_azure_power_shell_credential]
    :language: python
    :dedent: 4
    :caption: Create an AzurePowerShellCredential.
</code></pre>
</div>


                            <div id="AzurePowerShellCredential.__init__" class="classattr">
                                        <input id="AzurePowerShellCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">AzurePowerShellCredential</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>,</span><span class="param">	<span class="n">additionally_allowed_tenants</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">process_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span></span>)</span>

                <label class="view-source-button" for="AzurePowerShellCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzurePowerShellCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzurePowerShellCredential.__init__-90"><a href="#AzurePowerShellCredential.__init__-90"><span class="linenos"> 90</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="AzurePowerShellCredential.__init__-91"><a href="#AzurePowerShellCredential.__init__-91"><span class="linenos"> 91</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential.__init__-92"><a href="#AzurePowerShellCredential.__init__-92"><span class="linenos"> 92</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential.__init__-93"><a href="#AzurePowerShellCredential.__init__-93"><span class="linenos"> 93</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential.__init__-94"><a href="#AzurePowerShellCredential.__init__-94"><span class="linenos"> 94</span></a>        <span class="n">additionally_allowed_tenants</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential.__init__-95"><a href="#AzurePowerShellCredential.__init__-95"><span class="linenos"> 95</span></a>        <span class="n">process_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential.__init__-96"><a href="#AzurePowerShellCredential.__init__-96"><span class="linenos"> 96</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzurePowerShellCredential.__init__-97"><a href="#AzurePowerShellCredential.__init__-97"><span class="linenos"> 97</span></a>        <span class="k">if</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="AzurePowerShellCredential.__init__-98"><a href="#AzurePowerShellCredential.__init__-98"><span class="linenos"> 98</span></a>            <span class="n">validate_tenant_id</span><span class="p">(</span><span class="n">tenant_id</span><span class="p">)</span>
</span><span id="AzurePowerShellCredential.__init__-99"><a href="#AzurePowerShellCredential.__init__-99"><span class="linenos"> 99</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tenant_id</span> <span class="o">=</span> <span class="n">tenant_id</span>
</span><span id="AzurePowerShellCredential.__init__-100"><a href="#AzurePowerShellCredential.__init__-100"><span class="linenos">100</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_additionally_allowed_tenants</span> <span class="o">=</span> <span class="n">additionally_allowed_tenants</span> <span class="ow">or</span> <span class="p">[]</span>
</span><span id="AzurePowerShellCredential.__init__-101"><a href="#AzurePowerShellCredential.__init__-101"><span class="linenos">101</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_process_timeout</span> <span class="o">=</span> <span class="n">process_timeout</span>
</span></pre></div>


    

                            </div>
                            <div id="AzurePowerShellCredential.tenant_id" class="classattr">
                                <div class="attr variable">
            <span class="name">tenant_id</span>

        
    </div>
    <a class="headerlink" href="#AzurePowerShellCredential.tenant_id"></a>
    
    

                            </div>
                            <div id="AzurePowerShellCredential.close" class="classattr">
                                        <input id="AzurePowerShellCredential.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="AzurePowerShellCredential.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzurePowerShellCredential.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzurePowerShellCredential.close-109"><a href="#AzurePowerShellCredential.close-109"><span class="linenos">109</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AzurePowerShellCredential.close-110"><a href="#AzurePowerShellCredential.close-110"><span class="linenos">110</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calling this method is unnecessary.&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Calling this method is unnecessary.</p>
</div>


                            </div>
                            <div id="AzurePowerShellCredential.get_token" class="classattr">
                                        <input id="AzurePowerShellCredential.get_token-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-log_get_token">@log_get_token</div>

        <span class="def">def</span>
        <span class="name">get_token</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessToken</span>:</span></span>

                <label class="view-source-button" for="AzurePowerShellCredential.get_token-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzurePowerShellCredential.get_token"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzurePowerShellCredential.get_token-112"><a href="#AzurePowerShellCredential.get_token-112"><span class="linenos">112</span></a>    <span class="nd">@log_get_token</span>
</span><span id="AzurePowerShellCredential.get_token-113"><a href="#AzurePowerShellCredential.get_token-113"><span class="linenos">113</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="AzurePowerShellCredential.get_token-114"><a href="#AzurePowerShellCredential.get_token-114"><span class="linenos">114</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential.get_token-115"><a href="#AzurePowerShellCredential.get_token-115"><span class="linenos">115</span></a>        <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential.get_token-116"><a href="#AzurePowerShellCredential.get_token-116"><span class="linenos">116</span></a>        <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># pylint:disable=unused-argument</span>
</span><span id="AzurePowerShellCredential.get_token-117"><a href="#AzurePowerShellCredential.get_token-117"><span class="linenos">117</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential.get_token-118"><a href="#AzurePowerShellCredential.get_token-118"><span class="linenos">118</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="AzurePowerShellCredential.get_token-119"><a href="#AzurePowerShellCredential.get_token-119"><span class="linenos">119</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="AzurePowerShellCredential.get_token-120"><a href="#AzurePowerShellCredential.get_token-120"><span class="linenos">120</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AzurePowerShellCredential.get_token-121"><a href="#AzurePowerShellCredential.get_token-121"><span class="linenos">121</span></a>
</span><span id="AzurePowerShellCredential.get_token-122"><a href="#AzurePowerShellCredential.get_token-122"><span class="linenos">122</span></a><span class="sd">        This method is called automatically by Azure SDK clients. Applications calling this method directly must</span>
</span><span id="AzurePowerShellCredential.get_token-123"><a href="#AzurePowerShellCredential.get_token-123"><span class="linenos">123</span></a><span class="sd">        also handle token caching because this credential doesn&#39;t cache the tokens it acquires.</span>
</span><span id="AzurePowerShellCredential.get_token-124"><a href="#AzurePowerShellCredential.get_token-124"><span class="linenos">124</span></a>
</span><span id="AzurePowerShellCredential.get_token-125"><a href="#AzurePowerShellCredential.get_token-125"><span class="linenos">125</span></a><span class="sd">        :param str scopes: desired scope for the access token. This credential allows only one scope per request.</span>
</span><span id="AzurePowerShellCredential.get_token-126"><a href="#AzurePowerShellCredential.get_token-126"><span class="linenos">126</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="AzurePowerShellCredential.get_token-127"><a href="#AzurePowerShellCredential.get_token-127"><span class="linenos">127</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AzurePowerShellCredential.get_token-128"><a href="#AzurePowerShellCredential.get_token-128"><span class="linenos">128</span></a><span class="sd">        :keyword str claims: not used by this credential; any value provided will be ignored.</span>
</span><span id="AzurePowerShellCredential.get_token-129"><a href="#AzurePowerShellCredential.get_token-129"><span class="linenos">129</span></a><span class="sd">        :keyword str tenant_id: optional tenant to include in the token request.</span>
</span><span id="AzurePowerShellCredential.get_token-130"><a href="#AzurePowerShellCredential.get_token-130"><span class="linenos">130</span></a>
</span><span id="AzurePowerShellCredential.get_token-131"><a href="#AzurePowerShellCredential.get_token-131"><span class="linenos">131</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="AzurePowerShellCredential.get_token-132"><a href="#AzurePowerShellCredential.get_token-132"><span class="linenos">132</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="AzurePowerShellCredential.get_token-133"><a href="#AzurePowerShellCredential.get_token-133"><span class="linenos">133</span></a>
</span><span id="AzurePowerShellCredential.get_token-134"><a href="#AzurePowerShellCredential.get_token-134"><span class="linenos">134</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the credential was unable to invoke Azure PowerShell, or</span>
</span><span id="AzurePowerShellCredential.get_token-135"><a href="#AzurePowerShellCredential.get_token-135"><span class="linenos">135</span></a><span class="sd">          no account is authenticated</span>
</span><span id="AzurePowerShellCredential.get_token-136"><a href="#AzurePowerShellCredential.get_token-136"><span class="linenos">136</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: the credential invoked Azure PowerShell but didn&#39;t</span>
</span><span id="AzurePowerShellCredential.get_token-137"><a href="#AzurePowerShellCredential.get_token-137"><span class="linenos">137</span></a><span class="sd">          receive an access token</span>
</span><span id="AzurePowerShellCredential.get_token-138"><a href="#AzurePowerShellCredential.get_token-138"><span class="linenos">138</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AzurePowerShellCredential.get_token-139"><a href="#AzurePowerShellCredential.get_token-139"><span class="linenos">139</span></a>
</span><span id="AzurePowerShellCredential.get_token-140"><a href="#AzurePowerShellCredential.get_token-140"><span class="linenos">140</span></a>        <span class="n">options</span><span class="p">:</span> <span class="n">TokenRequestOptions</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="AzurePowerShellCredential.get_token-141"><a href="#AzurePowerShellCredential.get_token-141"><span class="linenos">141</span></a>        <span class="k">if</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="AzurePowerShellCredential.get_token-142"><a href="#AzurePowerShellCredential.get_token-142"><span class="linenos">142</span></a>            <span class="n">options</span><span class="p">[</span><span class="s2">&quot;tenant_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tenant_id</span>
</span><span id="AzurePowerShellCredential.get_token-143"><a href="#AzurePowerShellCredential.get_token-143"><span class="linenos">143</span></a>
</span><span id="AzurePowerShellCredential.get_token-144"><a href="#AzurePowerShellCredential.get_token-144"><span class="linenos">144</span></a>        <span class="n">token_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_token_base</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="AzurePowerShellCredential.get_token-145"><a href="#AzurePowerShellCredential.get_token-145"><span class="linenos">145</span></a>        <span class="k">return</span> <span class="n">AccessToken</span><span class="p">(</span><span class="n">token_info</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">token_info</span><span class="o">.</span><span class="n">expires_on</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code>.</p>

<p>This method is called automatically by Azure SDK clients. Applications calling this method directly must
also handle token caching because this credential doesn't cache the tokens it acquires.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scope for the access token. This credential allows only one scope per request.
For more information about scopes, see
<a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword str claims: not used by this credential; any value provided will be ignored.
:keyword str tenant_id: optional tenant to include in the token request.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An access token with the desired scopes.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~<a href="#CredentialUnavailableError">azure.identity.CredentialUnavailableError</a></strong>:  the credential was unable to invoke Azure PowerShell, or
no account is authenticated</li>
<li><strong>~azure.core.exceptions.ClientAuthenticationError</strong>:  the credential invoked Azure PowerShell but didn't
receive an access token</li>
</ul>
</div>


                            </div>
                            <div id="AzurePowerShellCredential.get_token_info" class="classattr">
                                        <input id="AzurePowerShellCredential.get_token_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-log_get_token">@log_get_token</div>

        <span class="def">def</span>
        <span class="name">get_token_info</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessTokenInfo</span>:</span></span>

                <label class="view-source-button" for="AzurePowerShellCredential.get_token_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AzurePowerShellCredential.get_token_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AzurePowerShellCredential.get_token_info-147"><a href="#AzurePowerShellCredential.get_token_info-147"><span class="linenos">147</span></a>    <span class="nd">@log_get_token</span>
</span><span id="AzurePowerShellCredential.get_token_info-148"><a href="#AzurePowerShellCredential.get_token_info-148"><span class="linenos">148</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="AzurePowerShellCredential.get_token_info-149"><a href="#AzurePowerShellCredential.get_token_info-149"><span class="linenos">149</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="AzurePowerShellCredential.get_token_info-150"><a href="#AzurePowerShellCredential.get_token_info-150"><span class="linenos">150</span></a>
</span><span id="AzurePowerShellCredential.get_token_info-151"><a href="#AzurePowerShellCredential.get_token_info-151"><span class="linenos">151</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="AzurePowerShellCredential.get_token_info-152"><a href="#AzurePowerShellCredential.get_token_info-152"><span class="linenos">152</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients. Applications calling this method</span>
</span><span id="AzurePowerShellCredential.get_token_info-153"><a href="#AzurePowerShellCredential.get_token_info-153"><span class="linenos">153</span></a><span class="sd">        directly must also handle token caching because this credential doesn&#39;t cache the tokens it acquires.</span>
</span><span id="AzurePowerShellCredential.get_token_info-154"><a href="#AzurePowerShellCredential.get_token_info-154"><span class="linenos">154</span></a>
</span><span id="AzurePowerShellCredential.get_token_info-155"><a href="#AzurePowerShellCredential.get_token_info-155"><span class="linenos">155</span></a><span class="sd">        :param str scopes: desired scopes for the access token. TThis credential allows only one scope per request.</span>
</span><span id="AzurePowerShellCredential.get_token_info-156"><a href="#AzurePowerShellCredential.get_token_info-156"><span class="linenos">156</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="AzurePowerShellCredential.get_token_info-157"><a href="#AzurePowerShellCredential.get_token_info-157"><span class="linenos">157</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="AzurePowerShellCredential.get_token_info-158"><a href="#AzurePowerShellCredential.get_token_info-158"><span class="linenos">158</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="AzurePowerShellCredential.get_token_info-159"><a href="#AzurePowerShellCredential.get_token_info-159"><span class="linenos">159</span></a>
</span><span id="AzurePowerShellCredential.get_token_info-160"><a href="#AzurePowerShellCredential.get_token_info-160"><span class="linenos">160</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="AzurePowerShellCredential.get_token_info-161"><a href="#AzurePowerShellCredential.get_token_info-161"><span class="linenos">161</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="AzurePowerShellCredential.get_token_info-162"><a href="#AzurePowerShellCredential.get_token_info-162"><span class="linenos">162</span></a>
</span><span id="AzurePowerShellCredential.get_token_info-163"><a href="#AzurePowerShellCredential.get_token_info-163"><span class="linenos">163</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the credential was unable to invoke Azure PowerShell, or</span>
</span><span id="AzurePowerShellCredential.get_token_info-164"><a href="#AzurePowerShellCredential.get_token_info-164"><span class="linenos">164</span></a><span class="sd">          no account is authenticated</span>
</span><span id="AzurePowerShellCredential.get_token_info-165"><a href="#AzurePowerShellCredential.get_token_info-165"><span class="linenos">165</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: the credential invoked Azure PowerShell but didn&#39;t</span>
</span><span id="AzurePowerShellCredential.get_token_info-166"><a href="#AzurePowerShellCredential.get_token_info-166"><span class="linenos">166</span></a><span class="sd">          receive an access token</span>
</span><span id="AzurePowerShellCredential.get_token_info-167"><a href="#AzurePowerShellCredential.get_token_info-167"><span class="linenos">167</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AzurePowerShellCredential.get_token_info-168"><a href="#AzurePowerShellCredential.get_token_info-168"><span class="linenos">168</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_token_base</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code>.</p>

<p>This is an alternative to <code><a href="#AzurePowerShellCredential.get_token">get_token</a></code> to enable certain scenarios that require additional properties
on the token. This method is called automatically by Azure SDK clients. Applications calling this method
directly must also handle token caching because this credential doesn't cache the tokens it acquires.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scopes for the access token. TThis credential allows only one scope per request.
For more information about scopes, see <a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.
:paramtype options: ~azure.core.credentials.TokenRequestOptions</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An AccessTokenInfo instance containing information about the token.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~<a href="#CredentialUnavailableError">azure.identity.CredentialUnavailableError</a></strong>:  the credential was unable to invoke Azure PowerShell, or
no account is authenticated</li>
<li><strong>~azure.core.exceptions.ClientAuthenticationError</strong>:  the credential invoked Azure PowerShell but didn't
receive an access token</li>
</ul>
</div>


                            </div>
                </section>
                <section id="CertificateCredential">
                            <input id="CertificateCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">CertificateCredential</span><wbr>(<span class="base">azure.identity._internal.client_credential_base.ClientCredentialBase</span>):

                <label class="view-source-button" for="CertificateCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CertificateCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CertificateCredential-18"><a href="#CertificateCredential-18"><span class="linenos">18</span></a><span class="k">class</span><span class="w"> </span><span class="nc">CertificateCredential</span><span class="p">(</span><span class="n">ClientCredentialBase</span><span class="p">):</span>
</span><span id="CertificateCredential-19"><a href="#CertificateCredential-19"><span class="linenos">19</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticates as a service principal using a certificate.</span>
</span><span id="CertificateCredential-20"><a href="#CertificateCredential-20"><span class="linenos">20</span></a>
</span><span id="CertificateCredential-21"><a href="#CertificateCredential-21"><span class="linenos">21</span></a><span class="sd">    The certificate must have an RSA private key, because this credential signs assertions using RS256. See</span>
</span><span id="CertificateCredential-22"><a href="#CertificateCredential-22"><span class="linenos">22</span></a><span class="sd">    `Microsoft Entra ID documentation</span>
</span><span id="CertificateCredential-23"><a href="#CertificateCredential-23"><span class="linenos">23</span></a><span class="sd">    &lt;https://learn.microsoft.com/entra/identity-platform/certificate-credentials#register-your-certificate-with-microsoft-identity-platform&gt;`__</span>
</span><span id="CertificateCredential-24"><a href="#CertificateCredential-24"><span class="linenos">24</span></a><span class="sd">    for more information on configuring certificate authentication.</span>
</span><span id="CertificateCredential-25"><a href="#CertificateCredential-25"><span class="linenos">25</span></a>
</span><span id="CertificateCredential-26"><a href="#CertificateCredential-26"><span class="linenos">26</span></a><span class="sd">    :param str tenant_id: ID of the service principal&#39;s tenant. Also called its &quot;directory&quot; ID.</span>
</span><span id="CertificateCredential-27"><a href="#CertificateCredential-27"><span class="linenos">27</span></a><span class="sd">    :param str client_id: The service principal&#39;s client ID</span>
</span><span id="CertificateCredential-28"><a href="#CertificateCredential-28"><span class="linenos">28</span></a><span class="sd">    :param str certificate_path: Optional path to a certificate file in PEM or PKCS12 format, including the private</span>
</span><span id="CertificateCredential-29"><a href="#CertificateCredential-29"><span class="linenos">29</span></a><span class="sd">        key. If not provided, **certificate_data** is required.</span>
</span><span id="CertificateCredential-30"><a href="#CertificateCredential-30"><span class="linenos">30</span></a>
</span><span id="CertificateCredential-31"><a href="#CertificateCredential-31"><span class="linenos">31</span></a><span class="sd">    :keyword str authority: Authority of a Microsoft Entra endpoint, for example &quot;login.microsoftonline.com&quot;,</span>
</span><span id="CertificateCredential-32"><a href="#CertificateCredential-32"><span class="linenos">32</span></a><span class="sd">        the authority for Azure Public Cloud (which is the default). :class:`~azure.identity.AzureAuthorityHosts`</span>
</span><span id="CertificateCredential-33"><a href="#CertificateCredential-33"><span class="linenos">33</span></a><span class="sd">        defines authorities for other clouds.</span>
</span><span id="CertificateCredential-34"><a href="#CertificateCredential-34"><span class="linenos">34</span></a><span class="sd">    :keyword bytes certificate_data: The bytes of a certificate in PEM or PKCS12 format, including the private key</span>
</span><span id="CertificateCredential-35"><a href="#CertificateCredential-35"><span class="linenos">35</span></a><span class="sd">    :keyword password: The certificate&#39;s password. If a unicode string, it will be encoded as UTF-8. If the certificate</span>
</span><span id="CertificateCredential-36"><a href="#CertificateCredential-36"><span class="linenos">36</span></a><span class="sd">        requires a different encoding, pass appropriately encoded bytes instead.</span>
</span><span id="CertificateCredential-37"><a href="#CertificateCredential-37"><span class="linenos">37</span></a><span class="sd">    :paramtype password: str or bytes</span>
</span><span id="CertificateCredential-38"><a href="#CertificateCredential-38"><span class="linenos">38</span></a><span class="sd">    :keyword bool send_certificate_chain: If True, the credential will send the public certificate chain in the x5c</span>
</span><span id="CertificateCredential-39"><a href="#CertificateCredential-39"><span class="linenos">39</span></a><span class="sd">        header of each token request&#39;s JWT. This is required for Subject Name/Issuer (SNI) authentication. Defaults to</span>
</span><span id="CertificateCredential-40"><a href="#CertificateCredential-40"><span class="linenos">40</span></a><span class="sd">        False.</span>
</span><span id="CertificateCredential-41"><a href="#CertificateCredential-41"><span class="linenos">41</span></a><span class="sd">    :keyword cache_persistence_options: Configuration for persistent token caching. If unspecified, the credential</span>
</span><span id="CertificateCredential-42"><a href="#CertificateCredential-42"><span class="linenos">42</span></a><span class="sd">        will cache tokens in memory.</span>
</span><span id="CertificateCredential-43"><a href="#CertificateCredential-43"><span class="linenos">43</span></a><span class="sd">    :paramtype cache_persistence_options: ~azure.identity.TokenCachePersistenceOptions</span>
</span><span id="CertificateCredential-44"><a href="#CertificateCredential-44"><span class="linenos">44</span></a><span class="sd">    :keyword bool disable_instance_discovery: Determines whether or not instance discovery is performed when attempting</span>
</span><span id="CertificateCredential-45"><a href="#CertificateCredential-45"><span class="linenos">45</span></a><span class="sd">        to authenticate. Setting this to true will completely disable both instance discovery and authority validation.</span>
</span><span id="CertificateCredential-46"><a href="#CertificateCredential-46"><span class="linenos">46</span></a><span class="sd">        This functionality is intended for use in scenarios where the metadata endpoint cannot be reached, such as in</span>
</span><span id="CertificateCredential-47"><a href="#CertificateCredential-47"><span class="linenos">47</span></a><span class="sd">        private clouds or Azure Stack. The process of instance discovery entails retrieving authority metadata from</span>
</span><span id="CertificateCredential-48"><a href="#CertificateCredential-48"><span class="linenos">48</span></a><span class="sd">        https://login.microsoft.com/ to validate the authority. By setting this to **True**, the validation of the</span>
</span><span id="CertificateCredential-49"><a href="#CertificateCredential-49"><span class="linenos">49</span></a><span class="sd">        authority is disabled. As a result, it is crucial to ensure that the configured authority host is valid and</span>
</span><span id="CertificateCredential-50"><a href="#CertificateCredential-50"><span class="linenos">50</span></a><span class="sd">        trustworthy.</span>
</span><span id="CertificateCredential-51"><a href="#CertificateCredential-51"><span class="linenos">51</span></a><span class="sd">    :keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified &quot;tenant_id&quot;</span>
</span><span id="CertificateCredential-52"><a href="#CertificateCredential-52"><span class="linenos">52</span></a><span class="sd">        for which the credential may acquire tokens. Add the wildcard value &quot;*&quot; to allow the credential to</span>
</span><span id="CertificateCredential-53"><a href="#CertificateCredential-53"><span class="linenos">53</span></a><span class="sd">        acquire tokens for any tenant the application can access.</span>
</span><span id="CertificateCredential-54"><a href="#CertificateCredential-54"><span class="linenos">54</span></a>
</span><span id="CertificateCredential-55"><a href="#CertificateCredential-55"><span class="linenos">55</span></a><span class="sd">    .. admonition:: Example:</span>
</span><span id="CertificateCredential-56"><a href="#CertificateCredential-56"><span class="linenos">56</span></a>
</span><span id="CertificateCredential-57"><a href="#CertificateCredential-57"><span class="linenos">57</span></a><span class="sd">        .. literalinclude:: ../samples/credential_creation_code_snippets.py</span>
</span><span id="CertificateCredential-58"><a href="#CertificateCredential-58"><span class="linenos">58</span></a><span class="sd">            :start-after: [START create_certificate_credential]</span>
</span><span id="CertificateCredential-59"><a href="#CertificateCredential-59"><span class="linenos">59</span></a><span class="sd">            :end-before: [END create_certificate_credential]</span>
</span><span id="CertificateCredential-60"><a href="#CertificateCredential-60"><span class="linenos">60</span></a><span class="sd">            :language: python</span>
</span><span id="CertificateCredential-61"><a href="#CertificateCredential-61"><span class="linenos">61</span></a><span class="sd">            :dedent: 4</span>
</span><span id="CertificateCredential-62"><a href="#CertificateCredential-62"><span class="linenos">62</span></a><span class="sd">            :caption: Create a CertificateCredential.</span>
</span><span id="CertificateCredential-63"><a href="#CertificateCredential-63"><span class="linenos">63</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="CertificateCredential-64"><a href="#CertificateCredential-64"><span class="linenos">64</span></a>
</span><span id="CertificateCredential-65"><a href="#CertificateCredential-65"><span class="linenos">65</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">certificate_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="CertificateCredential-66"><a href="#CertificateCredential-66"><span class="linenos">66</span></a>        <span class="n">validate_tenant_id</span><span class="p">(</span><span class="n">tenant_id</span><span class="p">)</span>
</span><span id="CertificateCredential-67"><a href="#CertificateCredential-67"><span class="linenos">67</span></a>
</span><span id="CertificateCredential-68"><a href="#CertificateCredential-68"><span class="linenos">68</span></a>        <span class="n">client_credential</span> <span class="o">=</span> <span class="n">get_client_credential</span><span class="p">(</span><span class="n">certificate_path</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="CertificateCredential-69"><a href="#CertificateCredential-69"><span class="linenos">69</span></a>
</span><span id="CertificateCredential-70"><a href="#CertificateCredential-70"><span class="linenos">70</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">CertificateCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="CertificateCredential-71"><a href="#CertificateCredential-71"><span class="linenos">71</span></a>            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_credential</span><span class="o">=</span><span class="n">client_credential</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="CertificateCredential-72"><a href="#CertificateCredential-72"><span class="linenos">72</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Authenticates as a service principal using a certificate.</p>

<p>The certificate must have an RSA private key, because this credential signs assertions using RS256. See
<a href="https://learn.microsoft.com/entra/identity-platform/certificate-credentials#register-your-certificate-with-microsoft-identity-platform">Microsoft Entra ID documentation
</a>_
for more information on configuring certificate authentication.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str tenant_id</strong>:  ID of the service principal's tenant. Also called its "directory" ID.</li>
<li><strong>str client_id</strong>:  The service principal's client ID</li>
<li><strong>str certificate_path</strong>:  Optional path to a certificate file in PEM or PKCS12 format, including the private
key. If not provided, <strong>certificate_data</strong> is required.</li>
</ul>

<p>:keyword str authority: Authority of a Microsoft Entra endpoint, for example "login.microsoftonline.com",
    the authority for Azure Public Cloud (which is the default). <code>~<a href="#AzureAuthorityHosts">azure.identity.AzureAuthorityHosts</a></code>
    defines authorities for other clouds.
:keyword bytes certificate_data: The bytes of a certificate in PEM or PKCS12 format, including the private key
:keyword password: The certificate's password. If a unicode string, it will be encoded as UTF-8. If the certificate
    requires a different encoding, pass appropriately encoded bytes instead.
:paramtype password: str or bytes
:keyword bool send_certificate_chain: If True, the credential will send the public certificate chain in the x5c
    header of each token request's JWT. This is required for Subject Name/Issuer (SNI) authentication. Defaults to
    False.
:keyword cache_persistence_options: Configuration for persistent token caching. If unspecified, the credential
    will cache tokens in memory.
:paramtype cache_persistence_options: ~<a href="#TokenCachePersistenceOptions">azure.identity.TokenCachePersistenceOptions</a>
:keyword bool disable_instance_discovery: Determines whether or not instance discovery is performed when attempting
    to authenticate. Setting this to true will completely disable both instance discovery and authority validation.
    This functionality is intended for use in scenarios where the metadata endpoint cannot be reached, such as in
    private clouds or Azure Stack. The process of instance discovery entails retrieving authority metadata from
    <a href="https://login.microsoft.com/">https://login.microsoft.com/</a> to validate the authority. By setting this to **True**, the validation of the
    authority is disabled. As a result, it is crucial to ensure that the configured authority host is valid and
    trustworthy.
:keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified "tenant_id"
    for which the credential may acquire tokens. Add the wildcard value "*" to allow the credential to
    acquire tokens for any tenant the application can access.</p>

<p>.. admonition:: Example:</p>

<pre><code>.. literalinclude:: ../samples/credential_creation_code_snippets.py
    :start-after: [START create_certificate_credential]
    :end-before: [END create_certificate_credential]
    :language: python
    :dedent: 4
    :caption: Create a CertificateCredential.
</code></pre>
</div>


                            <div id="CertificateCredential.__init__" class="classattr">
                                        <input id="CertificateCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">CertificateCredential</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">certificate_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="CertificateCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CertificateCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CertificateCredential.__init__-65"><a href="#CertificateCredential.__init__-65"><span class="linenos">65</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">certificate_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="CertificateCredential.__init__-66"><a href="#CertificateCredential.__init__-66"><span class="linenos">66</span></a>        <span class="n">validate_tenant_id</span><span class="p">(</span><span class="n">tenant_id</span><span class="p">)</span>
</span><span id="CertificateCredential.__init__-67"><a href="#CertificateCredential.__init__-67"><span class="linenos">67</span></a>
</span><span id="CertificateCredential.__init__-68"><a href="#CertificateCredential.__init__-68"><span class="linenos">68</span></a>        <span class="n">client_credential</span> <span class="o">=</span> <span class="n">get_client_credential</span><span class="p">(</span><span class="n">certificate_path</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="CertificateCredential.__init__-69"><a href="#CertificateCredential.__init__-69"><span class="linenos">69</span></a>
</span><span id="CertificateCredential.__init__-70"><a href="#CertificateCredential.__init__-70"><span class="linenos">70</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">CertificateCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="CertificateCredential.__init__-71"><a href="#CertificateCredential.__init__-71"><span class="linenos">71</span></a>            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_credential</span><span class="o">=</span><span class="n">client_credential</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="CertificateCredential.__init__-72"><a href="#CertificateCredential.__init__-72"><span class="linenos">72</span></a>        <span class="p">)</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="ChainedTokenCredential">
                            <input id="ChainedTokenCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ChainedTokenCredential</span>:

                <label class="view-source-button" for="ChainedTokenCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ChainedTokenCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ChainedTokenCredential-43"><a href="#ChainedTokenCredential-43"><span class="linenos"> 43</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ChainedTokenCredential</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-44"><a href="#ChainedTokenCredential-44"><span class="linenos"> 44</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A sequence of credentials that is itself a credential.</span>
</span><span id="ChainedTokenCredential-45"><a href="#ChainedTokenCredential-45"><span class="linenos"> 45</span></a>
</span><span id="ChainedTokenCredential-46"><a href="#ChainedTokenCredential-46"><span class="linenos"> 46</span></a><span class="sd">    Its :func:`get_token` method calls ``get_token`` on each credential in the sequence, in order, returning the first</span>
</span><span id="ChainedTokenCredential-47"><a href="#ChainedTokenCredential-47"><span class="linenos"> 47</span></a><span class="sd">    valid token received. For more information, see `ChainedTokenCredential overview</span>
</span><span id="ChainedTokenCredential-48"><a href="#ChainedTokenCredential-48"><span class="linenos"> 48</span></a><span class="sd">    &lt;&quot;https://aka.ms/azsdk/python/identity/credential-chains#chainedtokencredential-overview&quot;&gt;`__.</span>
</span><span id="ChainedTokenCredential-49"><a href="#ChainedTokenCredential-49"><span class="linenos"> 49</span></a>
</span><span id="ChainedTokenCredential-50"><a href="#ChainedTokenCredential-50"><span class="linenos"> 50</span></a><span class="sd">    :param credentials: credential instances to form the chain</span>
</span><span id="ChainedTokenCredential-51"><a href="#ChainedTokenCredential-51"><span class="linenos"> 51</span></a><span class="sd">    :type credentials: ~azure.core.credentials.TokenCredential</span>
</span><span id="ChainedTokenCredential-52"><a href="#ChainedTokenCredential-52"><span class="linenos"> 52</span></a>
</span><span id="ChainedTokenCredential-53"><a href="#ChainedTokenCredential-53"><span class="linenos"> 53</span></a><span class="sd">    .. admonition:: Example:</span>
</span><span id="ChainedTokenCredential-54"><a href="#ChainedTokenCredential-54"><span class="linenos"> 54</span></a>
</span><span id="ChainedTokenCredential-55"><a href="#ChainedTokenCredential-55"><span class="linenos"> 55</span></a><span class="sd">        .. literalinclude:: ../samples/credential_creation_code_snippets.py</span>
</span><span id="ChainedTokenCredential-56"><a href="#ChainedTokenCredential-56"><span class="linenos"> 56</span></a><span class="sd">            :start-after: [START create_chained_token_credential]</span>
</span><span id="ChainedTokenCredential-57"><a href="#ChainedTokenCredential-57"><span class="linenos"> 57</span></a><span class="sd">            :end-before: [END create_chained_token_credential]</span>
</span><span id="ChainedTokenCredential-58"><a href="#ChainedTokenCredential-58"><span class="linenos"> 58</span></a><span class="sd">            :language: python</span>
</span><span id="ChainedTokenCredential-59"><a href="#ChainedTokenCredential-59"><span class="linenos"> 59</span></a><span class="sd">            :dedent: 4</span>
</span><span id="ChainedTokenCredential-60"><a href="#ChainedTokenCredential-60"><span class="linenos"> 60</span></a><span class="sd">            :caption: Create a ChainedTokenCredential.</span>
</span><span id="ChainedTokenCredential-61"><a href="#ChainedTokenCredential-61"><span class="linenos"> 61</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ChainedTokenCredential-62"><a href="#ChainedTokenCredential-62"><span class="linenos"> 62</span></a>
</span><span id="ChainedTokenCredential-63"><a href="#ChainedTokenCredential-63"><span class="linenos"> 63</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">credentials</span><span class="p">:</span> <span class="n">TokenProvider</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-64"><a href="#ChainedTokenCredential-64"><span class="linenos"> 64</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">credentials</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-65"><a href="#ChainedTokenCredential-65"><span class="linenos"> 65</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;at least one credential is required&quot;</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-66"><a href="#ChainedTokenCredential-66"><span class="linenos"> 66</span></a>
</span><span id="ChainedTokenCredential-67"><a href="#ChainedTokenCredential-67"><span class="linenos"> 67</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_successful_credential</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenProvider</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ChainedTokenCredential-68"><a href="#ChainedTokenCredential-68"><span class="linenos"> 68</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">credentials</span> <span class="o">=</span> <span class="n">credentials</span>
</span><span id="ChainedTokenCredential-69"><a href="#ChainedTokenCredential-69"><span class="linenos"> 69</span></a>
</span><span id="ChainedTokenCredential-70"><a href="#ChainedTokenCredential-70"><span class="linenos"> 70</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ChainedTokenCredential&quot;</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-71"><a href="#ChainedTokenCredential-71"><span class="linenos"> 71</span></a>        <span class="k">for</span> <span class="n">credential</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">credentials</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-72"><a href="#ChainedTokenCredential-72"><span class="linenos"> 72</span></a>            <span class="n">credential</span><span class="o">.</span><span class="fm">__enter__</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
</span><span id="ChainedTokenCredential-73"><a href="#ChainedTokenCredential-73"><span class="linenos"> 73</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="ChainedTokenCredential-74"><a href="#ChainedTokenCredential-74"><span class="linenos"> 74</span></a>
</span><span id="ChainedTokenCredential-75"><a href="#ChainedTokenCredential-75"><span class="linenos"> 75</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-76"><a href="#ChainedTokenCredential-76"><span class="linenos"> 76</span></a>        <span class="k">for</span> <span class="n">credential</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">credentials</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-77"><a href="#ChainedTokenCredential-77"><span class="linenos"> 77</span></a>            <span class="n">credential</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="ChainedTokenCredential-78"><a href="#ChainedTokenCredential-78"><span class="linenos"> 78</span></a>
</span><span id="ChainedTokenCredential-79"><a href="#ChainedTokenCredential-79"><span class="linenos"> 79</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-80"><a href="#ChainedTokenCredential-80"><span class="linenos"> 80</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the transport session of each credential in the chain.&quot;&quot;&quot;</span>
</span><span id="ChainedTokenCredential-81"><a href="#ChainedTokenCredential-81"><span class="linenos"> 81</span></a>        <span class="bp">self</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">()</span>
</span><span id="ChainedTokenCredential-82"><a href="#ChainedTokenCredential-82"><span class="linenos"> 82</span></a>
</span><span id="ChainedTokenCredential-83"><a href="#ChainedTokenCredential-83"><span class="linenos"> 83</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="ChainedTokenCredential-84"><a href="#ChainedTokenCredential-84"><span class="linenos"> 84</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="ChainedTokenCredential-85"><a href="#ChainedTokenCredential-85"><span class="linenos"> 85</span></a>        <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="ChainedTokenCredential-86"><a href="#ChainedTokenCredential-86"><span class="linenos"> 86</span></a>        <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="ChainedTokenCredential-87"><a href="#ChainedTokenCredential-87"><span class="linenos"> 87</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="ChainedTokenCredential-88"><a href="#ChainedTokenCredential-88"><span class="linenos"> 88</span></a>        <span class="n">enable_cae</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="ChainedTokenCredential-89"><a href="#ChainedTokenCredential-89"><span class="linenos"> 89</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="ChainedTokenCredential-90"><a href="#ChainedTokenCredential-90"><span class="linenos"> 90</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-91"><a href="#ChainedTokenCredential-91"><span class="linenos"> 91</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request a token from each chained credential, in order, returning the first token received.</span>
</span><span id="ChainedTokenCredential-92"><a href="#ChainedTokenCredential-92"><span class="linenos"> 92</span></a>
</span><span id="ChainedTokenCredential-93"><a href="#ChainedTokenCredential-93"><span class="linenos"> 93</span></a><span class="sd">        If no credential provides a token, raises :class:`azure.core.exceptions.ClientAuthenticationError`</span>
</span><span id="ChainedTokenCredential-94"><a href="#ChainedTokenCredential-94"><span class="linenos"> 94</span></a><span class="sd">        with an error message from each credential.</span>
</span><span id="ChainedTokenCredential-95"><a href="#ChainedTokenCredential-95"><span class="linenos"> 95</span></a>
</span><span id="ChainedTokenCredential-96"><a href="#ChainedTokenCredential-96"><span class="linenos"> 96</span></a><span class="sd">        This method is called automatically by Azure SDK clients.</span>
</span><span id="ChainedTokenCredential-97"><a href="#ChainedTokenCredential-97"><span class="linenos"> 97</span></a>
</span><span id="ChainedTokenCredential-98"><a href="#ChainedTokenCredential-98"><span class="linenos"> 98</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="ChainedTokenCredential-99"><a href="#ChainedTokenCredential-99"><span class="linenos"> 99</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="ChainedTokenCredential-100"><a href="#ChainedTokenCredential-100"><span class="linenos">100</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="ChainedTokenCredential-101"><a href="#ChainedTokenCredential-101"><span class="linenos">101</span></a><span class="sd">        :keyword str claims: additional claims required in the token, such as those returned in a resource provider&#39;s</span>
</span><span id="ChainedTokenCredential-102"><a href="#ChainedTokenCredential-102"><span class="linenos">102</span></a><span class="sd">            claims challenge following an authorization failure.</span>
</span><span id="ChainedTokenCredential-103"><a href="#ChainedTokenCredential-103"><span class="linenos">103</span></a><span class="sd">        :keyword str tenant_id: optional tenant to include in the token request.</span>
</span><span id="ChainedTokenCredential-104"><a href="#ChainedTokenCredential-104"><span class="linenos">104</span></a><span class="sd">        :keyword bool enable_cae: indicates whether to enable Continuous Access Evaluation (CAE) for the requested</span>
</span><span id="ChainedTokenCredential-105"><a href="#ChainedTokenCredential-105"><span class="linenos">105</span></a><span class="sd">            token. Defaults to False.</span>
</span><span id="ChainedTokenCredential-106"><a href="#ChainedTokenCredential-106"><span class="linenos">106</span></a>
</span><span id="ChainedTokenCredential-107"><a href="#ChainedTokenCredential-107"><span class="linenos">107</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="ChainedTokenCredential-108"><a href="#ChainedTokenCredential-108"><span class="linenos">108</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="ChainedTokenCredential-109"><a href="#ChainedTokenCredential-109"><span class="linenos">109</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: no credential in the chain provided a token</span>
</span><span id="ChainedTokenCredential-110"><a href="#ChainedTokenCredential-110"><span class="linenos">110</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ChainedTokenCredential-111"><a href="#ChainedTokenCredential-111"><span class="linenos">111</span></a>
</span><span id="ChainedTokenCredential-112"><a href="#ChainedTokenCredential-112"><span class="linenos">112</span></a>        <span class="n">within_credential_chain</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-113"><a href="#ChainedTokenCredential-113"><span class="linenos">113</span></a>        <span class="n">history</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ChainedTokenCredential-114"><a href="#ChainedTokenCredential-114"><span class="linenos">114</span></a>        <span class="k">for</span> <span class="n">credential</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">credentials</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-115"><a href="#ChainedTokenCredential-115"><span class="linenos">115</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-116"><a href="#ChainedTokenCredential-116"><span class="linenos">116</span></a>                <span class="c1"># Prioritize &quot;get_token&quot;. Fall back to &quot;get_token_info&quot; if not available.</span>
</span><span id="ChainedTokenCredential-117"><a href="#ChainedTokenCredential-117"><span class="linenos">117</span></a>                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">credential</span><span class="p">,</span> <span class="s2">&quot;get_token&quot;</span><span class="p">):</span>
</span><span id="ChainedTokenCredential-118"><a href="#ChainedTokenCredential-118"><span class="linenos">118</span></a>                    <span class="n">token</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">TokenCredential</span><span class="p">,</span> <span class="n">credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
</span><span id="ChainedTokenCredential-119"><a href="#ChainedTokenCredential-119"><span class="linenos">119</span></a>                        <span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="n">enable_cae</span><span class="o">=</span><span class="n">enable_cae</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="ChainedTokenCredential-120"><a href="#ChainedTokenCredential-120"><span class="linenos">120</span></a>                    <span class="p">)</span>
</span><span id="ChainedTokenCredential-121"><a href="#ChainedTokenCredential-121"><span class="linenos">121</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-122"><a href="#ChainedTokenCredential-122"><span class="linenos">122</span></a>                    <span class="n">options</span><span class="p">:</span> <span class="n">TokenRequestOptions</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="ChainedTokenCredential-123"><a href="#ChainedTokenCredential-123"><span class="linenos">123</span></a>                    <span class="k">if</span> <span class="n">claims</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-124"><a href="#ChainedTokenCredential-124"><span class="linenos">124</span></a>                        <span class="n">options</span><span class="p">[</span><span class="s2">&quot;claims&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">claims</span>
</span><span id="ChainedTokenCredential-125"><a href="#ChainedTokenCredential-125"><span class="linenos">125</span></a>                    <span class="k">if</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-126"><a href="#ChainedTokenCredential-126"><span class="linenos">126</span></a>                        <span class="n">options</span><span class="p">[</span><span class="s2">&quot;tenant_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tenant_id</span>
</span><span id="ChainedTokenCredential-127"><a href="#ChainedTokenCredential-127"><span class="linenos">127</span></a>                    <span class="n">options</span><span class="p">[</span><span class="s2">&quot;enable_cae&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">enable_cae</span>
</span><span id="ChainedTokenCredential-128"><a href="#ChainedTokenCredential-128"><span class="linenos">128</span></a>                    <span class="n">token_info</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">SupportsTokenInfo</span><span class="p">,</span> <span class="n">credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-129"><a href="#ChainedTokenCredential-129"><span class="linenos">129</span></a>                    <span class="n">token</span> <span class="o">=</span> <span class="n">AccessToken</span><span class="p">(</span><span class="n">token_info</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">token_info</span><span class="o">.</span><span class="n">expires_on</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-130"><a href="#ChainedTokenCredential-130"><span class="linenos">130</span></a>
</span><span id="ChainedTokenCredential-131"><a href="#ChainedTokenCredential-131"><span class="linenos">131</span></a>                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> acquired a token from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">credential</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-132"><a href="#ChainedTokenCredential-132"><span class="linenos">132</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_successful_credential</span> <span class="o">=</span> <span class="n">credential</span>
</span><span id="ChainedTokenCredential-133"><a href="#ChainedTokenCredential-133"><span class="linenos">133</span></a>                <span class="n">within_credential_chain</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-134"><a href="#ChainedTokenCredential-134"><span class="linenos">134</span></a>                <span class="k">return</span> <span class="n">token</span>
</span><span id="ChainedTokenCredential-135"><a href="#ChainedTokenCredential-135"><span class="linenos">135</span></a>
</span><span id="ChainedTokenCredential-136"><a href="#ChainedTokenCredential-136"><span class="linenos">136</span></a>            <span class="k">except</span> <span class="n">CredentialUnavailableError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-137"><a href="#ChainedTokenCredential-137"><span class="linenos">137</span></a>                <span class="c1"># credential didn&#39;t attempt authentication because it lacks required data or state -&gt; continue</span>
</span><span id="ChainedTokenCredential-138"><a href="#ChainedTokenCredential-138"><span class="linenos">138</span></a>                <span class="n">history</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">credential</span><span class="p">,</span> <span class="n">ex</span><span class="o">.</span><span class="n">message</span><span class="p">))</span>
</span><span id="ChainedTokenCredential-139"><a href="#ChainedTokenCredential-139"><span class="linenos">139</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>  <span class="c1"># pylint: disable=broad-except</span>
</span><span id="ChainedTokenCredential-140"><a href="#ChainedTokenCredential-140"><span class="linenos">140</span></a>                <span class="c1"># credential failed to authenticate, or something unexpectedly raised -&gt; break</span>
</span><span id="ChainedTokenCredential-141"><a href="#ChainedTokenCredential-141"><span class="linenos">141</span></a>                <span class="n">history</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">credential</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">)))</span>
</span><span id="ChainedTokenCredential-142"><a href="#ChainedTokenCredential-142"><span class="linenos">142</span></a>                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="ChainedTokenCredential-143"><a href="#ChainedTokenCredential-143"><span class="linenos">143</span></a>                    <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.get_token failed: </span><span class="si">%s</span><span class="s1"> raised unexpected error &quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span><span class="p">,</span>
</span><span id="ChainedTokenCredential-144"><a href="#ChainedTokenCredential-144"><span class="linenos">144</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
</span><span id="ChainedTokenCredential-145"><a href="#ChainedTokenCredential-145"><span class="linenos">145</span></a>                    <span class="n">credential</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
</span><span id="ChainedTokenCredential-146"><a href="#ChainedTokenCredential-146"><span class="linenos">146</span></a>                    <span class="n">ex</span><span class="p">,</span>
</span><span id="ChainedTokenCredential-147"><a href="#ChainedTokenCredential-147"><span class="linenos">147</span></a>                    <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="ChainedTokenCredential-148"><a href="#ChainedTokenCredential-148"><span class="linenos">148</span></a>                <span class="p">)</span>
</span><span id="ChainedTokenCredential-149"><a href="#ChainedTokenCredential-149"><span class="linenos">149</span></a>                <span class="k">break</span>
</span><span id="ChainedTokenCredential-150"><a href="#ChainedTokenCredential-150"><span class="linenos">150</span></a>        <span class="n">within_credential_chain</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-151"><a href="#ChainedTokenCredential-151"><span class="linenos">151</span></a>        <span class="n">attempts</span> <span class="o">=</span> <span class="n">_get_error_message</span><span class="p">(</span><span class="n">history</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-152"><a href="#ChainedTokenCredential-152"><span class="linenos">152</span></a>        <span class="n">message</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="ChainedTokenCredential-153"><a href="#ChainedTokenCredential-153"><span class="linenos">153</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="ChainedTokenCredential-154"><a href="#ChainedTokenCredential-154"><span class="linenos">154</span></a>            <span class="o">+</span> <span class="s2">&quot; failed to retrieve a token from the included credentials.&quot;</span>
</span><span id="ChainedTokenCredential-155"><a href="#ChainedTokenCredential-155"><span class="linenos">155</span></a>            <span class="o">+</span> <span class="n">attempts</span>
</span><span id="ChainedTokenCredential-156"><a href="#ChainedTokenCredential-156"><span class="linenos">156</span></a>            <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">To mitigate this issue, please refer to the troubleshooting guidelines here at &quot;</span>
</span><span id="ChainedTokenCredential-157"><a href="#ChainedTokenCredential-157"><span class="linenos">157</span></a>            <span class="s2">&quot;https://aka.ms/azsdk/python/identity/defaultazurecredential/troubleshoot.&quot;</span>
</span><span id="ChainedTokenCredential-158"><a href="#ChainedTokenCredential-158"><span class="linenos">158</span></a>        <span class="p">)</span>
</span><span id="ChainedTokenCredential-159"><a href="#ChainedTokenCredential-159"><span class="linenos">159</span></a>        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-160"><a href="#ChainedTokenCredential-160"><span class="linenos">160</span></a>        <span class="k">raise</span> <span class="n">ClientAuthenticationError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-161"><a href="#ChainedTokenCredential-161"><span class="linenos">161</span></a>
</span><span id="ChainedTokenCredential-162"><a href="#ChainedTokenCredential-162"><span class="linenos">162</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-163"><a href="#ChainedTokenCredential-163"><span class="linenos">163</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request a token from each chained credential, in order, returning the first token received.</span>
</span><span id="ChainedTokenCredential-164"><a href="#ChainedTokenCredential-164"><span class="linenos">164</span></a>
</span><span id="ChainedTokenCredential-165"><a href="#ChainedTokenCredential-165"><span class="linenos">165</span></a><span class="sd">        If no credential provides a token, raises :class:`azure.core.exceptions.ClientAuthenticationError`</span>
</span><span id="ChainedTokenCredential-166"><a href="#ChainedTokenCredential-166"><span class="linenos">166</span></a><span class="sd">        with an error message from each credential.</span>
</span><span id="ChainedTokenCredential-167"><a href="#ChainedTokenCredential-167"><span class="linenos">167</span></a>
</span><span id="ChainedTokenCredential-168"><a href="#ChainedTokenCredential-168"><span class="linenos">168</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="ChainedTokenCredential-169"><a href="#ChainedTokenCredential-169"><span class="linenos">169</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients.</span>
</span><span id="ChainedTokenCredential-170"><a href="#ChainedTokenCredential-170"><span class="linenos">170</span></a>
</span><span id="ChainedTokenCredential-171"><a href="#ChainedTokenCredential-171"><span class="linenos">171</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="ChainedTokenCredential-172"><a href="#ChainedTokenCredential-172"><span class="linenos">172</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="ChainedTokenCredential-173"><a href="#ChainedTokenCredential-173"><span class="linenos">173</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="ChainedTokenCredential-174"><a href="#ChainedTokenCredential-174"><span class="linenos">174</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="ChainedTokenCredential-175"><a href="#ChainedTokenCredential-175"><span class="linenos">175</span></a>
</span><span id="ChainedTokenCredential-176"><a href="#ChainedTokenCredential-176"><span class="linenos">176</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="ChainedTokenCredential-177"><a href="#ChainedTokenCredential-177"><span class="linenos">177</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="ChainedTokenCredential-178"><a href="#ChainedTokenCredential-178"><span class="linenos">178</span></a>
</span><span id="ChainedTokenCredential-179"><a href="#ChainedTokenCredential-179"><span class="linenos">179</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: no credential in the chain provided a token.</span>
</span><span id="ChainedTokenCredential-180"><a href="#ChainedTokenCredential-180"><span class="linenos">180</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ChainedTokenCredential-181"><a href="#ChainedTokenCredential-181"><span class="linenos">181</span></a>        <span class="n">within_credential_chain</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-182"><a href="#ChainedTokenCredential-182"><span class="linenos">182</span></a>        <span class="n">history</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ChainedTokenCredential-183"><a href="#ChainedTokenCredential-183"><span class="linenos">183</span></a>        <span class="n">options</span> <span class="o">=</span> <span class="n">options</span> <span class="ow">or</span> <span class="p">{}</span>
</span><span id="ChainedTokenCredential-184"><a href="#ChainedTokenCredential-184"><span class="linenos">184</span></a>        <span class="k">for</span> <span class="n">credential</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">credentials</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-185"><a href="#ChainedTokenCredential-185"><span class="linenos">185</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-186"><a href="#ChainedTokenCredential-186"><span class="linenos">186</span></a>                <span class="c1"># Prioritize &quot;get_token_info&quot;. Fall back to &quot;get_token&quot; if not available.</span>
</span><span id="ChainedTokenCredential-187"><a href="#ChainedTokenCredential-187"><span class="linenos">187</span></a>                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">credential</span><span class="p">,</span> <span class="s2">&quot;get_token_info&quot;</span><span class="p">):</span>
</span><span id="ChainedTokenCredential-188"><a href="#ChainedTokenCredential-188"><span class="linenos">188</span></a>                    <span class="n">token_info</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">SupportsTokenInfo</span><span class="p">,</span> <span class="n">credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-189"><a href="#ChainedTokenCredential-189"><span class="linenos">189</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-190"><a href="#ChainedTokenCredential-190"><span class="linenos">190</span></a>                    <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pop&quot;</span><span class="p">):</span>
</span><span id="ChainedTokenCredential-191"><a href="#ChainedTokenCredential-191"><span class="linenos">191</span></a>                        <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span>
</span><span id="ChainedTokenCredential-192"><a href="#ChainedTokenCredential-192"><span class="linenos">192</span></a>                            <span class="s2">&quot;Proof of possession arguments are not supported for this credential.&quot;</span>
</span><span id="ChainedTokenCredential-193"><a href="#ChainedTokenCredential-193"><span class="linenos">193</span></a>                        <span class="p">)</span>
</span><span id="ChainedTokenCredential-194"><a href="#ChainedTokenCredential-194"><span class="linenos">194</span></a>                    <span class="n">token</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">TokenCredential</span><span class="p">,</span> <span class="n">credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-195"><a href="#ChainedTokenCredential-195"><span class="linenos">195</span></a>                    <span class="n">token_info</span> <span class="o">=</span> <span class="n">AccessTokenInfo</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">expires_on</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">expires_on</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-196"><a href="#ChainedTokenCredential-196"><span class="linenos">196</span></a>
</span><span id="ChainedTokenCredential-197"><a href="#ChainedTokenCredential-197"><span class="linenos">197</span></a>                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> acquired a token from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">credential</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-198"><a href="#ChainedTokenCredential-198"><span class="linenos">198</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_successful_credential</span> <span class="o">=</span> <span class="n">credential</span>
</span><span id="ChainedTokenCredential-199"><a href="#ChainedTokenCredential-199"><span class="linenos">199</span></a>                <span class="n">within_credential_chain</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-200"><a href="#ChainedTokenCredential-200"><span class="linenos">200</span></a>                <span class="k">return</span> <span class="n">token_info</span>
</span><span id="ChainedTokenCredential-201"><a href="#ChainedTokenCredential-201"><span class="linenos">201</span></a>            <span class="k">except</span> <span class="n">CredentialUnavailableError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="ChainedTokenCredential-202"><a href="#ChainedTokenCredential-202"><span class="linenos">202</span></a>                <span class="c1"># credential didn&#39;t attempt authentication because it lacks required data or state -&gt; continue</span>
</span><span id="ChainedTokenCredential-203"><a href="#ChainedTokenCredential-203"><span class="linenos">203</span></a>                <span class="n">history</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">credential</span><span class="p">,</span> <span class="n">ex</span><span class="o">.</span><span class="n">message</span><span class="p">))</span>
</span><span id="ChainedTokenCredential-204"><a href="#ChainedTokenCredential-204"><span class="linenos">204</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>  <span class="c1"># pylint: disable=broad-except</span>
</span><span id="ChainedTokenCredential-205"><a href="#ChainedTokenCredential-205"><span class="linenos">205</span></a>                <span class="c1"># credential failed to authenticate, or something unexpectedly raised -&gt; break</span>
</span><span id="ChainedTokenCredential-206"><a href="#ChainedTokenCredential-206"><span class="linenos">206</span></a>                <span class="n">history</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">credential</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">)))</span>
</span><span id="ChainedTokenCredential-207"><a href="#ChainedTokenCredential-207"><span class="linenos">207</span></a>                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="ChainedTokenCredential-208"><a href="#ChainedTokenCredential-208"><span class="linenos">208</span></a>                    <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.get_token_info failed: </span><span class="si">%s</span><span class="s1"> raised unexpected error &quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span><span class="p">,</span>
</span><span id="ChainedTokenCredential-209"><a href="#ChainedTokenCredential-209"><span class="linenos">209</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
</span><span id="ChainedTokenCredential-210"><a href="#ChainedTokenCredential-210"><span class="linenos">210</span></a>                    <span class="n">credential</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
</span><span id="ChainedTokenCredential-211"><a href="#ChainedTokenCredential-211"><span class="linenos">211</span></a>                    <span class="n">ex</span><span class="p">,</span>
</span><span id="ChainedTokenCredential-212"><a href="#ChainedTokenCredential-212"><span class="linenos">212</span></a>                    <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="ChainedTokenCredential-213"><a href="#ChainedTokenCredential-213"><span class="linenos">213</span></a>                <span class="p">)</span>
</span><span id="ChainedTokenCredential-214"><a href="#ChainedTokenCredential-214"><span class="linenos">214</span></a>                <span class="k">break</span>
</span><span id="ChainedTokenCredential-215"><a href="#ChainedTokenCredential-215"><span class="linenos">215</span></a>
</span><span id="ChainedTokenCredential-216"><a href="#ChainedTokenCredential-216"><span class="linenos">216</span></a>        <span class="n">within_credential_chain</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-217"><a href="#ChainedTokenCredential-217"><span class="linenos">217</span></a>        <span class="n">attempts</span> <span class="o">=</span> <span class="n">_get_error_message</span><span class="p">(</span><span class="n">history</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-218"><a href="#ChainedTokenCredential-218"><span class="linenos">218</span></a>        <span class="n">message</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="ChainedTokenCredential-219"><a href="#ChainedTokenCredential-219"><span class="linenos">219</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="ChainedTokenCredential-220"><a href="#ChainedTokenCredential-220"><span class="linenos">220</span></a>            <span class="o">+</span> <span class="s2">&quot; failed to retrieve a token from the included credentials.&quot;</span>
</span><span id="ChainedTokenCredential-221"><a href="#ChainedTokenCredential-221"><span class="linenos">221</span></a>            <span class="o">+</span> <span class="n">attempts</span>
</span><span id="ChainedTokenCredential-222"><a href="#ChainedTokenCredential-222"><span class="linenos">222</span></a>            <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">To mitigate this issue, please refer to the troubleshooting guidelines here at &quot;</span>
</span><span id="ChainedTokenCredential-223"><a href="#ChainedTokenCredential-223"><span class="linenos">223</span></a>            <span class="s2">&quot;https://aka.ms/azsdk/python/identity/defaultazurecredential/troubleshoot.&quot;</span>
</span><span id="ChainedTokenCredential-224"><a href="#ChainedTokenCredential-224"><span class="linenos">224</span></a>        <span class="p">)</span>
</span><span id="ChainedTokenCredential-225"><a href="#ChainedTokenCredential-225"><span class="linenos">225</span></a>        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</span><span id="ChainedTokenCredential-226"><a href="#ChainedTokenCredential-226"><span class="linenos">226</span></a>        <span class="k">raise</span> <span class="n">ClientAuthenticationError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>A sequence of credentials that is itself a credential.</p>

<p>Its <code><a href="#ChainedTokenCredential.get_token">get_token()</a></code> method calls <code><a href="#ChainedTokenCredential.get_token">get_token</a></code> on each credential in the sequence, in order, returning the first
valid token received. For more information, see <a href="&quot;https://aka.ms/azsdk/python/identity/credential-chains#chainedtokencredential-overview&quot;">ChainedTokenCredential overview
</a>_.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>credentials</strong>:  credential instances to form the chain</li>
</ul>

<p>.. admonition:: Example:</p>

<pre><code>.. literalinclude:: ../samples/credential_creation_code_snippets.py
    :start-after: [START create_chained_token_credential]
    :end-before: [END create_chained_token_credential]
    :language: python
    :dedent: 4
    :caption: Create a ChainedTokenCredential.
</code></pre>
</div>


                            <div id="ChainedTokenCredential.__init__" class="classattr">
                                        <input id="ChainedTokenCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ChainedTokenCredential</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="o">*</span><span class="n">credentials</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">TokenCredential</span><span class="p">,</span> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">SupportsTokenInfo</span><span class="p">]</span></span>)</span>

                <label class="view-source-button" for="ChainedTokenCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ChainedTokenCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ChainedTokenCredential.__init__-63"><a href="#ChainedTokenCredential.__init__-63"><span class="linenos">63</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">credentials</span><span class="p">:</span> <span class="n">TokenProvider</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ChainedTokenCredential.__init__-64"><a href="#ChainedTokenCredential.__init__-64"><span class="linenos">64</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">credentials</span><span class="p">:</span>
</span><span id="ChainedTokenCredential.__init__-65"><a href="#ChainedTokenCredential.__init__-65"><span class="linenos">65</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;at least one credential is required&quot;</span><span class="p">)</span>
</span><span id="ChainedTokenCredential.__init__-66"><a href="#ChainedTokenCredential.__init__-66"><span class="linenos">66</span></a>
</span><span id="ChainedTokenCredential.__init__-67"><a href="#ChainedTokenCredential.__init__-67"><span class="linenos">67</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_successful_credential</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenProvider</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ChainedTokenCredential.__init__-68"><a href="#ChainedTokenCredential.__init__-68"><span class="linenos">68</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">credentials</span> <span class="o">=</span> <span class="n">credentials</span>
</span></pre></div>


    

                            </div>
                            <div id="ChainedTokenCredential.credentials" class="classattr">
                                <div class="attr variable">
            <span class="name">credentials</span>

        
    </div>
    <a class="headerlink" href="#ChainedTokenCredential.credentials"></a>
    
    

                            </div>
                            <div id="ChainedTokenCredential.close" class="classattr">
                                        <input id="ChainedTokenCredential.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="ChainedTokenCredential.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ChainedTokenCredential.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ChainedTokenCredential.close-79"><a href="#ChainedTokenCredential.close-79"><span class="linenos">79</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ChainedTokenCredential.close-80"><a href="#ChainedTokenCredential.close-80"><span class="linenos">80</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the transport session of each credential in the chain.&quot;&quot;&quot;</span>
</span><span id="ChainedTokenCredential.close-81"><a href="#ChainedTokenCredential.close-81"><span class="linenos">81</span></a>        <span class="bp">self</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Close the transport session of each credential in the chain.</p>
</div>


                            </div>
                            <div id="ChainedTokenCredential.get_token" class="classattr">
                                        <input id="ChainedTokenCredential.get_token-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_token</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">enable_cae</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessToken</span>:</span></span>

                <label class="view-source-button" for="ChainedTokenCredential.get_token-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ChainedTokenCredential.get_token"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ChainedTokenCredential.get_token-83"><a href="#ChainedTokenCredential.get_token-83"><span class="linenos"> 83</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="ChainedTokenCredential.get_token-84"><a href="#ChainedTokenCredential.get_token-84"><span class="linenos"> 84</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="ChainedTokenCredential.get_token-85"><a href="#ChainedTokenCredential.get_token-85"><span class="linenos"> 85</span></a>        <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="ChainedTokenCredential.get_token-86"><a href="#ChainedTokenCredential.get_token-86"><span class="linenos"> 86</span></a>        <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="ChainedTokenCredential.get_token-87"><a href="#ChainedTokenCredential.get_token-87"><span class="linenos"> 87</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="ChainedTokenCredential.get_token-88"><a href="#ChainedTokenCredential.get_token-88"><span class="linenos"> 88</span></a>        <span class="n">enable_cae</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="ChainedTokenCredential.get_token-89"><a href="#ChainedTokenCredential.get_token-89"><span class="linenos"> 89</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="ChainedTokenCredential.get_token-90"><a href="#ChainedTokenCredential.get_token-90"><span class="linenos"> 90</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="ChainedTokenCredential.get_token-91"><a href="#ChainedTokenCredential.get_token-91"><span class="linenos"> 91</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request a token from each chained credential, in order, returning the first token received.</span>
</span><span id="ChainedTokenCredential.get_token-92"><a href="#ChainedTokenCredential.get_token-92"><span class="linenos"> 92</span></a>
</span><span id="ChainedTokenCredential.get_token-93"><a href="#ChainedTokenCredential.get_token-93"><span class="linenos"> 93</span></a><span class="sd">        If no credential provides a token, raises :class:`azure.core.exceptions.ClientAuthenticationError`</span>
</span><span id="ChainedTokenCredential.get_token-94"><a href="#ChainedTokenCredential.get_token-94"><span class="linenos"> 94</span></a><span class="sd">        with an error message from each credential.</span>
</span><span id="ChainedTokenCredential.get_token-95"><a href="#ChainedTokenCredential.get_token-95"><span class="linenos"> 95</span></a>
</span><span id="ChainedTokenCredential.get_token-96"><a href="#ChainedTokenCredential.get_token-96"><span class="linenos"> 96</span></a><span class="sd">        This method is called automatically by Azure SDK clients.</span>
</span><span id="ChainedTokenCredential.get_token-97"><a href="#ChainedTokenCredential.get_token-97"><span class="linenos"> 97</span></a>
</span><span id="ChainedTokenCredential.get_token-98"><a href="#ChainedTokenCredential.get_token-98"><span class="linenos"> 98</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="ChainedTokenCredential.get_token-99"><a href="#ChainedTokenCredential.get_token-99"><span class="linenos"> 99</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="ChainedTokenCredential.get_token-100"><a href="#ChainedTokenCredential.get_token-100"><span class="linenos">100</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="ChainedTokenCredential.get_token-101"><a href="#ChainedTokenCredential.get_token-101"><span class="linenos">101</span></a><span class="sd">        :keyword str claims: additional claims required in the token, such as those returned in a resource provider&#39;s</span>
</span><span id="ChainedTokenCredential.get_token-102"><a href="#ChainedTokenCredential.get_token-102"><span class="linenos">102</span></a><span class="sd">            claims challenge following an authorization failure.</span>
</span><span id="ChainedTokenCredential.get_token-103"><a href="#ChainedTokenCredential.get_token-103"><span class="linenos">103</span></a><span class="sd">        :keyword str tenant_id: optional tenant to include in the token request.</span>
</span><span id="ChainedTokenCredential.get_token-104"><a href="#ChainedTokenCredential.get_token-104"><span class="linenos">104</span></a><span class="sd">        :keyword bool enable_cae: indicates whether to enable Continuous Access Evaluation (CAE) for the requested</span>
</span><span id="ChainedTokenCredential.get_token-105"><a href="#ChainedTokenCredential.get_token-105"><span class="linenos">105</span></a><span class="sd">            token. Defaults to False.</span>
</span><span id="ChainedTokenCredential.get_token-106"><a href="#ChainedTokenCredential.get_token-106"><span class="linenos">106</span></a>
</span><span id="ChainedTokenCredential.get_token-107"><a href="#ChainedTokenCredential.get_token-107"><span class="linenos">107</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="ChainedTokenCredential.get_token-108"><a href="#ChainedTokenCredential.get_token-108"><span class="linenos">108</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="ChainedTokenCredential.get_token-109"><a href="#ChainedTokenCredential.get_token-109"><span class="linenos">109</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: no credential in the chain provided a token</span>
</span><span id="ChainedTokenCredential.get_token-110"><a href="#ChainedTokenCredential.get_token-110"><span class="linenos">110</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ChainedTokenCredential.get_token-111"><a href="#ChainedTokenCredential.get_token-111"><span class="linenos">111</span></a>
</span><span id="ChainedTokenCredential.get_token-112"><a href="#ChainedTokenCredential.get_token-112"><span class="linenos">112</span></a>        <span class="n">within_credential_chain</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token-113"><a href="#ChainedTokenCredential.get_token-113"><span class="linenos">113</span></a>        <span class="n">history</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ChainedTokenCredential.get_token-114"><a href="#ChainedTokenCredential.get_token-114"><span class="linenos">114</span></a>        <span class="k">for</span> <span class="n">credential</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">credentials</span><span class="p">:</span>
</span><span id="ChainedTokenCredential.get_token-115"><a href="#ChainedTokenCredential.get_token-115"><span class="linenos">115</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="ChainedTokenCredential.get_token-116"><a href="#ChainedTokenCredential.get_token-116"><span class="linenos">116</span></a>                <span class="c1"># Prioritize &quot;get_token&quot;. Fall back to &quot;get_token_info&quot; if not available.</span>
</span><span id="ChainedTokenCredential.get_token-117"><a href="#ChainedTokenCredential.get_token-117"><span class="linenos">117</span></a>                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">credential</span><span class="p">,</span> <span class="s2">&quot;get_token&quot;</span><span class="p">):</span>
</span><span id="ChainedTokenCredential.get_token-118"><a href="#ChainedTokenCredential.get_token-118"><span class="linenos">118</span></a>                    <span class="n">token</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">TokenCredential</span><span class="p">,</span> <span class="n">credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
</span><span id="ChainedTokenCredential.get_token-119"><a href="#ChainedTokenCredential.get_token-119"><span class="linenos">119</span></a>                        <span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="n">enable_cae</span><span class="o">=</span><span class="n">enable_cae</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="ChainedTokenCredential.get_token-120"><a href="#ChainedTokenCredential.get_token-120"><span class="linenos">120</span></a>                    <span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token-121"><a href="#ChainedTokenCredential.get_token-121"><span class="linenos">121</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="ChainedTokenCredential.get_token-122"><a href="#ChainedTokenCredential.get_token-122"><span class="linenos">122</span></a>                    <span class="n">options</span><span class="p">:</span> <span class="n">TokenRequestOptions</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="ChainedTokenCredential.get_token-123"><a href="#ChainedTokenCredential.get_token-123"><span class="linenos">123</span></a>                    <span class="k">if</span> <span class="n">claims</span><span class="p">:</span>
</span><span id="ChainedTokenCredential.get_token-124"><a href="#ChainedTokenCredential.get_token-124"><span class="linenos">124</span></a>                        <span class="n">options</span><span class="p">[</span><span class="s2">&quot;claims&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">claims</span>
</span><span id="ChainedTokenCredential.get_token-125"><a href="#ChainedTokenCredential.get_token-125"><span class="linenos">125</span></a>                    <span class="k">if</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="ChainedTokenCredential.get_token-126"><a href="#ChainedTokenCredential.get_token-126"><span class="linenos">126</span></a>                        <span class="n">options</span><span class="p">[</span><span class="s2">&quot;tenant_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tenant_id</span>
</span><span id="ChainedTokenCredential.get_token-127"><a href="#ChainedTokenCredential.get_token-127"><span class="linenos">127</span></a>                    <span class="n">options</span><span class="p">[</span><span class="s2">&quot;enable_cae&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">enable_cae</span>
</span><span id="ChainedTokenCredential.get_token-128"><a href="#ChainedTokenCredential.get_token-128"><span class="linenos">128</span></a>                    <span class="n">token_info</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">SupportsTokenInfo</span><span class="p">,</span> <span class="n">credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token-129"><a href="#ChainedTokenCredential.get_token-129"><span class="linenos">129</span></a>                    <span class="n">token</span> <span class="o">=</span> <span class="n">AccessToken</span><span class="p">(</span><span class="n">token_info</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">token_info</span><span class="o">.</span><span class="n">expires_on</span><span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token-130"><a href="#ChainedTokenCredential.get_token-130"><span class="linenos">130</span></a>
</span><span id="ChainedTokenCredential.get_token-131"><a href="#ChainedTokenCredential.get_token-131"><span class="linenos">131</span></a>                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> acquired a token from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">credential</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token-132"><a href="#ChainedTokenCredential.get_token-132"><span class="linenos">132</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_successful_credential</span> <span class="o">=</span> <span class="n">credential</span>
</span><span id="ChainedTokenCredential.get_token-133"><a href="#ChainedTokenCredential.get_token-133"><span class="linenos">133</span></a>                <span class="n">within_credential_chain</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token-134"><a href="#ChainedTokenCredential.get_token-134"><span class="linenos">134</span></a>                <span class="k">return</span> <span class="n">token</span>
</span><span id="ChainedTokenCredential.get_token-135"><a href="#ChainedTokenCredential.get_token-135"><span class="linenos">135</span></a>
</span><span id="ChainedTokenCredential.get_token-136"><a href="#ChainedTokenCredential.get_token-136"><span class="linenos">136</span></a>            <span class="k">except</span> <span class="n">CredentialUnavailableError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="ChainedTokenCredential.get_token-137"><a href="#ChainedTokenCredential.get_token-137"><span class="linenos">137</span></a>                <span class="c1"># credential didn&#39;t attempt authentication because it lacks required data or state -&gt; continue</span>
</span><span id="ChainedTokenCredential.get_token-138"><a href="#ChainedTokenCredential.get_token-138"><span class="linenos">138</span></a>                <span class="n">history</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">credential</span><span class="p">,</span> <span class="n">ex</span><span class="o">.</span><span class="n">message</span><span class="p">))</span>
</span><span id="ChainedTokenCredential.get_token-139"><a href="#ChainedTokenCredential.get_token-139"><span class="linenos">139</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>  <span class="c1"># pylint: disable=broad-except</span>
</span><span id="ChainedTokenCredential.get_token-140"><a href="#ChainedTokenCredential.get_token-140"><span class="linenos">140</span></a>                <span class="c1"># credential failed to authenticate, or something unexpectedly raised -&gt; break</span>
</span><span id="ChainedTokenCredential.get_token-141"><a href="#ChainedTokenCredential.get_token-141"><span class="linenos">141</span></a>                <span class="n">history</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">credential</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">)))</span>
</span><span id="ChainedTokenCredential.get_token-142"><a href="#ChainedTokenCredential.get_token-142"><span class="linenos">142</span></a>                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="ChainedTokenCredential.get_token-143"><a href="#ChainedTokenCredential.get_token-143"><span class="linenos">143</span></a>                    <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.get_token failed: </span><span class="si">%s</span><span class="s1"> raised unexpected error &quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span><span class="p">,</span>
</span><span id="ChainedTokenCredential.get_token-144"><a href="#ChainedTokenCredential.get_token-144"><span class="linenos">144</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
</span><span id="ChainedTokenCredential.get_token-145"><a href="#ChainedTokenCredential.get_token-145"><span class="linenos">145</span></a>                    <span class="n">credential</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
</span><span id="ChainedTokenCredential.get_token-146"><a href="#ChainedTokenCredential.get_token-146"><span class="linenos">146</span></a>                    <span class="n">ex</span><span class="p">,</span>
</span><span id="ChainedTokenCredential.get_token-147"><a href="#ChainedTokenCredential.get_token-147"><span class="linenos">147</span></a>                    <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="ChainedTokenCredential.get_token-148"><a href="#ChainedTokenCredential.get_token-148"><span class="linenos">148</span></a>                <span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token-149"><a href="#ChainedTokenCredential.get_token-149"><span class="linenos">149</span></a>                <span class="k">break</span>
</span><span id="ChainedTokenCredential.get_token-150"><a href="#ChainedTokenCredential.get_token-150"><span class="linenos">150</span></a>        <span class="n">within_credential_chain</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token-151"><a href="#ChainedTokenCredential.get_token-151"><span class="linenos">151</span></a>        <span class="n">attempts</span> <span class="o">=</span> <span class="n">_get_error_message</span><span class="p">(</span><span class="n">history</span><span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token-152"><a href="#ChainedTokenCredential.get_token-152"><span class="linenos">152</span></a>        <span class="n">message</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="ChainedTokenCredential.get_token-153"><a href="#ChainedTokenCredential.get_token-153"><span class="linenos">153</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="ChainedTokenCredential.get_token-154"><a href="#ChainedTokenCredential.get_token-154"><span class="linenos">154</span></a>            <span class="o">+</span> <span class="s2">&quot; failed to retrieve a token from the included credentials.&quot;</span>
</span><span id="ChainedTokenCredential.get_token-155"><a href="#ChainedTokenCredential.get_token-155"><span class="linenos">155</span></a>            <span class="o">+</span> <span class="n">attempts</span>
</span><span id="ChainedTokenCredential.get_token-156"><a href="#ChainedTokenCredential.get_token-156"><span class="linenos">156</span></a>            <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">To mitigate this issue, please refer to the troubleshooting guidelines here at &quot;</span>
</span><span id="ChainedTokenCredential.get_token-157"><a href="#ChainedTokenCredential.get_token-157"><span class="linenos">157</span></a>            <span class="s2">&quot;https://aka.ms/azsdk/python/identity/defaultazurecredential/troubleshoot.&quot;</span>
</span><span id="ChainedTokenCredential.get_token-158"><a href="#ChainedTokenCredential.get_token-158"><span class="linenos">158</span></a>        <span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token-159"><a href="#ChainedTokenCredential.get_token-159"><span class="linenos">159</span></a>        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token-160"><a href="#ChainedTokenCredential.get_token-160"><span class="linenos">160</span></a>        <span class="k">raise</span> <span class="n">ClientAuthenticationError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request a token from each chained credential, in order, returning the first token received.</p>

<p>If no credential provides a token, raises <code>azure.core.exceptions.ClientAuthenticationError</code>
with an error message from each credential.</p>

<p>This method is called automatically by Azure SDK clients.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scopes for the access token. This method requires at least one scope.
For more information about scopes, see
<a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword str claims: additional claims required in the token, such as those returned in a resource provider's
claims challenge following an authorization failure.
:keyword str tenant_id: optional tenant to include in the token request.
:keyword bool enable_cae: indicates whether to enable Continuous Access Evaluation (CAE) for the requested
token. Defaults to False.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An access token with the desired scopes.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~azure.core.exceptions.ClientAuthenticationError</strong>:  no credential in the chain provided a token</li>
</ul>
</div>


                            </div>
                            <div id="ChainedTokenCredential.get_token_info" class="classattr">
                                        <input id="ChainedTokenCredential.get_token_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_token_info</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessTokenInfo</span>:</span></span>

                <label class="view-source-button" for="ChainedTokenCredential.get_token_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ChainedTokenCredential.get_token_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ChainedTokenCredential.get_token_info-162"><a href="#ChainedTokenCredential.get_token_info-162"><span class="linenos">162</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="ChainedTokenCredential.get_token_info-163"><a href="#ChainedTokenCredential.get_token_info-163"><span class="linenos">163</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request a token from each chained credential, in order, returning the first token received.</span>
</span><span id="ChainedTokenCredential.get_token_info-164"><a href="#ChainedTokenCredential.get_token_info-164"><span class="linenos">164</span></a>
</span><span id="ChainedTokenCredential.get_token_info-165"><a href="#ChainedTokenCredential.get_token_info-165"><span class="linenos">165</span></a><span class="sd">        If no credential provides a token, raises :class:`azure.core.exceptions.ClientAuthenticationError`</span>
</span><span id="ChainedTokenCredential.get_token_info-166"><a href="#ChainedTokenCredential.get_token_info-166"><span class="linenos">166</span></a><span class="sd">        with an error message from each credential.</span>
</span><span id="ChainedTokenCredential.get_token_info-167"><a href="#ChainedTokenCredential.get_token_info-167"><span class="linenos">167</span></a>
</span><span id="ChainedTokenCredential.get_token_info-168"><a href="#ChainedTokenCredential.get_token_info-168"><span class="linenos">168</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="ChainedTokenCredential.get_token_info-169"><a href="#ChainedTokenCredential.get_token_info-169"><span class="linenos">169</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients.</span>
</span><span id="ChainedTokenCredential.get_token_info-170"><a href="#ChainedTokenCredential.get_token_info-170"><span class="linenos">170</span></a>
</span><span id="ChainedTokenCredential.get_token_info-171"><a href="#ChainedTokenCredential.get_token_info-171"><span class="linenos">171</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="ChainedTokenCredential.get_token_info-172"><a href="#ChainedTokenCredential.get_token_info-172"><span class="linenos">172</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="ChainedTokenCredential.get_token_info-173"><a href="#ChainedTokenCredential.get_token_info-173"><span class="linenos">173</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="ChainedTokenCredential.get_token_info-174"><a href="#ChainedTokenCredential.get_token_info-174"><span class="linenos">174</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="ChainedTokenCredential.get_token_info-175"><a href="#ChainedTokenCredential.get_token_info-175"><span class="linenos">175</span></a>
</span><span id="ChainedTokenCredential.get_token_info-176"><a href="#ChainedTokenCredential.get_token_info-176"><span class="linenos">176</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="ChainedTokenCredential.get_token_info-177"><a href="#ChainedTokenCredential.get_token_info-177"><span class="linenos">177</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="ChainedTokenCredential.get_token_info-178"><a href="#ChainedTokenCredential.get_token_info-178"><span class="linenos">178</span></a>
</span><span id="ChainedTokenCredential.get_token_info-179"><a href="#ChainedTokenCredential.get_token_info-179"><span class="linenos">179</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: no credential in the chain provided a token.</span>
</span><span id="ChainedTokenCredential.get_token_info-180"><a href="#ChainedTokenCredential.get_token_info-180"><span class="linenos">180</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ChainedTokenCredential.get_token_info-181"><a href="#ChainedTokenCredential.get_token_info-181"><span class="linenos">181</span></a>        <span class="n">within_credential_chain</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token_info-182"><a href="#ChainedTokenCredential.get_token_info-182"><span class="linenos">182</span></a>        <span class="n">history</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ChainedTokenCredential.get_token_info-183"><a href="#ChainedTokenCredential.get_token_info-183"><span class="linenos">183</span></a>        <span class="n">options</span> <span class="o">=</span> <span class="n">options</span> <span class="ow">or</span> <span class="p">{}</span>
</span><span id="ChainedTokenCredential.get_token_info-184"><a href="#ChainedTokenCredential.get_token_info-184"><span class="linenos">184</span></a>        <span class="k">for</span> <span class="n">credential</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">credentials</span><span class="p">:</span>
</span><span id="ChainedTokenCredential.get_token_info-185"><a href="#ChainedTokenCredential.get_token_info-185"><span class="linenos">185</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="ChainedTokenCredential.get_token_info-186"><a href="#ChainedTokenCredential.get_token_info-186"><span class="linenos">186</span></a>                <span class="c1"># Prioritize &quot;get_token_info&quot;. Fall back to &quot;get_token&quot; if not available.</span>
</span><span id="ChainedTokenCredential.get_token_info-187"><a href="#ChainedTokenCredential.get_token_info-187"><span class="linenos">187</span></a>                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">credential</span><span class="p">,</span> <span class="s2">&quot;get_token_info&quot;</span><span class="p">):</span>
</span><span id="ChainedTokenCredential.get_token_info-188"><a href="#ChainedTokenCredential.get_token_info-188"><span class="linenos">188</span></a>                    <span class="n">token_info</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">SupportsTokenInfo</span><span class="p">,</span> <span class="n">credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token_info-189"><a href="#ChainedTokenCredential.get_token_info-189"><span class="linenos">189</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="ChainedTokenCredential.get_token_info-190"><a href="#ChainedTokenCredential.get_token_info-190"><span class="linenos">190</span></a>                    <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pop&quot;</span><span class="p">):</span>
</span><span id="ChainedTokenCredential.get_token_info-191"><a href="#ChainedTokenCredential.get_token_info-191"><span class="linenos">191</span></a>                        <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span>
</span><span id="ChainedTokenCredential.get_token_info-192"><a href="#ChainedTokenCredential.get_token_info-192"><span class="linenos">192</span></a>                            <span class="s2">&quot;Proof of possession arguments are not supported for this credential.&quot;</span>
</span><span id="ChainedTokenCredential.get_token_info-193"><a href="#ChainedTokenCredential.get_token_info-193"><span class="linenos">193</span></a>                        <span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token_info-194"><a href="#ChainedTokenCredential.get_token_info-194"><span class="linenos">194</span></a>                    <span class="n">token</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">TokenCredential</span><span class="p">,</span> <span class="n">credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token_info-195"><a href="#ChainedTokenCredential.get_token_info-195"><span class="linenos">195</span></a>                    <span class="n">token_info</span> <span class="o">=</span> <span class="n">AccessTokenInfo</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">expires_on</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">expires_on</span><span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token_info-196"><a href="#ChainedTokenCredential.get_token_info-196"><span class="linenos">196</span></a>
</span><span id="ChainedTokenCredential.get_token_info-197"><a href="#ChainedTokenCredential.get_token_info-197"><span class="linenos">197</span></a>                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> acquired a token from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">credential</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token_info-198"><a href="#ChainedTokenCredential.get_token_info-198"><span class="linenos">198</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_successful_credential</span> <span class="o">=</span> <span class="n">credential</span>
</span><span id="ChainedTokenCredential.get_token_info-199"><a href="#ChainedTokenCredential.get_token_info-199"><span class="linenos">199</span></a>                <span class="n">within_credential_chain</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token_info-200"><a href="#ChainedTokenCredential.get_token_info-200"><span class="linenos">200</span></a>                <span class="k">return</span> <span class="n">token_info</span>
</span><span id="ChainedTokenCredential.get_token_info-201"><a href="#ChainedTokenCredential.get_token_info-201"><span class="linenos">201</span></a>            <span class="k">except</span> <span class="n">CredentialUnavailableError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="ChainedTokenCredential.get_token_info-202"><a href="#ChainedTokenCredential.get_token_info-202"><span class="linenos">202</span></a>                <span class="c1"># credential didn&#39;t attempt authentication because it lacks required data or state -&gt; continue</span>
</span><span id="ChainedTokenCredential.get_token_info-203"><a href="#ChainedTokenCredential.get_token_info-203"><span class="linenos">203</span></a>                <span class="n">history</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">credential</span><span class="p">,</span> <span class="n">ex</span><span class="o">.</span><span class="n">message</span><span class="p">))</span>
</span><span id="ChainedTokenCredential.get_token_info-204"><a href="#ChainedTokenCredential.get_token_info-204"><span class="linenos">204</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>  <span class="c1"># pylint: disable=broad-except</span>
</span><span id="ChainedTokenCredential.get_token_info-205"><a href="#ChainedTokenCredential.get_token_info-205"><span class="linenos">205</span></a>                <span class="c1"># credential failed to authenticate, or something unexpectedly raised -&gt; break</span>
</span><span id="ChainedTokenCredential.get_token_info-206"><a href="#ChainedTokenCredential.get_token_info-206"><span class="linenos">206</span></a>                <span class="n">history</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">credential</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">)))</span>
</span><span id="ChainedTokenCredential.get_token_info-207"><a href="#ChainedTokenCredential.get_token_info-207"><span class="linenos">207</span></a>                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="ChainedTokenCredential.get_token_info-208"><a href="#ChainedTokenCredential.get_token_info-208"><span class="linenos">208</span></a>                    <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.get_token_info failed: </span><span class="si">%s</span><span class="s1"> raised unexpected error &quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span><span class="p">,</span>
</span><span id="ChainedTokenCredential.get_token_info-209"><a href="#ChainedTokenCredential.get_token_info-209"><span class="linenos">209</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
</span><span id="ChainedTokenCredential.get_token_info-210"><a href="#ChainedTokenCredential.get_token_info-210"><span class="linenos">210</span></a>                    <span class="n">credential</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
</span><span id="ChainedTokenCredential.get_token_info-211"><a href="#ChainedTokenCredential.get_token_info-211"><span class="linenos">211</span></a>                    <span class="n">ex</span><span class="p">,</span>
</span><span id="ChainedTokenCredential.get_token_info-212"><a href="#ChainedTokenCredential.get_token_info-212"><span class="linenos">212</span></a>                    <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="ChainedTokenCredential.get_token_info-213"><a href="#ChainedTokenCredential.get_token_info-213"><span class="linenos">213</span></a>                <span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token_info-214"><a href="#ChainedTokenCredential.get_token_info-214"><span class="linenos">214</span></a>                <span class="k">break</span>
</span><span id="ChainedTokenCredential.get_token_info-215"><a href="#ChainedTokenCredential.get_token_info-215"><span class="linenos">215</span></a>
</span><span id="ChainedTokenCredential.get_token_info-216"><a href="#ChainedTokenCredential.get_token_info-216"><span class="linenos">216</span></a>        <span class="n">within_credential_chain</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token_info-217"><a href="#ChainedTokenCredential.get_token_info-217"><span class="linenos">217</span></a>        <span class="n">attempts</span> <span class="o">=</span> <span class="n">_get_error_message</span><span class="p">(</span><span class="n">history</span><span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token_info-218"><a href="#ChainedTokenCredential.get_token_info-218"><span class="linenos">218</span></a>        <span class="n">message</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="ChainedTokenCredential.get_token_info-219"><a href="#ChainedTokenCredential.get_token_info-219"><span class="linenos">219</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="ChainedTokenCredential.get_token_info-220"><a href="#ChainedTokenCredential.get_token_info-220"><span class="linenos">220</span></a>            <span class="o">+</span> <span class="s2">&quot; failed to retrieve a token from the included credentials.&quot;</span>
</span><span id="ChainedTokenCredential.get_token_info-221"><a href="#ChainedTokenCredential.get_token_info-221"><span class="linenos">221</span></a>            <span class="o">+</span> <span class="n">attempts</span>
</span><span id="ChainedTokenCredential.get_token_info-222"><a href="#ChainedTokenCredential.get_token_info-222"><span class="linenos">222</span></a>            <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">To mitigate this issue, please refer to the troubleshooting guidelines here at &quot;</span>
</span><span id="ChainedTokenCredential.get_token_info-223"><a href="#ChainedTokenCredential.get_token_info-223"><span class="linenos">223</span></a>            <span class="s2">&quot;https://aka.ms/azsdk/python/identity/defaultazurecredential/troubleshoot.&quot;</span>
</span><span id="ChainedTokenCredential.get_token_info-224"><a href="#ChainedTokenCredential.get_token_info-224"><span class="linenos">224</span></a>        <span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token_info-225"><a href="#ChainedTokenCredential.get_token_info-225"><span class="linenos">225</span></a>        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</span><span id="ChainedTokenCredential.get_token_info-226"><a href="#ChainedTokenCredential.get_token_info-226"><span class="linenos">226</span></a>        <span class="k">raise</span> <span class="n">ClientAuthenticationError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request a token from each chained credential, in order, returning the first token received.</p>

<p>If no credential provides a token, raises <code>azure.core.exceptions.ClientAuthenticationError</code>
with an error message from each credential.</p>

<p>This is an alternative to <code><a href="#ChainedTokenCredential.get_token">get_token</a></code> to enable certain scenarios that require additional properties
on the token. This method is called automatically by Azure SDK clients.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scopes for the access token. This method requires at least one scope.
For more information about scopes, see <a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.
:paramtype options: ~azure.core.credentials.TokenRequestOptions</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An AccessTokenInfo instance containing information about the token.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~azure.core.exceptions.ClientAuthenticationError</strong>:  no credential in the chain provided a token.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="ClientAssertionCredential">
                            <input id="ClientAssertionCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ClientAssertionCredential</span><wbr>(<span class="base">azure.identity._internal.get_token_mixin.GetTokenMixin</span>):

                <label class="view-source-button" for="ClientAssertionCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ClientAssertionCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ClientAssertionCredential-13"><a href="#ClientAssertionCredential-13"><span class="linenos">13</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ClientAssertionCredential</span><span class="p">(</span><span class="n">GetTokenMixin</span><span class="p">):</span>
</span><span id="ClientAssertionCredential-14"><a href="#ClientAssertionCredential-14"><span class="linenos">14</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticates a service principal with a JWT assertion.</span>
</span><span id="ClientAssertionCredential-15"><a href="#ClientAssertionCredential-15"><span class="linenos">15</span></a>
</span><span id="ClientAssertionCredential-16"><a href="#ClientAssertionCredential-16"><span class="linenos">16</span></a><span class="sd">    This credential is for advanced scenarios. :class:`~azure.identity.CertificateCredential` has a more</span>
</span><span id="ClientAssertionCredential-17"><a href="#ClientAssertionCredential-17"><span class="linenos">17</span></a><span class="sd">    convenient API for the most common assertion scenario, authenticating a service principal with a certificate.</span>
</span><span id="ClientAssertionCredential-18"><a href="#ClientAssertionCredential-18"><span class="linenos">18</span></a>
</span><span id="ClientAssertionCredential-19"><a href="#ClientAssertionCredential-19"><span class="linenos">19</span></a><span class="sd">    :param str tenant_id: ID of the principal&#39;s tenant. Also called its &quot;directory&quot; ID.</span>
</span><span id="ClientAssertionCredential-20"><a href="#ClientAssertionCredential-20"><span class="linenos">20</span></a><span class="sd">    :param str client_id: The principal&#39;s client ID</span>
</span><span id="ClientAssertionCredential-21"><a href="#ClientAssertionCredential-21"><span class="linenos">21</span></a><span class="sd">    :param func: A callable that returns a string assertion. The credential will call this every time it</span>
</span><span id="ClientAssertionCredential-22"><a href="#ClientAssertionCredential-22"><span class="linenos">22</span></a><span class="sd">        acquires a new token.</span>
</span><span id="ClientAssertionCredential-23"><a href="#ClientAssertionCredential-23"><span class="linenos">23</span></a><span class="sd">    :paramtype func: Callable[[], str]</span>
</span><span id="ClientAssertionCredential-24"><a href="#ClientAssertionCredential-24"><span class="linenos">24</span></a>
</span><span id="ClientAssertionCredential-25"><a href="#ClientAssertionCredential-25"><span class="linenos">25</span></a><span class="sd">    :keyword str authority: Authority of a Microsoft Entra endpoint, for example</span>
</span><span id="ClientAssertionCredential-26"><a href="#ClientAssertionCredential-26"><span class="linenos">26</span></a><span class="sd">        &quot;login.microsoftonline.com&quot;, the authority for Azure Public Cloud (which is the default).</span>
</span><span id="ClientAssertionCredential-27"><a href="#ClientAssertionCredential-27"><span class="linenos">27</span></a><span class="sd">        :class:`~azure.identity.AzureAuthorityHosts` defines authorities for other clouds.</span>
</span><span id="ClientAssertionCredential-28"><a href="#ClientAssertionCredential-28"><span class="linenos">28</span></a><span class="sd">    :keyword cache_persistence_options: configuration for persistent token caching. If unspecified, the credential</span>
</span><span id="ClientAssertionCredential-29"><a href="#ClientAssertionCredential-29"><span class="linenos">29</span></a><span class="sd">        will cache tokens in memory.</span>
</span><span id="ClientAssertionCredential-30"><a href="#ClientAssertionCredential-30"><span class="linenos">30</span></a><span class="sd">    :paramtype cache_persistence_options: ~azure.identity.TokenCachePersistenceOptions</span>
</span><span id="ClientAssertionCredential-31"><a href="#ClientAssertionCredential-31"><span class="linenos">31</span></a><span class="sd">    :keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified &quot;tenant_id&quot;</span>
</span><span id="ClientAssertionCredential-32"><a href="#ClientAssertionCredential-32"><span class="linenos">32</span></a><span class="sd">        for which the credential may acquire tokens. Add the wildcard value &quot;*&quot; to allow the credential to</span>
</span><span id="ClientAssertionCredential-33"><a href="#ClientAssertionCredential-33"><span class="linenos">33</span></a><span class="sd">        acquire tokens for any tenant the application can access.</span>
</span><span id="ClientAssertionCredential-34"><a href="#ClientAssertionCredential-34"><span class="linenos">34</span></a>
</span><span id="ClientAssertionCredential-35"><a href="#ClientAssertionCredential-35"><span class="linenos">35</span></a><span class="sd">    .. admonition:: Example:</span>
</span><span id="ClientAssertionCredential-36"><a href="#ClientAssertionCredential-36"><span class="linenos">36</span></a>
</span><span id="ClientAssertionCredential-37"><a href="#ClientAssertionCredential-37"><span class="linenos">37</span></a><span class="sd">        .. literalinclude:: ../samples/credential_creation_code_snippets.py</span>
</span><span id="ClientAssertionCredential-38"><a href="#ClientAssertionCredential-38"><span class="linenos">38</span></a><span class="sd">            :start-after: [START create_client_assertion_credential]</span>
</span><span id="ClientAssertionCredential-39"><a href="#ClientAssertionCredential-39"><span class="linenos">39</span></a><span class="sd">            :end-before: [END create_client_assertion_credential]</span>
</span><span id="ClientAssertionCredential-40"><a href="#ClientAssertionCredential-40"><span class="linenos">40</span></a><span class="sd">            :language: python</span>
</span><span id="ClientAssertionCredential-41"><a href="#ClientAssertionCredential-41"><span class="linenos">41</span></a><span class="sd">            :dedent: 4</span>
</span><span id="ClientAssertionCredential-42"><a href="#ClientAssertionCredential-42"><span class="linenos">42</span></a><span class="sd">            :caption: Create a ClientAssertionCredential.</span>
</span><span id="ClientAssertionCredential-43"><a href="#ClientAssertionCredential-43"><span class="linenos">43</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ClientAssertionCredential-44"><a href="#ClientAssertionCredential-44"><span class="linenos">44</span></a>
</span><span id="ClientAssertionCredential-45"><a href="#ClientAssertionCredential-45"><span class="linenos">45</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[],</span> <span class="nb">str</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ClientAssertionCredential-46"><a href="#ClientAssertionCredential-46"><span class="linenos">46</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_func</span> <span class="o">=</span> <span class="n">func</span>
</span><span id="ClientAssertionCredential-47"><a href="#ClientAssertionCredential-47"><span class="linenos">47</span></a>        <span class="n">authority</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;authority&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="ClientAssertionCredential-48"><a href="#ClientAssertionCredential-48"><span class="linenos">48</span></a>        <span class="n">cache</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;cache&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="ClientAssertionCredential-49"><a href="#ClientAssertionCredential-49"><span class="linenos">49</span></a>        <span class="n">cae_cache</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;cae_cache&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="ClientAssertionCredential-50"><a href="#ClientAssertionCredential-50"><span class="linenos">50</span></a>        <span class="n">additionally_allowed_tenants</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;additionally_allowed_tenants&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="ClientAssertionCredential-51"><a href="#ClientAssertionCredential-51"><span class="linenos">51</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">AadClient</span><span class="p">(</span>
</span><span id="ClientAssertionCredential-52"><a href="#ClientAssertionCredential-52"><span class="linenos">52</span></a>            <span class="n">tenant_id</span><span class="p">,</span>
</span><span id="ClientAssertionCredential-53"><a href="#ClientAssertionCredential-53"><span class="linenos">53</span></a>            <span class="n">client_id</span><span class="p">,</span>
</span><span id="ClientAssertionCredential-54"><a href="#ClientAssertionCredential-54"><span class="linenos">54</span></a>            <span class="n">authority</span><span class="o">=</span><span class="n">authority</span><span class="p">,</span>
</span><span id="ClientAssertionCredential-55"><a href="#ClientAssertionCredential-55"><span class="linenos">55</span></a>            <span class="n">cache</span><span class="o">=</span><span class="n">cache</span><span class="p">,</span>
</span><span id="ClientAssertionCredential-56"><a href="#ClientAssertionCredential-56"><span class="linenos">56</span></a>            <span class="n">cae_cache</span><span class="o">=</span><span class="n">cae_cache</span><span class="p">,</span>
</span><span id="ClientAssertionCredential-57"><a href="#ClientAssertionCredential-57"><span class="linenos">57</span></a>            <span class="n">additionally_allowed_tenants</span><span class="o">=</span><span class="n">additionally_allowed_tenants</span><span class="p">,</span>
</span><span id="ClientAssertionCredential-58"><a href="#ClientAssertionCredential-58"><span class="linenos">58</span></a>            <span class="o">**</span><span class="n">kwargs</span>
</span><span id="ClientAssertionCredential-59"><a href="#ClientAssertionCredential-59"><span class="linenos">59</span></a>        <span class="p">)</span>
</span><span id="ClientAssertionCredential-60"><a href="#ClientAssertionCredential-60"><span class="linenos">60</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="ClientAssertionCredential-61"><a href="#ClientAssertionCredential-61"><span class="linenos">61</span></a>
</span><span id="ClientAssertionCredential-62"><a href="#ClientAssertionCredential-62"><span class="linenos">62</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ClientAssertionCredential&quot;</span><span class="p">:</span>
</span><span id="ClientAssertionCredential-63"><a href="#ClientAssertionCredential-63"><span class="linenos">63</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="fm">__enter__</span><span class="p">()</span>
</span><span id="ClientAssertionCredential-64"><a href="#ClientAssertionCredential-64"><span class="linenos">64</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="ClientAssertionCredential-65"><a href="#ClientAssertionCredential-65"><span class="linenos">65</span></a>
</span><span id="ClientAssertionCredential-66"><a href="#ClientAssertionCredential-66"><span class="linenos">66</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ClientAssertionCredential-67"><a href="#ClientAssertionCredential-67"><span class="linenos">67</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
</span><span id="ClientAssertionCredential-68"><a href="#ClientAssertionCredential-68"><span class="linenos">68</span></a>
</span><span id="ClientAssertionCredential-69"><a href="#ClientAssertionCredential-69"><span class="linenos">69</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ClientAssertionCredential-70"><a href="#ClientAssertionCredential-70"><span class="linenos">70</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the credential&#39;s underlying HTTP client and release resources.&quot;&quot;&quot;</span>
</span><span id="ClientAssertionCredential-71"><a href="#ClientAssertionCredential-71"><span class="linenos">71</span></a>        <span class="bp">self</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">()</span>
</span><span id="ClientAssertionCredential-72"><a href="#ClientAssertionCredential-72"><span class="linenos">72</span></a>
</span><span id="ClientAssertionCredential-73"><a href="#ClientAssertionCredential-73"><span class="linenos">73</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_acquire_token_silently</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AccessTokenInfo</span><span class="p">]:</span>
</span><span id="ClientAssertionCredential-74"><a href="#ClientAssertionCredential-74"><span class="linenos">74</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_cached_access_token</span><span class="p">(</span><span class="n">scopes</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="ClientAssertionCredential-75"><a href="#ClientAssertionCredential-75"><span class="linenos">75</span></a>
</span><span id="ClientAssertionCredential-76"><a href="#ClientAssertionCredential-76"><span class="linenos">76</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_request_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="ClientAssertionCredential-77"><a href="#ClientAssertionCredential-77"><span class="linenos">77</span></a>        <span class="n">assertion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_func</span><span class="p">()</span>
</span><span id="ClientAssertionCredential-78"><a href="#ClientAssertionCredential-78"><span class="linenos">78</span></a>        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">obtain_token_by_jwt_assertion</span><span class="p">(</span><span class="n">scopes</span><span class="p">,</span> <span class="n">assertion</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="ClientAssertionCredential-79"><a href="#ClientAssertionCredential-79"><span class="linenos">79</span></a>        <span class="k">return</span> <span class="n">token</span>
</span></pre></div>


            <div class="docstring"><p>Authenticates a service principal with a JWT assertion.</p>

<p>This credential is for advanced scenarios. <code>~<a href="#CertificateCredential">azure.identity.CertificateCredential</a></code> has a more
convenient API for the most common assertion scenario, authenticating a service principal with a certificate.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str tenant_id</strong>:  ID of the principal's tenant. Also called its "directory" ID.</li>
<li><strong>str client_id</strong>:  The principal's client ID</li>
<li><strong>func</strong>:  A callable that returns a string assertion. The credential will call this every time it
acquires a new token.
:paramtype func: Callable[[], str]</li>
</ul>

<p>:keyword str authority: Authority of a Microsoft Entra endpoint, for example
    "login.microsoftonline.com", the authority for Azure Public Cloud (which is the default).
    <code>~<a href="#AzureAuthorityHosts">azure.identity.AzureAuthorityHosts</a></code> defines authorities for other clouds.
:keyword cache_persistence_options: configuration for persistent token caching. If unspecified, the credential
    will cache tokens in memory.
:paramtype cache_persistence_options: ~<a href="#TokenCachePersistenceOptions">azure.identity.TokenCachePersistenceOptions</a>
:keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified "tenant_id"
    for which the credential may acquire tokens. Add the wildcard value "*" to allow the credential to
    acquire tokens for any tenant the application can access.</p>

<p>.. admonition:: Example:</p>

<pre><code>.. literalinclude:: ../samples/credential_creation_code_snippets.py
    :start-after: [START create_client_assertion_credential]
    :end-before: [END create_client_assertion_credential]
    :language: python
    :dedent: 4
    :caption: Create a ClientAssertionCredential.
</code></pre>
</div>


                            <div id="ClientAssertionCredential.__init__" class="classattr">
                                        <input id="ClientAssertionCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ClientAssertionCredential</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[],</span> <span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="ClientAssertionCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ClientAssertionCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ClientAssertionCredential.__init__-45"><a href="#ClientAssertionCredential.__init__-45"><span class="linenos">45</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[],</span> <span class="nb">str</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ClientAssertionCredential.__init__-46"><a href="#ClientAssertionCredential.__init__-46"><span class="linenos">46</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_func</span> <span class="o">=</span> <span class="n">func</span>
</span><span id="ClientAssertionCredential.__init__-47"><a href="#ClientAssertionCredential.__init__-47"><span class="linenos">47</span></a>        <span class="n">authority</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;authority&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="ClientAssertionCredential.__init__-48"><a href="#ClientAssertionCredential.__init__-48"><span class="linenos">48</span></a>        <span class="n">cache</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;cache&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="ClientAssertionCredential.__init__-49"><a href="#ClientAssertionCredential.__init__-49"><span class="linenos">49</span></a>        <span class="n">cae_cache</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;cae_cache&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="ClientAssertionCredential.__init__-50"><a href="#ClientAssertionCredential.__init__-50"><span class="linenos">50</span></a>        <span class="n">additionally_allowed_tenants</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;additionally_allowed_tenants&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="ClientAssertionCredential.__init__-51"><a href="#ClientAssertionCredential.__init__-51"><span class="linenos">51</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">AadClient</span><span class="p">(</span>
</span><span id="ClientAssertionCredential.__init__-52"><a href="#ClientAssertionCredential.__init__-52"><span class="linenos">52</span></a>            <span class="n">tenant_id</span><span class="p">,</span>
</span><span id="ClientAssertionCredential.__init__-53"><a href="#ClientAssertionCredential.__init__-53"><span class="linenos">53</span></a>            <span class="n">client_id</span><span class="p">,</span>
</span><span id="ClientAssertionCredential.__init__-54"><a href="#ClientAssertionCredential.__init__-54"><span class="linenos">54</span></a>            <span class="n">authority</span><span class="o">=</span><span class="n">authority</span><span class="p">,</span>
</span><span id="ClientAssertionCredential.__init__-55"><a href="#ClientAssertionCredential.__init__-55"><span class="linenos">55</span></a>            <span class="n">cache</span><span class="o">=</span><span class="n">cache</span><span class="p">,</span>
</span><span id="ClientAssertionCredential.__init__-56"><a href="#ClientAssertionCredential.__init__-56"><span class="linenos">56</span></a>            <span class="n">cae_cache</span><span class="o">=</span><span class="n">cae_cache</span><span class="p">,</span>
</span><span id="ClientAssertionCredential.__init__-57"><a href="#ClientAssertionCredential.__init__-57"><span class="linenos">57</span></a>            <span class="n">additionally_allowed_tenants</span><span class="o">=</span><span class="n">additionally_allowed_tenants</span><span class="p">,</span>
</span><span id="ClientAssertionCredential.__init__-58"><a href="#ClientAssertionCredential.__init__-58"><span class="linenos">58</span></a>            <span class="o">**</span><span class="n">kwargs</span>
</span><span id="ClientAssertionCredential.__init__-59"><a href="#ClientAssertionCredential.__init__-59"><span class="linenos">59</span></a>        <span class="p">)</span>
</span><span id="ClientAssertionCredential.__init__-60"><a href="#ClientAssertionCredential.__init__-60"><span class="linenos">60</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="ClientAssertionCredential.close" class="classattr">
                                        <input id="ClientAssertionCredential.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="ClientAssertionCredential.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ClientAssertionCredential.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ClientAssertionCredential.close-69"><a href="#ClientAssertionCredential.close-69"><span class="linenos">69</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ClientAssertionCredential.close-70"><a href="#ClientAssertionCredential.close-70"><span class="linenos">70</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the credential&#39;s underlying HTTP client and release resources.&quot;&quot;&quot;</span>
</span><span id="ClientAssertionCredential.close-71"><a href="#ClientAssertionCredential.close-71"><span class="linenos">71</span></a>        <span class="bp">self</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Close the credential's underlying HTTP client and release resources.</p>
</div>


                            </div>
                </section>
                <section id="ClientSecretCredential">
                            <input id="ClientSecretCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ClientSecretCredential</span><wbr>(<span class="base">azure.identity._internal.client_credential_base.ClientCredentialBase</span>):

                <label class="view-source-button" for="ClientSecretCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ClientSecretCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ClientSecretCredential-10"><a href="#ClientSecretCredential-10"><span class="linenos">10</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ClientSecretCredential</span><span class="p">(</span><span class="n">ClientCredentialBase</span><span class="p">):</span>
</span><span id="ClientSecretCredential-11"><a href="#ClientSecretCredential-11"><span class="linenos">11</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticates as a service principal using a client secret.</span>
</span><span id="ClientSecretCredential-12"><a href="#ClientSecretCredential-12"><span class="linenos">12</span></a>
</span><span id="ClientSecretCredential-13"><a href="#ClientSecretCredential-13"><span class="linenos">13</span></a><span class="sd">    :param str tenant_id: ID of the service principal&#39;s tenant. Also called its &quot;directory&quot; ID.</span>
</span><span id="ClientSecretCredential-14"><a href="#ClientSecretCredential-14"><span class="linenos">14</span></a><span class="sd">    :param str client_id: The service principal&#39;s client ID</span>
</span><span id="ClientSecretCredential-15"><a href="#ClientSecretCredential-15"><span class="linenos">15</span></a><span class="sd">    :param str client_secret: One of the service principal&#39;s client secrets</span>
</span><span id="ClientSecretCredential-16"><a href="#ClientSecretCredential-16"><span class="linenos">16</span></a>
</span><span id="ClientSecretCredential-17"><a href="#ClientSecretCredential-17"><span class="linenos">17</span></a><span class="sd">    :keyword str authority: Authority of a Microsoft Entra endpoint, for example &quot;login.microsoftonline.com&quot;,</span>
</span><span id="ClientSecretCredential-18"><a href="#ClientSecretCredential-18"><span class="linenos">18</span></a><span class="sd">        the authority for Azure Public Cloud (which is the default). :class:`~azure.identity.AzureAuthorityHosts`</span>
</span><span id="ClientSecretCredential-19"><a href="#ClientSecretCredential-19"><span class="linenos">19</span></a><span class="sd">        defines authorities for other clouds.</span>
</span><span id="ClientSecretCredential-20"><a href="#ClientSecretCredential-20"><span class="linenos">20</span></a><span class="sd">    :keyword cache_persistence_options: Configuration for persistent token caching. If unspecified, the credential</span>
</span><span id="ClientSecretCredential-21"><a href="#ClientSecretCredential-21"><span class="linenos">21</span></a><span class="sd">        will cache tokens in memory.</span>
</span><span id="ClientSecretCredential-22"><a href="#ClientSecretCredential-22"><span class="linenos">22</span></a><span class="sd">    :paramtype cache_persistence_options: ~azure.identity.TokenCachePersistenceOptions</span>
</span><span id="ClientSecretCredential-23"><a href="#ClientSecretCredential-23"><span class="linenos">23</span></a><span class="sd">    :keyword bool disable_instance_discovery: Determines whether or not instance discovery is performed when attempting</span>
</span><span id="ClientSecretCredential-24"><a href="#ClientSecretCredential-24"><span class="linenos">24</span></a><span class="sd">        to authenticate. Setting this to true will completely disable both instance discovery and authority validation.</span>
</span><span id="ClientSecretCredential-25"><a href="#ClientSecretCredential-25"><span class="linenos">25</span></a><span class="sd">        This functionality is intended for use in scenarios where the metadata endpoint cannot be reached, such as in</span>
</span><span id="ClientSecretCredential-26"><a href="#ClientSecretCredential-26"><span class="linenos">26</span></a><span class="sd">        private clouds or Azure Stack. The process of instance discovery entails retrieving authority metadata from</span>
</span><span id="ClientSecretCredential-27"><a href="#ClientSecretCredential-27"><span class="linenos">27</span></a><span class="sd">        https://login.microsoft.com/ to validate the authority. By setting this to **True**, the validation of the</span>
</span><span id="ClientSecretCredential-28"><a href="#ClientSecretCredential-28"><span class="linenos">28</span></a><span class="sd">        authority is disabled. As a result, it is crucial to ensure that the configured authority host is valid and</span>
</span><span id="ClientSecretCredential-29"><a href="#ClientSecretCredential-29"><span class="linenos">29</span></a><span class="sd">        trustworthy.</span>
</span><span id="ClientSecretCredential-30"><a href="#ClientSecretCredential-30"><span class="linenos">30</span></a><span class="sd">    :keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified &quot;tenant_id&quot;</span>
</span><span id="ClientSecretCredential-31"><a href="#ClientSecretCredential-31"><span class="linenos">31</span></a><span class="sd">        for which the credential may acquire tokens. Add the wildcard value &quot;*&quot; to allow the credential to</span>
</span><span id="ClientSecretCredential-32"><a href="#ClientSecretCredential-32"><span class="linenos">32</span></a><span class="sd">        acquire tokens for any tenant the application can access.</span>
</span><span id="ClientSecretCredential-33"><a href="#ClientSecretCredential-33"><span class="linenos">33</span></a>
</span><span id="ClientSecretCredential-34"><a href="#ClientSecretCredential-34"><span class="linenos">34</span></a><span class="sd">    .. admonition:: Example:</span>
</span><span id="ClientSecretCredential-35"><a href="#ClientSecretCredential-35"><span class="linenos">35</span></a>
</span><span id="ClientSecretCredential-36"><a href="#ClientSecretCredential-36"><span class="linenos">36</span></a><span class="sd">        .. literalinclude:: ../samples/credential_creation_code_snippets.py</span>
</span><span id="ClientSecretCredential-37"><a href="#ClientSecretCredential-37"><span class="linenos">37</span></a><span class="sd">            :start-after: [START create_client_secret_credential]</span>
</span><span id="ClientSecretCredential-38"><a href="#ClientSecretCredential-38"><span class="linenos">38</span></a><span class="sd">            :end-before: [END create_client_secret_credential]</span>
</span><span id="ClientSecretCredential-39"><a href="#ClientSecretCredential-39"><span class="linenos">39</span></a><span class="sd">            :language: python</span>
</span><span id="ClientSecretCredential-40"><a href="#ClientSecretCredential-40"><span class="linenos">40</span></a><span class="sd">            :dedent: 4</span>
</span><span id="ClientSecretCredential-41"><a href="#ClientSecretCredential-41"><span class="linenos">41</span></a><span class="sd">            :caption: Create a ClientSecretCredential.</span>
</span><span id="ClientSecretCredential-42"><a href="#ClientSecretCredential-42"><span class="linenos">42</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ClientSecretCredential-43"><a href="#ClientSecretCredential-43"><span class="linenos">43</span></a>
</span><span id="ClientSecretCredential-44"><a href="#ClientSecretCredential-44"><span class="linenos">44</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ClientSecretCredential-45"><a href="#ClientSecretCredential-45"><span class="linenos">45</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">client_id</span><span class="p">:</span>
</span><span id="ClientSecretCredential-46"><a href="#ClientSecretCredential-46"><span class="linenos">46</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;client_id should be the id of a Microsoft Entra application&quot;</span><span class="p">)</span>
</span><span id="ClientSecretCredential-47"><a href="#ClientSecretCredential-47"><span class="linenos">47</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">client_secret</span><span class="p">:</span>
</span><span id="ClientSecretCredential-48"><a href="#ClientSecretCredential-48"><span class="linenos">48</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;secret should be a Microsoft Entra application&#39;s client secret&quot;</span><span class="p">)</span>
</span><span id="ClientSecretCredential-49"><a href="#ClientSecretCredential-49"><span class="linenos">49</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="ClientSecretCredential-50"><a href="#ClientSecretCredential-50"><span class="linenos">50</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;tenant_id should be a Microsoft Entra tenant&#39;s id (also called its &#39;directory id&#39;)&quot;</span><span class="p">)</span>
</span><span id="ClientSecretCredential-51"><a href="#ClientSecretCredential-51"><span class="linenos">51</span></a>
</span><span id="ClientSecretCredential-52"><a href="#ClientSecretCredential-52"><span class="linenos">52</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">ClientSecretCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ClientSecretCredential-53"><a href="#ClientSecretCredential-53"><span class="linenos">53</span></a>            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_credential</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="ClientSecretCredential-54"><a href="#ClientSecretCredential-54"><span class="linenos">54</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Authenticates as a service principal using a client secret.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str tenant_id</strong>:  ID of the service principal's tenant. Also called its "directory" ID.</li>
<li><strong>str client_id</strong>:  The service principal's client ID</li>
<li><strong>str client_secret</strong>:  One of the service principal's client secrets</li>
</ul>

<p>:keyword str authority: Authority of a Microsoft Entra endpoint, for example "login.microsoftonline.com",
    the authority for Azure Public Cloud (which is the default). <code>~<a href="#AzureAuthorityHosts">azure.identity.AzureAuthorityHosts</a></code>
    defines authorities for other clouds.
:keyword cache_persistence_options: Configuration for persistent token caching. If unspecified, the credential
    will cache tokens in memory.
:paramtype cache_persistence_options: ~<a href="#TokenCachePersistenceOptions">azure.identity.TokenCachePersistenceOptions</a>
:keyword bool disable_instance_discovery: Determines whether or not instance discovery is performed when attempting
    to authenticate. Setting this to true will completely disable both instance discovery and authority validation.
    This functionality is intended for use in scenarios where the metadata endpoint cannot be reached, such as in
    private clouds or Azure Stack. The process of instance discovery entails retrieving authority metadata from
    <a href="https://login.microsoft.com/">https://login.microsoft.com/</a> to validate the authority. By setting this to <strong>True</strong>, the validation of the
    authority is disabled. As a result, it is crucial to ensure that the configured authority host is valid and
    trustworthy.
:keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified "tenant_id"
    for which the credential may acquire tokens. Add the wildcard value "*" to allow the credential to
    acquire tokens for any tenant the application can access.</p>

<p>.. admonition:: Example:</p>

<pre><code>.. literalinclude:: ../samples/credential_creation_code_snippets.py
    :start-after: [START create_client_secret_credential]
    :end-before: [END create_client_secret_credential]
    :language: python
    :dedent: 4
    :caption: Create a ClientSecretCredential.
</code></pre>
</div>


                            <div id="ClientSecretCredential.__init__" class="classattr">
                                        <input id="ClientSecretCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ClientSecretCredential</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="ClientSecretCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ClientSecretCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ClientSecretCredential.__init__-44"><a href="#ClientSecretCredential.__init__-44"><span class="linenos">44</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ClientSecretCredential.__init__-45"><a href="#ClientSecretCredential.__init__-45"><span class="linenos">45</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">client_id</span><span class="p">:</span>
</span><span id="ClientSecretCredential.__init__-46"><a href="#ClientSecretCredential.__init__-46"><span class="linenos">46</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;client_id should be the id of a Microsoft Entra application&quot;</span><span class="p">)</span>
</span><span id="ClientSecretCredential.__init__-47"><a href="#ClientSecretCredential.__init__-47"><span class="linenos">47</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">client_secret</span><span class="p">:</span>
</span><span id="ClientSecretCredential.__init__-48"><a href="#ClientSecretCredential.__init__-48"><span class="linenos">48</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;secret should be a Microsoft Entra application&#39;s client secret&quot;</span><span class="p">)</span>
</span><span id="ClientSecretCredential.__init__-49"><a href="#ClientSecretCredential.__init__-49"><span class="linenos">49</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="ClientSecretCredential.__init__-50"><a href="#ClientSecretCredential.__init__-50"><span class="linenos">50</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;tenant_id should be a Microsoft Entra tenant&#39;s id (also called its &#39;directory id&#39;)&quot;</span><span class="p">)</span>
</span><span id="ClientSecretCredential.__init__-51"><a href="#ClientSecretCredential.__init__-51"><span class="linenos">51</span></a>
</span><span id="ClientSecretCredential.__init__-52"><a href="#ClientSecretCredential.__init__-52"><span class="linenos">52</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">ClientSecretCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ClientSecretCredential.__init__-53"><a href="#ClientSecretCredential.__init__-53"><span class="linenos">53</span></a>            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_credential</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="ClientSecretCredential.__init__-54"><a href="#ClientSecretCredential.__init__-54"><span class="linenos">54</span></a>        <span class="p">)</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="CredentialUnavailableError">
                            <input id="CredentialUnavailableError-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">CredentialUnavailableError</span><wbr>(<span class="base">azure.core.exceptions.ClientAuthenticationError</span>):

                <label class="view-source-button" for="CredentialUnavailableError-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CredentialUnavailableError"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CredentialUnavailableError-11"><a href="#CredentialUnavailableError-11"><span class="linenos">11</span></a><span class="k">class</span><span class="w"> </span><span class="nc">CredentialUnavailableError</span><span class="p">(</span><span class="n">ClientAuthenticationError</span><span class="p">):</span>
</span><span id="CredentialUnavailableError-12"><a href="#CredentialUnavailableError-12"><span class="linenos">12</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The credential did not attempt to authenticate because required data or state is unavailable.&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>The credential did not attempt to authenticate because required data or state is unavailable.</p>
</div>


                </section>
                <section id="DefaultAzureCredential">
                            <input id="DefaultAzureCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DefaultAzureCredential</span><wbr>(<span class="base"><a href="#ChainedTokenCredential">azure.identity.ChainedTokenCredential</a></span>):

                <label class="view-source-button" for="DefaultAzureCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DefaultAzureCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DefaultAzureCredential-61"><a href="#DefaultAzureCredential-61"><span class="linenos"> 61</span></a><span class="k">class</span><span class="w"> </span><span class="nc">DefaultAzureCredential</span><span class="p">(</span><span class="n">ChainedTokenCredential</span><span class="p">):</span>
</span><span id="DefaultAzureCredential-62"><a href="#DefaultAzureCredential-62"><span class="linenos"> 62</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A credential capable of handling most Azure SDK authentication scenarios. For more information, See</span>
</span><span id="DefaultAzureCredential-63"><a href="#DefaultAzureCredential-63"><span class="linenos"> 63</span></a><span class="sd">    `Usage guidance for DefaultAzureCredential</span>
</span><span id="DefaultAzureCredential-64"><a href="#DefaultAzureCredential-64"><span class="linenos"> 64</span></a><span class="sd">    &lt;&quot;https://aka.ms/azsdk/python/identity/credential-chains#usage-guidance-for-defaultazurecredential&quot;&gt;`__.</span>
</span><span id="DefaultAzureCredential-65"><a href="#DefaultAzureCredential-65"><span class="linenos"> 65</span></a>
</span><span id="DefaultAzureCredential-66"><a href="#DefaultAzureCredential-66"><span class="linenos"> 66</span></a><span class="sd">    The identity it uses depends on the environment. When an access token is needed, it requests one using these</span>
</span><span id="DefaultAzureCredential-67"><a href="#DefaultAzureCredential-67"><span class="linenos"> 67</span></a><span class="sd">    identities in turn, stopping when one provides a token:</span>
</span><span id="DefaultAzureCredential-68"><a href="#DefaultAzureCredential-68"><span class="linenos"> 68</span></a>
</span><span id="DefaultAzureCredential-69"><a href="#DefaultAzureCredential-69"><span class="linenos"> 69</span></a><span class="sd">    1. A service principal configured by environment variables. See :class:`~azure.identity.EnvironmentCredential` for</span>
</span><span id="DefaultAzureCredential-70"><a href="#DefaultAzureCredential-70"><span class="linenos"> 70</span></a><span class="sd">       more details.</span>
</span><span id="DefaultAzureCredential-71"><a href="#DefaultAzureCredential-71"><span class="linenos"> 71</span></a><span class="sd">    2. WorkloadIdentityCredential if environment variable configuration is set by the Azure workload</span>
</span><span id="DefaultAzureCredential-72"><a href="#DefaultAzureCredential-72"><span class="linenos"> 72</span></a><span class="sd">       identity webhook.</span>
</span><span id="DefaultAzureCredential-73"><a href="#DefaultAzureCredential-73"><span class="linenos"> 73</span></a><span class="sd">    3. An Azure managed identity. See :class:`~azure.identity.ManagedIdentityCredential` for more details.</span>
</span><span id="DefaultAzureCredential-74"><a href="#DefaultAzureCredential-74"><span class="linenos"> 74</span></a><span class="sd">    4. On Windows only: a user who has signed in with a Microsoft application, such as Visual Studio. If multiple</span>
</span><span id="DefaultAzureCredential-75"><a href="#DefaultAzureCredential-75"><span class="linenos"> 75</span></a><span class="sd">       identities are in the cache, then the value of  the environment variable ``AZURE_USERNAME`` is used to select</span>
</span><span id="DefaultAzureCredential-76"><a href="#DefaultAzureCredential-76"><span class="linenos"> 76</span></a><span class="sd">       which identity to use. See :class:`~azure.identity.SharedTokenCacheCredential` for more details.</span>
</span><span id="DefaultAzureCredential-77"><a href="#DefaultAzureCredential-77"><span class="linenos"> 77</span></a><span class="sd">    5. The identity currently logged in to the Azure CLI.</span>
</span><span id="DefaultAzureCredential-78"><a href="#DefaultAzureCredential-78"><span class="linenos"> 78</span></a><span class="sd">    6. The identity currently logged in to Azure PowerShell.</span>
</span><span id="DefaultAzureCredential-79"><a href="#DefaultAzureCredential-79"><span class="linenos"> 79</span></a><span class="sd">    7. The identity currently logged in to the Azure Developer CLI.</span>
</span><span id="DefaultAzureCredential-80"><a href="#DefaultAzureCredential-80"><span class="linenos"> 80</span></a><span class="sd">    8. Brokered authentication. On Windows and WSL only, this uses the default account logged in via</span>
</span><span id="DefaultAzureCredential-81"><a href="#DefaultAzureCredential-81"><span class="linenos"> 81</span></a><span class="sd">       Web Account Manager (WAM) if the `azure-identity-broker` package is installed.</span>
</span><span id="DefaultAzureCredential-82"><a href="#DefaultAzureCredential-82"><span class="linenos"> 82</span></a>
</span><span id="DefaultAzureCredential-83"><a href="#DefaultAzureCredential-83"><span class="linenos"> 83</span></a><span class="sd">    This default behavior is configurable with keyword arguments.</span>
</span><span id="DefaultAzureCredential-84"><a href="#DefaultAzureCredential-84"><span class="linenos"> 84</span></a>
</span><span id="DefaultAzureCredential-85"><a href="#DefaultAzureCredential-85"><span class="linenos"> 85</span></a><span class="sd">    :keyword str authority: Authority of a Microsoft Entra endpoint, for example &#39;login.microsoftonline.com&#39;,</span>
</span><span id="DefaultAzureCredential-86"><a href="#DefaultAzureCredential-86"><span class="linenos"> 86</span></a><span class="sd">        the authority for Azure Public Cloud (which is the default). :class:`~azure.identity.AzureAuthorityHosts`</span>
</span><span id="DefaultAzureCredential-87"><a href="#DefaultAzureCredential-87"><span class="linenos"> 87</span></a><span class="sd">        defines authorities for other clouds. Managed identities ignore this because they reside in a single cloud.</span>
</span><span id="DefaultAzureCredential-88"><a href="#DefaultAzureCredential-88"><span class="linenos"> 88</span></a><span class="sd">    :keyword bool exclude_workload_identity_credential: Whether to exclude the workload identity from the credential.</span>
</span><span id="DefaultAzureCredential-89"><a href="#DefaultAzureCredential-89"><span class="linenos"> 89</span></a><span class="sd">        Defaults to **False**.</span>
</span><span id="DefaultAzureCredential-90"><a href="#DefaultAzureCredential-90"><span class="linenos"> 90</span></a><span class="sd">    :keyword bool exclude_developer_cli_credential: Whether to exclude the Azure Developer CLI</span>
</span><span id="DefaultAzureCredential-91"><a href="#DefaultAzureCredential-91"><span class="linenos"> 91</span></a><span class="sd">        from the credential. Defaults to **False**.</span>
</span><span id="DefaultAzureCredential-92"><a href="#DefaultAzureCredential-92"><span class="linenos"> 92</span></a><span class="sd">    :keyword bool exclude_cli_credential: Whether to exclude the Azure CLI from the credential. Defaults to **False**.</span>
</span><span id="DefaultAzureCredential-93"><a href="#DefaultAzureCredential-93"><span class="linenos"> 93</span></a><span class="sd">    :keyword bool exclude_environment_credential: Whether to exclude a service principal configured by environment</span>
</span><span id="DefaultAzureCredential-94"><a href="#DefaultAzureCredential-94"><span class="linenos"> 94</span></a><span class="sd">        variables from the credential. Defaults to **False**.</span>
</span><span id="DefaultAzureCredential-95"><a href="#DefaultAzureCredential-95"><span class="linenos"> 95</span></a><span class="sd">    :keyword bool exclude_managed_identity_credential: Whether to exclude managed identity from the credential.</span>
</span><span id="DefaultAzureCredential-96"><a href="#DefaultAzureCredential-96"><span class="linenos"> 96</span></a><span class="sd">        Defaults to **False**.</span>
</span><span id="DefaultAzureCredential-97"><a href="#DefaultAzureCredential-97"><span class="linenos"> 97</span></a><span class="sd">    :keyword bool exclude_powershell_credential: Whether to exclude Azure PowerShell. Defaults to **False**.</span>
</span><span id="DefaultAzureCredential-98"><a href="#DefaultAzureCredential-98"><span class="linenos"> 98</span></a><span class="sd">    :keyword bool exclude_visual_studio_code_credential: Whether to exclude stored credential from VS Code.</span>
</span><span id="DefaultAzureCredential-99"><a href="#DefaultAzureCredential-99"><span class="linenos"> 99</span></a><span class="sd">        Defaults to **True**.</span>
</span><span id="DefaultAzureCredential-100"><a href="#DefaultAzureCredential-100"><span class="linenos">100</span></a><span class="sd">    :keyword bool exclude_shared_token_cache_credential: Whether to exclude the shared token cache. Defaults to</span>
</span><span id="DefaultAzureCredential-101"><a href="#DefaultAzureCredential-101"><span class="linenos">101</span></a><span class="sd">        **False**.</span>
</span><span id="DefaultAzureCredential-102"><a href="#DefaultAzureCredential-102"><span class="linenos">102</span></a><span class="sd">    :keyword bool exclude_interactive_browser_credential: Whether to exclude interactive browser authentication (see</span>
</span><span id="DefaultAzureCredential-103"><a href="#DefaultAzureCredential-103"><span class="linenos">103</span></a><span class="sd">        :class:`~azure.identity.InteractiveBrowserCredential`). Defaults to **True**.</span>
</span><span id="DefaultAzureCredential-104"><a href="#DefaultAzureCredential-104"><span class="linenos">104</span></a><span class="sd">    :keyword bool exclude_broker_credential: Whether to exclude the broker credential from the credential chain.</span>
</span><span id="DefaultAzureCredential-105"><a href="#DefaultAzureCredential-105"><span class="linenos">105</span></a><span class="sd">        Defaults to **False**.</span>
</span><span id="DefaultAzureCredential-106"><a href="#DefaultAzureCredential-106"><span class="linenos">106</span></a><span class="sd">    :keyword str interactive_browser_tenant_id: Tenant ID to use when authenticating a user through</span>
</span><span id="DefaultAzureCredential-107"><a href="#DefaultAzureCredential-107"><span class="linenos">107</span></a><span class="sd">        :class:`~azure.identity.InteractiveBrowserCredential`. Defaults to the value of environment variable</span>
</span><span id="DefaultAzureCredential-108"><a href="#DefaultAzureCredential-108"><span class="linenos">108</span></a><span class="sd">        AZURE_TENANT_ID, if any. If unspecified, users will authenticate in their home tenants.</span>
</span><span id="DefaultAzureCredential-109"><a href="#DefaultAzureCredential-109"><span class="linenos">109</span></a><span class="sd">    :keyword str broker_tenant_id: The tenant ID to use when using brokered authentication. Defaults to the value of</span>
</span><span id="DefaultAzureCredential-110"><a href="#DefaultAzureCredential-110"><span class="linenos">110</span></a><span class="sd">        environment variable AZURE_TENANT_ID, if any. If unspecified, users will authenticate in their home tenants.</span>
</span><span id="DefaultAzureCredential-111"><a href="#DefaultAzureCredential-111"><span class="linenos">111</span></a><span class="sd">    :keyword str managed_identity_client_id: The client ID of a user-assigned managed identity. Defaults to the value</span>
</span><span id="DefaultAzureCredential-112"><a href="#DefaultAzureCredential-112"><span class="linenos">112</span></a><span class="sd">        of the environment variable AZURE_CLIENT_ID, if any. If not specified, a system-assigned identity will be used.</span>
</span><span id="DefaultAzureCredential-113"><a href="#DefaultAzureCredential-113"><span class="linenos">113</span></a><span class="sd">    :keyword str workload_identity_client_id: The client ID of an identity assigned to the pod. Defaults to the value</span>
</span><span id="DefaultAzureCredential-114"><a href="#DefaultAzureCredential-114"><span class="linenos">114</span></a><span class="sd">        of the environment variable AZURE_CLIENT_ID, if any. If not specified, the pod&#39;s default identity will be used.</span>
</span><span id="DefaultAzureCredential-115"><a href="#DefaultAzureCredential-115"><span class="linenos">115</span></a><span class="sd">    :keyword str workload_identity_tenant_id: Preferred tenant for :class:`~azure.identity.WorkloadIdentityCredential`.</span>
</span><span id="DefaultAzureCredential-116"><a href="#DefaultAzureCredential-116"><span class="linenos">116</span></a><span class="sd">        Defaults to the value of environment variable AZURE_TENANT_ID, if any.</span>
</span><span id="DefaultAzureCredential-117"><a href="#DefaultAzureCredential-117"><span class="linenos">117</span></a><span class="sd">    :keyword str interactive_browser_client_id: The client ID to be used in interactive browser credential. If not</span>
</span><span id="DefaultAzureCredential-118"><a href="#DefaultAzureCredential-118"><span class="linenos">118</span></a><span class="sd">        specified, users will authenticate to an Azure development application.</span>
</span><span id="DefaultAzureCredential-119"><a href="#DefaultAzureCredential-119"><span class="linenos">119</span></a><span class="sd">    :keyword str broker_client_id: The client ID to be used in brokered authentication. If not specified, users will</span>
</span><span id="DefaultAzureCredential-120"><a href="#DefaultAzureCredential-120"><span class="linenos">120</span></a><span class="sd">        authenticate to an Azure development application.</span>
</span><span id="DefaultAzureCredential-121"><a href="#DefaultAzureCredential-121"><span class="linenos">121</span></a><span class="sd">    :keyword str shared_cache_username: Preferred username for :class:`~azure.identity.SharedTokenCacheCredential`.</span>
</span><span id="DefaultAzureCredential-122"><a href="#DefaultAzureCredential-122"><span class="linenos">122</span></a><span class="sd">        Defaults to the value of environment variable AZURE_USERNAME, if any.</span>
</span><span id="DefaultAzureCredential-123"><a href="#DefaultAzureCredential-123"><span class="linenos">123</span></a><span class="sd">    :keyword str shared_cache_tenant_id: Preferred tenant for :class:`~azure.identity.SharedTokenCacheCredential`.</span>
</span><span id="DefaultAzureCredential-124"><a href="#DefaultAzureCredential-124"><span class="linenos">124</span></a><span class="sd">        Defaults to the value of environment variable AZURE_TENANT_ID, if any.</span>
</span><span id="DefaultAzureCredential-125"><a href="#DefaultAzureCredential-125"><span class="linenos">125</span></a><span class="sd">    :keyword str visual_studio_code_tenant_id: Tenant ID to use when authenticating with</span>
</span><span id="DefaultAzureCredential-126"><a href="#DefaultAzureCredential-126"><span class="linenos">126</span></a><span class="sd">        :class:`~azure.identity.VisualStudioCodeCredential`. Defaults to the tenant specified in the authentication</span>
</span><span id="DefaultAzureCredential-127"><a href="#DefaultAzureCredential-127"><span class="linenos">127</span></a><span class="sd">        record file used by the Azure Resources extension.</span>
</span><span id="DefaultAzureCredential-128"><a href="#DefaultAzureCredential-128"><span class="linenos">128</span></a><span class="sd">    :keyword int process_timeout: The timeout in seconds to use for developer credentials that run</span>
</span><span id="DefaultAzureCredential-129"><a href="#DefaultAzureCredential-129"><span class="linenos">129</span></a><span class="sd">        subprocesses (e.g. AzureCliCredential, AzurePowerShellCredential). Defaults to **10** seconds.</span>
</span><span id="DefaultAzureCredential-130"><a href="#DefaultAzureCredential-130"><span class="linenos">130</span></a>
</span><span id="DefaultAzureCredential-131"><a href="#DefaultAzureCredential-131"><span class="linenos">131</span></a><span class="sd">    .. admonition:: Example:</span>
</span><span id="DefaultAzureCredential-132"><a href="#DefaultAzureCredential-132"><span class="linenos">132</span></a>
</span><span id="DefaultAzureCredential-133"><a href="#DefaultAzureCredential-133"><span class="linenos">133</span></a><span class="sd">        .. literalinclude:: ../samples/credential_creation_code_snippets.py</span>
</span><span id="DefaultAzureCredential-134"><a href="#DefaultAzureCredential-134"><span class="linenos">134</span></a><span class="sd">            :start-after: [START create_default_credential]</span>
</span><span id="DefaultAzureCredential-135"><a href="#DefaultAzureCredential-135"><span class="linenos">135</span></a><span class="sd">            :end-before: [END create_default_credential]</span>
</span><span id="DefaultAzureCredential-136"><a href="#DefaultAzureCredential-136"><span class="linenos">136</span></a><span class="sd">            :language: python</span>
</span><span id="DefaultAzureCredential-137"><a href="#DefaultAzureCredential-137"><span class="linenos">137</span></a><span class="sd">            :dedent: 4</span>
</span><span id="DefaultAzureCredential-138"><a href="#DefaultAzureCredential-138"><span class="linenos">138</span></a><span class="sd">            :caption: Create a DefaultAzureCredential.</span>
</span><span id="DefaultAzureCredential-139"><a href="#DefaultAzureCredential-139"><span class="linenos">139</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="DefaultAzureCredential-140"><a href="#DefaultAzureCredential-140"><span class="linenos">140</span></a>
</span><span id="DefaultAzureCredential-141"><a href="#DefaultAzureCredential-141"><span class="linenos">141</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># pylint: disable=too-many-statements, too-many-locals</span>
</span><span id="DefaultAzureCredential-142"><a href="#DefaultAzureCredential-142"><span class="linenos">142</span></a>        <span class="k">if</span> <span class="s2">&quot;tenant_id&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-143"><a href="#DefaultAzureCredential-143"><span class="linenos">143</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;tenant_id&#39; is not supported in DefaultAzureCredential.&quot;</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-144"><a href="#DefaultAzureCredential-144"><span class="linenos">144</span></a>
</span><span id="DefaultAzureCredential-145"><a href="#DefaultAzureCredential-145"><span class="linenos">145</span></a>        <span class="n">authority</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;authority&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-146"><a href="#DefaultAzureCredential-146"><span class="linenos">146</span></a>        <span class="n">authority</span> <span class="o">=</span> <span class="n">normalize_authority</span><span class="p">(</span><span class="n">authority</span><span class="p">)</span> <span class="k">if</span> <span class="n">authority</span> <span class="k">else</span> <span class="n">get_default_authority</span><span class="p">()</span>
</span><span id="DefaultAzureCredential-147"><a href="#DefaultAzureCredential-147"><span class="linenos">147</span></a>
</span><span id="DefaultAzureCredential-148"><a href="#DefaultAzureCredential-148"><span class="linenos">148</span></a>        <span class="n">vscode_tenant_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;visual_studio_code_tenant_id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-149"><a href="#DefaultAzureCredential-149"><span class="linenos">149</span></a>
</span><span id="DefaultAzureCredential-150"><a href="#DefaultAzureCredential-150"><span class="linenos">150</span></a>        <span class="n">interactive_browser_tenant_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
</span><span id="DefaultAzureCredential-151"><a href="#DefaultAzureCredential-151"><span class="linenos">151</span></a>            <span class="s2">&quot;interactive_browser_tenant_id&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_TENANT_ID</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-152"><a href="#DefaultAzureCredential-152"><span class="linenos">152</span></a>        <span class="p">)</span>
</span><span id="DefaultAzureCredential-153"><a href="#DefaultAzureCredential-153"><span class="linenos">153</span></a>
</span><span id="DefaultAzureCredential-154"><a href="#DefaultAzureCredential-154"><span class="linenos">154</span></a>        <span class="n">managed_identity_client_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
</span><span id="DefaultAzureCredential-155"><a href="#DefaultAzureCredential-155"><span class="linenos">155</span></a>            <span class="s2">&quot;managed_identity_client_id&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_ID</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-156"><a href="#DefaultAzureCredential-156"><span class="linenos">156</span></a>        <span class="p">)</span>
</span><span id="DefaultAzureCredential-157"><a href="#DefaultAzureCredential-157"><span class="linenos">157</span></a>        <span class="n">workload_identity_client_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;workload_identity_client_id&quot;</span><span class="p">,</span> <span class="n">managed_identity_client_id</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-158"><a href="#DefaultAzureCredential-158"><span class="linenos">158</span></a>        <span class="n">workload_identity_tenant_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
</span><span id="DefaultAzureCredential-159"><a href="#DefaultAzureCredential-159"><span class="linenos">159</span></a>            <span class="s2">&quot;workload_identity_tenant_id&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_TENANT_ID</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-160"><a href="#DefaultAzureCredential-160"><span class="linenos">160</span></a>        <span class="p">)</span>
</span><span id="DefaultAzureCredential-161"><a href="#DefaultAzureCredential-161"><span class="linenos">161</span></a>        <span class="n">interactive_browser_client_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;interactive_browser_client_id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-162"><a href="#DefaultAzureCredential-162"><span class="linenos">162</span></a>
</span><span id="DefaultAzureCredential-163"><a href="#DefaultAzureCredential-163"><span class="linenos">163</span></a>        <span class="n">broker_tenant_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;broker_tenant_id&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_TENANT_ID</span><span class="p">))</span>
</span><span id="DefaultAzureCredential-164"><a href="#DefaultAzureCredential-164"><span class="linenos">164</span></a>        <span class="n">broker_client_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;broker_client_id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-165"><a href="#DefaultAzureCredential-165"><span class="linenos">165</span></a>
</span><span id="DefaultAzureCredential-166"><a href="#DefaultAzureCredential-166"><span class="linenos">166</span></a>        <span class="n">shared_cache_username</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;shared_cache_username&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_USERNAME</span><span class="p">))</span>
</span><span id="DefaultAzureCredential-167"><a href="#DefaultAzureCredential-167"><span class="linenos">167</span></a>        <span class="n">shared_cache_tenant_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
</span><span id="DefaultAzureCredential-168"><a href="#DefaultAzureCredential-168"><span class="linenos">168</span></a>            <span class="s2">&quot;shared_cache_tenant_id&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_TENANT_ID</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-169"><a href="#DefaultAzureCredential-169"><span class="linenos">169</span></a>        <span class="p">)</span>
</span><span id="DefaultAzureCredential-170"><a href="#DefaultAzureCredential-170"><span class="linenos">170</span></a>
</span><span id="DefaultAzureCredential-171"><a href="#DefaultAzureCredential-171"><span class="linenos">171</span></a>        <span class="n">process_timeout</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;process_timeout&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-172"><a href="#DefaultAzureCredential-172"><span class="linenos">172</span></a>
</span><span id="DefaultAzureCredential-173"><a href="#DefaultAzureCredential-173"><span class="linenos">173</span></a>        <span class="c1"># Define credential configuration mapping</span>
</span><span id="DefaultAzureCredential-174"><a href="#DefaultAzureCredential-174"><span class="linenos">174</span></a>        <span class="n">credential_config</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential-175"><a href="#DefaultAzureCredential-175"><span class="linenos">175</span></a>            <span class="s2">&quot;environment&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential-176"><a href="#DefaultAzureCredential-176"><span class="linenos">176</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_environment_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-177"><a href="#DefaultAzureCredential-177"><span class="linenos">177</span></a>                <span class="s2">&quot;env_name&quot;</span><span class="p">:</span> <span class="s2">&quot;environmentcredential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-178"><a href="#DefaultAzureCredential-178"><span class="linenos">178</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-179"><a href="#DefaultAzureCredential-179"><span class="linenos">179</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential-180"><a href="#DefaultAzureCredential-180"><span class="linenos">180</span></a>            <span class="s2">&quot;workload_identity&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential-181"><a href="#DefaultAzureCredential-181"><span class="linenos">181</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_workload_identity_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-182"><a href="#DefaultAzureCredential-182"><span class="linenos">182</span></a>                <span class="s2">&quot;env_name&quot;</span><span class="p">:</span> <span class="s2">&quot;workloadidentitycredential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-183"><a href="#DefaultAzureCredential-183"><span class="linenos">183</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-184"><a href="#DefaultAzureCredential-184"><span class="linenos">184</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential-185"><a href="#DefaultAzureCredential-185"><span class="linenos">185</span></a>            <span class="s2">&quot;managed_identity&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential-186"><a href="#DefaultAzureCredential-186"><span class="linenos">186</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_managed_identity_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-187"><a href="#DefaultAzureCredential-187"><span class="linenos">187</span></a>                <span class="s2">&quot;env_name&quot;</span><span class="p">:</span> <span class="s2">&quot;managedidentitycredential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-188"><a href="#DefaultAzureCredential-188"><span class="linenos">188</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-189"><a href="#DefaultAzureCredential-189"><span class="linenos">189</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential-190"><a href="#DefaultAzureCredential-190"><span class="linenos">190</span></a>            <span class="s2">&quot;shared_token_cache&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential-191"><a href="#DefaultAzureCredential-191"><span class="linenos">191</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_shared_token_cache_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-192"><a href="#DefaultAzureCredential-192"><span class="linenos">192</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-193"><a href="#DefaultAzureCredential-193"><span class="linenos">193</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential-194"><a href="#DefaultAzureCredential-194"><span class="linenos">194</span></a>            <span class="s2">&quot;visual_studio_code&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential-195"><a href="#DefaultAzureCredential-195"><span class="linenos">195</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_visual_studio_code_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-196"><a href="#DefaultAzureCredential-196"><span class="linenos">196</span></a>                <span class="s2">&quot;env_name&quot;</span><span class="p">:</span> <span class="s2">&quot;visualstudiocodecredential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-197"><a href="#DefaultAzureCredential-197"><span class="linenos">197</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-198"><a href="#DefaultAzureCredential-198"><span class="linenos">198</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential-199"><a href="#DefaultAzureCredential-199"><span class="linenos">199</span></a>            <span class="s2">&quot;cli&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential-200"><a href="#DefaultAzureCredential-200"><span class="linenos">200</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_cli_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-201"><a href="#DefaultAzureCredential-201"><span class="linenos">201</span></a>                <span class="s2">&quot;env_name&quot;</span><span class="p">:</span> <span class="s2">&quot;azureclicredential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-202"><a href="#DefaultAzureCredential-202"><span class="linenos">202</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-203"><a href="#DefaultAzureCredential-203"><span class="linenos">203</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential-204"><a href="#DefaultAzureCredential-204"><span class="linenos">204</span></a>            <span class="s2">&quot;developer_cli&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential-205"><a href="#DefaultAzureCredential-205"><span class="linenos">205</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_developer_cli_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-206"><a href="#DefaultAzureCredential-206"><span class="linenos">206</span></a>                <span class="s2">&quot;env_name&quot;</span><span class="p">:</span> <span class="s2">&quot;azuredeveloperclicredential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-207"><a href="#DefaultAzureCredential-207"><span class="linenos">207</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-208"><a href="#DefaultAzureCredential-208"><span class="linenos">208</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential-209"><a href="#DefaultAzureCredential-209"><span class="linenos">209</span></a>            <span class="s2">&quot;powershell&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential-210"><a href="#DefaultAzureCredential-210"><span class="linenos">210</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_powershell_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-211"><a href="#DefaultAzureCredential-211"><span class="linenos">211</span></a>                <span class="s2">&quot;env_name&quot;</span><span class="p">:</span> <span class="s2">&quot;azurepowershellcredential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-212"><a href="#DefaultAzureCredential-212"><span class="linenos">212</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-213"><a href="#DefaultAzureCredential-213"><span class="linenos">213</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential-214"><a href="#DefaultAzureCredential-214"><span class="linenos">214</span></a>            <span class="s2">&quot;interactive_browser&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential-215"><a href="#DefaultAzureCredential-215"><span class="linenos">215</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_interactive_browser_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-216"><a href="#DefaultAzureCredential-216"><span class="linenos">216</span></a>                <span class="s2">&quot;env_name&quot;</span><span class="p">:</span> <span class="s2">&quot;interactivebrowsercredential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-217"><a href="#DefaultAzureCredential-217"><span class="linenos">217</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-218"><a href="#DefaultAzureCredential-218"><span class="linenos">218</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential-219"><a href="#DefaultAzureCredential-219"><span class="linenos">219</span></a>            <span class="s2">&quot;broker&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential-220"><a href="#DefaultAzureCredential-220"><span class="linenos">220</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_broker_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-221"><a href="#DefaultAzureCredential-221"><span class="linenos">221</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-222"><a href="#DefaultAzureCredential-222"><span class="linenos">222</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential-223"><a href="#DefaultAzureCredential-223"><span class="linenos">223</span></a>        <span class="p">}</span>
</span><span id="DefaultAzureCredential-224"><a href="#DefaultAzureCredential-224"><span class="linenos">224</span></a>
</span><span id="DefaultAzureCredential-225"><a href="#DefaultAzureCredential-225"><span class="linenos">225</span></a>        <span class="c1"># Extract user-provided exclude flags and set defaults</span>
</span><span id="DefaultAzureCredential-226"><a href="#DefaultAzureCredential-226"><span class="linenos">226</span></a>        <span class="n">exclude_flags</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DefaultAzureCredential-227"><a href="#DefaultAzureCredential-227"><span class="linenos">227</span></a>        <span class="n">user_excludes</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DefaultAzureCredential-228"><a href="#DefaultAzureCredential-228"><span class="linenos">228</span></a>        <span class="k">for</span> <span class="n">cred_key</span><span class="p">,</span> <span class="n">config</span> <span class="ow">in</span> <span class="n">credential_config</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="DefaultAzureCredential-229"><a href="#DefaultAzureCredential-229"><span class="linenos">229</span></a>            <span class="n">param_name</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;exclude_param&quot;</span><span class="p">])</span>
</span><span id="DefaultAzureCredential-230"><a href="#DefaultAzureCredential-230"><span class="linenos">230</span></a>            <span class="n">user_excludes</span><span class="p">[</span><span class="n">cred_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">param_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-231"><a href="#DefaultAzureCredential-231"><span class="linenos">231</span></a>            <span class="n">exclude_flags</span><span class="p">[</span><span class="n">cred_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;default_exclude&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential-232"><a href="#DefaultAzureCredential-232"><span class="linenos">232</span></a>
</span><span id="DefaultAzureCredential-233"><a href="#DefaultAzureCredential-233"><span class="linenos">233</span></a>        <span class="c1"># Process AZURE_TOKEN_CREDENTIALS environment variable and apply user overrides</span>
</span><span id="DefaultAzureCredential-234"><a href="#DefaultAzureCredential-234"><span class="linenos">234</span></a>        <span class="n">exclude_flags</span> <span class="o">=</span> <span class="n">process_credential_exclusions</span><span class="p">(</span><span class="n">credential_config</span><span class="p">,</span> <span class="n">exclude_flags</span><span class="p">,</span> <span class="n">user_excludes</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-235"><a href="#DefaultAzureCredential-235"><span class="linenos">235</span></a>
</span><span id="DefaultAzureCredential-236"><a href="#DefaultAzureCredential-236"><span class="linenos">236</span></a>        <span class="c1"># Extract individual exclude flags for backward compatibility</span>
</span><span id="DefaultAzureCredential-237"><a href="#DefaultAzureCredential-237"><span class="linenos">237</span></a>        <span class="n">exclude_environment_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;environment&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential-238"><a href="#DefaultAzureCredential-238"><span class="linenos">238</span></a>        <span class="n">exclude_workload_identity_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;workload_identity&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential-239"><a href="#DefaultAzureCredential-239"><span class="linenos">239</span></a>        <span class="n">exclude_managed_identity_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;managed_identity&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential-240"><a href="#DefaultAzureCredential-240"><span class="linenos">240</span></a>        <span class="n">exclude_shared_token_cache_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;shared_token_cache&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential-241"><a href="#DefaultAzureCredential-241"><span class="linenos">241</span></a>        <span class="n">exclude_visual_studio_code_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;visual_studio_code&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential-242"><a href="#DefaultAzureCredential-242"><span class="linenos">242</span></a>        <span class="n">exclude_cli_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;cli&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential-243"><a href="#DefaultAzureCredential-243"><span class="linenos">243</span></a>        <span class="n">exclude_developer_cli_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;developer_cli&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential-244"><a href="#DefaultAzureCredential-244"><span class="linenos">244</span></a>        <span class="n">exclude_powershell_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;powershell&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential-245"><a href="#DefaultAzureCredential-245"><span class="linenos">245</span></a>        <span class="n">exclude_interactive_browser_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;interactive_browser&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential-246"><a href="#DefaultAzureCredential-246"><span class="linenos">246</span></a>        <span class="n">exclude_broker_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;broker&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential-247"><a href="#DefaultAzureCredential-247"><span class="linenos">247</span></a>
</span><span id="DefaultAzureCredential-248"><a href="#DefaultAzureCredential-248"><span class="linenos">248</span></a>        <span class="n">credentials</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SupportsTokenInfo</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DefaultAzureCredential-249"><a href="#DefaultAzureCredential-249"><span class="linenos">249</span></a>        <span class="n">within_dac</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-250"><a href="#DefaultAzureCredential-250"><span class="linenos">250</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_environment_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-251"><a href="#DefaultAzureCredential-251"><span class="linenos">251</span></a>            <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">EnvironmentCredential</span><span class="p">(</span><span class="n">authority</span><span class="o">=</span><span class="n">authority</span><span class="p">,</span> <span class="n">_within_dac</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
</span><span id="DefaultAzureCredential-252"><a href="#DefaultAzureCredential-252"><span class="linenos">252</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_workload_identity_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-253"><a href="#DefaultAzureCredential-253"><span class="linenos">253</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-254"><a href="#DefaultAzureCredential-254"><span class="linenos">254</span></a>                <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="DefaultAzureCredential-255"><a href="#DefaultAzureCredential-255"><span class="linenos">255</span></a>                    <span class="n">WorkloadIdentityCredential</span><span class="p">(</span>
</span><span id="DefaultAzureCredential-256"><a href="#DefaultAzureCredential-256"><span class="linenos">256</span></a>                        <span class="n">client_id</span><span class="o">=</span><span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">workload_identity_client_id</span><span class="p">),</span>
</span><span id="DefaultAzureCredential-257"><a href="#DefaultAzureCredential-257"><span class="linenos">257</span></a>                        <span class="n">tenant_id</span><span class="o">=</span><span class="n">workload_identity_tenant_id</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-258"><a href="#DefaultAzureCredential-258"><span class="linenos">258</span></a>                        <span class="n">token_file_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_FEDERATED_TOKEN_FILE</span><span class="p">),</span>
</span><span id="DefaultAzureCredential-259"><a href="#DefaultAzureCredential-259"><span class="linenos">259</span></a>                        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-260"><a href="#DefaultAzureCredential-260"><span class="linenos">260</span></a>                    <span class="p">)</span>
</span><span id="DefaultAzureCredential-261"><a href="#DefaultAzureCredential-261"><span class="linenos">261</span></a>                <span class="p">)</span>
</span><span id="DefaultAzureCredential-262"><a href="#DefaultAzureCredential-262"><span class="linenos">262</span></a>            <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-263"><a href="#DefaultAzureCredential-263"><span class="linenos">263</span></a>                <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">FailedDACCredential</span><span class="p">(</span><span class="s2">&quot;WorkloadIdentityCredential&quot;</span><span class="p">,</span> <span class="n">error</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">)))</span>
</span><span id="DefaultAzureCredential-264"><a href="#DefaultAzureCredential-264"><span class="linenos">264</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_managed_identity_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-265"><a href="#DefaultAzureCredential-265"><span class="linenos">265</span></a>            <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="DefaultAzureCredential-266"><a href="#DefaultAzureCredential-266"><span class="linenos">266</span></a>                <span class="n">ManagedIdentityCredential</span><span class="p">(</span>
</span><span id="DefaultAzureCredential-267"><a href="#DefaultAzureCredential-267"><span class="linenos">267</span></a>                    <span class="n">client_id</span><span class="o">=</span><span class="n">managed_identity_client_id</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-268"><a href="#DefaultAzureCredential-268"><span class="linenos">268</span></a>                    <span class="n">_exclude_workload_identity_credential</span><span class="o">=</span><span class="n">exclude_workload_identity_credential</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-269"><a href="#DefaultAzureCredential-269"><span class="linenos">269</span></a>                    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="DefaultAzureCredential-270"><a href="#DefaultAzureCredential-270"><span class="linenos">270</span></a>                <span class="p">)</span>
</span><span id="DefaultAzureCredential-271"><a href="#DefaultAzureCredential-271"><span class="linenos">271</span></a>            <span class="p">)</span>
</span><span id="DefaultAzureCredential-272"><a href="#DefaultAzureCredential-272"><span class="linenos">272</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_shared_token_cache_credential</span> <span class="ow">and</span> <span class="n">SharedTokenCacheCredential</span><span class="o">.</span><span class="n">supported</span><span class="p">():</span>
</span><span id="DefaultAzureCredential-273"><a href="#DefaultAzureCredential-273"><span class="linenos">273</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-274"><a href="#DefaultAzureCredential-274"><span class="linenos">274</span></a>                <span class="c1"># username and/or tenant_id are only required when the cache contains tokens for multiple identities</span>
</span><span id="DefaultAzureCredential-275"><a href="#DefaultAzureCredential-275"><span class="linenos">275</span></a>                <span class="n">shared_cache</span> <span class="o">=</span> <span class="n">SharedTokenCacheCredential</span><span class="p">(</span>
</span><span id="DefaultAzureCredential-276"><a href="#DefaultAzureCredential-276"><span class="linenos">276</span></a>                    <span class="n">username</span><span class="o">=</span><span class="n">shared_cache_username</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">shared_cache_tenant_id</span><span class="p">,</span> <span class="n">authority</span><span class="o">=</span><span class="n">authority</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="DefaultAzureCredential-277"><a href="#DefaultAzureCredential-277"><span class="linenos">277</span></a>                <span class="p">)</span>
</span><span id="DefaultAzureCredential-278"><a href="#DefaultAzureCredential-278"><span class="linenos">278</span></a>                <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">shared_cache</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-279"><a href="#DefaultAzureCredential-279"><span class="linenos">279</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>  <span class="c1"># pylint:disable=broad-except</span>
</span><span id="DefaultAzureCredential-280"><a href="#DefaultAzureCredential-280"><span class="linenos">280</span></a>                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Shared token cache is unavailable: &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-281"><a href="#DefaultAzureCredential-281"><span class="linenos">281</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_visual_studio_code_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-282"><a href="#DefaultAzureCredential-282"><span class="linenos">282</span></a>            <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">VisualStudioCodeCredential</span><span class="p">(</span><span class="n">tenant_id</span><span class="o">=</span><span class="n">vscode_tenant_id</span><span class="p">))</span>
</span><span id="DefaultAzureCredential-283"><a href="#DefaultAzureCredential-283"><span class="linenos">283</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_cli_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-284"><a href="#DefaultAzureCredential-284"><span class="linenos">284</span></a>            <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AzureCliCredential</span><span class="p">(</span><span class="n">process_timeout</span><span class="o">=</span><span class="n">process_timeout</span><span class="p">))</span>
</span><span id="DefaultAzureCredential-285"><a href="#DefaultAzureCredential-285"><span class="linenos">285</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_powershell_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-286"><a href="#DefaultAzureCredential-286"><span class="linenos">286</span></a>            <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AzurePowerShellCredential</span><span class="p">(</span><span class="n">process_timeout</span><span class="o">=</span><span class="n">process_timeout</span><span class="p">))</span>
</span><span id="DefaultAzureCredential-287"><a href="#DefaultAzureCredential-287"><span class="linenos">287</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_developer_cli_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-288"><a href="#DefaultAzureCredential-288"><span class="linenos">288</span></a>            <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AzureDeveloperCliCredential</span><span class="p">(</span><span class="n">process_timeout</span><span class="o">=</span><span class="n">process_timeout</span><span class="p">))</span>
</span><span id="DefaultAzureCredential-289"><a href="#DefaultAzureCredential-289"><span class="linenos">289</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_interactive_browser_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-290"><a href="#DefaultAzureCredential-290"><span class="linenos">290</span></a>            <span class="k">if</span> <span class="n">interactive_browser_client_id</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-291"><a href="#DefaultAzureCredential-291"><span class="linenos">291</span></a>                <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="DefaultAzureCredential-292"><a href="#DefaultAzureCredential-292"><span class="linenos">292</span></a>                    <span class="n">InteractiveBrowserCredential</span><span class="p">(</span>
</span><span id="DefaultAzureCredential-293"><a href="#DefaultAzureCredential-293"><span class="linenos">293</span></a>                        <span class="n">tenant_id</span><span class="o">=</span><span class="n">interactive_browser_tenant_id</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="n">interactive_browser_client_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="DefaultAzureCredential-294"><a href="#DefaultAzureCredential-294"><span class="linenos">294</span></a>                    <span class="p">)</span>
</span><span id="DefaultAzureCredential-295"><a href="#DefaultAzureCredential-295"><span class="linenos">295</span></a>                <span class="p">)</span>
</span><span id="DefaultAzureCredential-296"><a href="#DefaultAzureCredential-296"><span class="linenos">296</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-297"><a href="#DefaultAzureCredential-297"><span class="linenos">297</span></a>                <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">InteractiveBrowserCredential</span><span class="p">(</span><span class="n">tenant_id</span><span class="o">=</span><span class="n">interactive_browser_tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
</span><span id="DefaultAzureCredential-298"><a href="#DefaultAzureCredential-298"><span class="linenos">298</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_broker_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-299"><a href="#DefaultAzureCredential-299"><span class="linenos">299</span></a>            <span class="n">broker_credential_args</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;tenant_id&quot;</span><span class="p">:</span> <span class="n">broker_tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">}</span>
</span><span id="DefaultAzureCredential-300"><a href="#DefaultAzureCredential-300"><span class="linenos">300</span></a>            <span class="k">if</span> <span class="n">broker_client_id</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-301"><a href="#DefaultAzureCredential-301"><span class="linenos">301</span></a>                <span class="n">broker_credential_args</span><span class="p">[</span><span class="s2">&quot;client_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">broker_client_id</span>
</span><span id="DefaultAzureCredential-302"><a href="#DefaultAzureCredential-302"><span class="linenos">302</span></a>            <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">BrokerCredential</span><span class="p">(</span><span class="o">**</span><span class="n">broker_credential_args</span><span class="p">))</span>
</span><span id="DefaultAzureCredential-303"><a href="#DefaultAzureCredential-303"><span class="linenos">303</span></a>
</span><span id="DefaultAzureCredential-304"><a href="#DefaultAzureCredential-304"><span class="linenos">304</span></a>        <span class="n">within_dac</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-305"><a href="#DefaultAzureCredential-305"><span class="linenos">305</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">DefaultAzureCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">credentials</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-306"><a href="#DefaultAzureCredential-306"><span class="linenos">306</span></a>
</span><span id="DefaultAzureCredential-307"><a href="#DefaultAzureCredential-307"><span class="linenos">307</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="DefaultAzureCredential-308"><a href="#DefaultAzureCredential-308"><span class="linenos">308</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="DefaultAzureCredential-309"><a href="#DefaultAzureCredential-309"><span class="linenos">309</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-310"><a href="#DefaultAzureCredential-310"><span class="linenos">310</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="DefaultAzureCredential-311"><a href="#DefaultAzureCredential-311"><span class="linenos">311</span></a>
</span><span id="DefaultAzureCredential-312"><a href="#DefaultAzureCredential-312"><span class="linenos">312</span></a><span class="sd">        This method is called automatically by Azure SDK clients.</span>
</span><span id="DefaultAzureCredential-313"><a href="#DefaultAzureCredential-313"><span class="linenos">313</span></a>
</span><span id="DefaultAzureCredential-314"><a href="#DefaultAzureCredential-314"><span class="linenos">314</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="DefaultAzureCredential-315"><a href="#DefaultAzureCredential-315"><span class="linenos">315</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="DefaultAzureCredential-316"><a href="#DefaultAzureCredential-316"><span class="linenos">316</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="DefaultAzureCredential-317"><a href="#DefaultAzureCredential-317"><span class="linenos">317</span></a><span class="sd">        :keyword str claims: additional claims required in the token, such as those returned in a resource provider&#39;s</span>
</span><span id="DefaultAzureCredential-318"><a href="#DefaultAzureCredential-318"><span class="linenos">318</span></a><span class="sd">            claims challenge following an authorization failure.</span>
</span><span id="DefaultAzureCredential-319"><a href="#DefaultAzureCredential-319"><span class="linenos">319</span></a><span class="sd">        :keyword str tenant_id: optional tenant to include in the token request.</span>
</span><span id="DefaultAzureCredential-320"><a href="#DefaultAzureCredential-320"><span class="linenos">320</span></a>
</span><span id="DefaultAzureCredential-321"><a href="#DefaultAzureCredential-321"><span class="linenos">321</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="DefaultAzureCredential-322"><a href="#DefaultAzureCredential-322"><span class="linenos">322</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="DefaultAzureCredential-323"><a href="#DefaultAzureCredential-323"><span class="linenos">323</span></a>
</span><span id="DefaultAzureCredential-324"><a href="#DefaultAzureCredential-324"><span class="linenos">324</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: authentication failed. The exception has a</span>
</span><span id="DefaultAzureCredential-325"><a href="#DefaultAzureCredential-325"><span class="linenos">325</span></a><span class="sd">            `message` attribute listing each authentication attempt and its error message.</span>
</span><span id="DefaultAzureCredential-326"><a href="#DefaultAzureCredential-326"><span class="linenos">326</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DefaultAzureCredential-327"><a href="#DefaultAzureCredential-327"><span class="linenos">327</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_successful_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-328"><a href="#DefaultAzureCredential-328"><span class="linenos">328</span></a>            <span class="n">token</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">TokenCredential</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_successful_credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
</span><span id="DefaultAzureCredential-329"><a href="#DefaultAzureCredential-329"><span class="linenos">329</span></a>                <span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="DefaultAzureCredential-330"><a href="#DefaultAzureCredential-330"><span class="linenos">330</span></a>            <span class="p">)</span>
</span><span id="DefaultAzureCredential-331"><a href="#DefaultAzureCredential-331"><span class="linenos">331</span></a>            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
</span><span id="DefaultAzureCredential-332"><a href="#DefaultAzureCredential-332"><span class="linenos">332</span></a>                <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> acquired a token from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_successful_credential</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="DefaultAzureCredential-333"><a href="#DefaultAzureCredential-333"><span class="linenos">333</span></a>            <span class="p">)</span>
</span><span id="DefaultAzureCredential-334"><a href="#DefaultAzureCredential-334"><span class="linenos">334</span></a>            <span class="k">return</span> <span class="n">token</span>
</span><span id="DefaultAzureCredential-335"><a href="#DefaultAzureCredential-335"><span class="linenos">335</span></a>        <span class="n">within_dac</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-336"><a href="#DefaultAzureCredential-336"><span class="linenos">336</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-337"><a href="#DefaultAzureCredential-337"><span class="linenos">337</span></a>            <span class="n">token</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-338"><a href="#DefaultAzureCredential-338"><span class="linenos">338</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-339"><a href="#DefaultAzureCredential-339"><span class="linenos">339</span></a>            <span class="n">within_dac</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-340"><a href="#DefaultAzureCredential-340"><span class="linenos">340</span></a>        <span class="k">return</span> <span class="n">token</span>
</span><span id="DefaultAzureCredential-341"><a href="#DefaultAzureCredential-341"><span class="linenos">341</span></a>
</span><span id="DefaultAzureCredential-342"><a href="#DefaultAzureCredential-342"><span class="linenos">342</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-343"><a href="#DefaultAzureCredential-343"><span class="linenos">343</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="DefaultAzureCredential-344"><a href="#DefaultAzureCredential-344"><span class="linenos">344</span></a>
</span><span id="DefaultAzureCredential-345"><a href="#DefaultAzureCredential-345"><span class="linenos">345</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="DefaultAzureCredential-346"><a href="#DefaultAzureCredential-346"><span class="linenos">346</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients.</span>
</span><span id="DefaultAzureCredential-347"><a href="#DefaultAzureCredential-347"><span class="linenos">347</span></a>
</span><span id="DefaultAzureCredential-348"><a href="#DefaultAzureCredential-348"><span class="linenos">348</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="DefaultAzureCredential-349"><a href="#DefaultAzureCredential-349"><span class="linenos">349</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="DefaultAzureCredential-350"><a href="#DefaultAzureCredential-350"><span class="linenos">350</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="DefaultAzureCredential-351"><a href="#DefaultAzureCredential-351"><span class="linenos">351</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="DefaultAzureCredential-352"><a href="#DefaultAzureCredential-352"><span class="linenos">352</span></a>
</span><span id="DefaultAzureCredential-353"><a href="#DefaultAzureCredential-353"><span class="linenos">353</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="DefaultAzureCredential-354"><a href="#DefaultAzureCredential-354"><span class="linenos">354</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="DefaultAzureCredential-355"><a href="#DefaultAzureCredential-355"><span class="linenos">355</span></a>
</span><span id="DefaultAzureCredential-356"><a href="#DefaultAzureCredential-356"><span class="linenos">356</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: authentication failed. The exception has a</span>
</span><span id="DefaultAzureCredential-357"><a href="#DefaultAzureCredential-357"><span class="linenos">357</span></a><span class="sd">           `message` attribute listing each authentication attempt and its error message.</span>
</span><span id="DefaultAzureCredential-358"><a href="#DefaultAzureCredential-358"><span class="linenos">358</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DefaultAzureCredential-359"><a href="#DefaultAzureCredential-359"><span class="linenos">359</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_successful_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-360"><a href="#DefaultAzureCredential-360"><span class="linenos">360</span></a>            <span class="n">token_info</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">SupportsTokenInfo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_successful_credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-361"><a href="#DefaultAzureCredential-361"><span class="linenos">361</span></a>            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
</span><span id="DefaultAzureCredential-362"><a href="#DefaultAzureCredential-362"><span class="linenos">362</span></a>                <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> acquired a token from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_successful_credential</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="DefaultAzureCredential-363"><a href="#DefaultAzureCredential-363"><span class="linenos">363</span></a>            <span class="p">)</span>
</span><span id="DefaultAzureCredential-364"><a href="#DefaultAzureCredential-364"><span class="linenos">364</span></a>            <span class="k">return</span> <span class="n">token_info</span>
</span><span id="DefaultAzureCredential-365"><a href="#DefaultAzureCredential-365"><span class="linenos">365</span></a>
</span><span id="DefaultAzureCredential-366"><a href="#DefaultAzureCredential-366"><span class="linenos">366</span></a>        <span class="n">within_dac</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-367"><a href="#DefaultAzureCredential-367"><span class="linenos">367</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-368"><a href="#DefaultAzureCredential-368"><span class="linenos">368</span></a>            <span class="n">token_info</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">SupportsTokenInfo</span><span class="p">,</span> <span class="nb">super</span><span class="p">())</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-369"><a href="#DefaultAzureCredential-369"><span class="linenos">369</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="DefaultAzureCredential-370"><a href="#DefaultAzureCredential-370"><span class="linenos">370</span></a>            <span class="n">within_dac</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="DefaultAzureCredential-371"><a href="#DefaultAzureCredential-371"><span class="linenos">371</span></a>        <span class="k">return</span> <span class="n">token_info</span>
</span></pre></div>


            <div class="docstring"><p>A credential capable of handling most Azure SDK authentication scenarios. For more information, See
<a href="&quot;https://aka.ms/azsdk/python/identity/credential-chains#usage-guidance-for-defaultazurecredential&quot;">Usage guidance for DefaultAzureCredential
</a>_.</p>

<p>The identity it uses depends on the environment. When an access token is needed, it requests one using these
identities in turn, stopping when one provides a token:</p>

<ol>
<li>A service principal configured by environment variables. See <code>~<a href="#EnvironmentCredential">azure.identity.EnvironmentCredential</a></code> for
more details.</li>
<li>WorkloadIdentityCredential if environment variable configuration is set by the Azure workload
identity webhook.</li>
<li>An Azure managed identity. See <code>~<a href="#ManagedIdentityCredential">azure.identity.ManagedIdentityCredential</a></code> for more details.</li>
<li>On Windows only: a user who has signed in with a Microsoft application, such as Visual Studio. If multiple
identities are in the cache, then the value of  the environment variable <code>AZURE_USERNAME</code> is used to select
which identity to use. See <code>~<a href="#SharedTokenCacheCredential">azure.identity.SharedTokenCacheCredential</a></code> for more details.</li>
<li>The identity currently logged in to the Azure CLI.</li>
<li>The identity currently logged in to Azure PowerShell.</li>
<li>The identity currently logged in to the Azure Developer CLI.</li>
<li>Brokered authentication. On Windows and WSL only, this uses the default account logged in via
Web Account Manager (WAM) if the <code>azure-identity-broker</code> package is installed.</li>
</ol>

<p>This default behavior is configurable with keyword arguments.</p>

<p>:keyword str authority: Authority of a Microsoft Entra endpoint, for example 'login.microsoftonline.com',
    the authority for Azure Public Cloud (which is the default). <code>~<a href="#AzureAuthorityHosts">azure.identity.AzureAuthorityHosts</a></code>
    defines authorities for other clouds. Managed identities ignore this because they reside in a single cloud.
:keyword bool exclude_workload_identity_credential: Whether to exclude the workload identity from the credential.
    Defaults to **False**.
:keyword bool exclude_developer_cli_credential: Whether to exclude the Azure Developer CLI
    from the credential. Defaults to <strong>False</strong>.
:keyword bool exclude_cli_credential: Whether to exclude the Azure CLI from the credential. Defaults to *<em>False</em>*.
:keyword bool exclude_environment_credential: Whether to exclude a service principal configured by environment
    variables from the credential. Defaults to *<em>False</em>*.
:keyword bool exclude_managed_identity_credential: Whether to exclude managed identity from the credential.
    Defaults to *<em>False</em>*.
:keyword bool exclude_powershell_credential: Whether to exclude Azure PowerShell. Defaults to *<em>False</em>*.
:keyword bool exclude_visual_studio_code_credential: Whether to exclude stored credential from VS Code.
    Defaults to *<em>True</em>*.
:keyword bool exclude_shared_token_cache_credential: Whether to exclude the shared token cache. Defaults to
    *<em>False</em>*.
:keyword bool exclude_interactive_browser_credential: Whether to exclude interactive browser authentication (see
    <code>~<a href="#InteractiveBrowserCredential">azure.identity.InteractiveBrowserCredential</a></code>). Defaults to *<em>True</em>*.
:keyword bool exclude_broker_credential: Whether to exclude the broker credential from the credential chain.
    Defaults to *<em>False</em>*.
:keyword str interactive_browser_tenant_id: Tenant ID to use when authenticating a user through
    <code>~<a href="#InteractiveBrowserCredential">azure.identity.InteractiveBrowserCredential</a></code>. Defaults to the value of environment variable
    AZURE_TENANT_ID, if any. If unspecified, users will authenticate in their home tenants.
:keyword str broker_tenant_id: The tenant ID to use when using brokered authentication. Defaults to the value of
    environment variable AZURE_TENANT_ID, if any. If unspecified, users will authenticate in their home tenants.
:keyword str managed_identity_client_id: The client ID of a user-assigned managed identity. Defaults to the value
    of the environment variable AZURE_CLIENT_ID, if any. If not specified, a system-assigned identity will be used.
:keyword str workload_identity_client_id: The client ID of an identity assigned to the pod. Defaults to the value
    of the environment variable AZURE_CLIENT_ID, if any. If not specified, the pod's default identity will be used.
:keyword str workload_identity_tenant_id: Preferred tenant for <code>~<a href="#WorkloadIdentityCredential">azure.identity.WorkloadIdentityCredential</a></code>.
    Defaults to the value of environment variable AZURE_TENANT_ID, if any.
:keyword str interactive_browser_client_id: The client ID to be used in interactive browser credential. If not
    specified, users will authenticate to an Azure development application.
:keyword str broker_client_id: The client ID to be used in brokered authentication. If not specified, users will
    authenticate to an Azure development application.
:keyword str shared_cache_username: Preferred username for <code>~<a href="#SharedTokenCacheCredential">azure.identity.SharedTokenCacheCredential</a></code>.
    Defaults to the value of environment variable AZURE_USERNAME, if any.
:keyword str shared_cache_tenant_id: Preferred tenant for <code>~<a href="#SharedTokenCacheCredential">azure.identity.SharedTokenCacheCredential</a></code>.
    Defaults to the value of environment variable AZURE_TENANT_ID, if any.
:keyword str visual_studio_code_tenant_id: Tenant ID to use when authenticating with
    <code>~<a href="#VisualStudioCodeCredential">azure.identity.VisualStudioCodeCredential</a></code>. Defaults to the tenant specified in the authentication
    record file used by the Azure Resources extension.
:keyword int process_timeout: The timeout in seconds to use for developer credentials that run
    subprocesses (e.g. AzureCliCredential, AzurePowerShellCredential). Defaults to *<em>10</em>* seconds.</p>

<p>.. admonition:: Example:</p>

<pre><code>.. literalinclude:: ../samples/credential_creation_code_snippets.py
    :start-after: [START create_default_credential]
    :end-before: [END create_default_credential]
    :language: python
    :dedent: 4
    :caption: Create a DefaultAzureCredential.
</code></pre>
</div>


                            <div id="DefaultAzureCredential.__init__" class="classattr">
                                        <input id="DefaultAzureCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">DefaultAzureCredential</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="DefaultAzureCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DefaultAzureCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DefaultAzureCredential.__init__-141"><a href="#DefaultAzureCredential.__init__-141"><span class="linenos">141</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># pylint: disable=too-many-statements, too-many-locals</span>
</span><span id="DefaultAzureCredential.__init__-142"><a href="#DefaultAzureCredential.__init__-142"><span class="linenos">142</span></a>        <span class="k">if</span> <span class="s2">&quot;tenant_id&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.__init__-143"><a href="#DefaultAzureCredential.__init__-143"><span class="linenos">143</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;tenant_id&#39; is not supported in DefaultAzureCredential.&quot;</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-144"><a href="#DefaultAzureCredential.__init__-144"><span class="linenos">144</span></a>
</span><span id="DefaultAzureCredential.__init__-145"><a href="#DefaultAzureCredential.__init__-145"><span class="linenos">145</span></a>        <span class="n">authority</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;authority&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-146"><a href="#DefaultAzureCredential.__init__-146"><span class="linenos">146</span></a>        <span class="n">authority</span> <span class="o">=</span> <span class="n">normalize_authority</span><span class="p">(</span><span class="n">authority</span><span class="p">)</span> <span class="k">if</span> <span class="n">authority</span> <span class="k">else</span> <span class="n">get_default_authority</span><span class="p">()</span>
</span><span id="DefaultAzureCredential.__init__-147"><a href="#DefaultAzureCredential.__init__-147"><span class="linenos">147</span></a>
</span><span id="DefaultAzureCredential.__init__-148"><a href="#DefaultAzureCredential.__init__-148"><span class="linenos">148</span></a>        <span class="n">vscode_tenant_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;visual_studio_code_tenant_id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-149"><a href="#DefaultAzureCredential.__init__-149"><span class="linenos">149</span></a>
</span><span id="DefaultAzureCredential.__init__-150"><a href="#DefaultAzureCredential.__init__-150"><span class="linenos">150</span></a>        <span class="n">interactive_browser_tenant_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
</span><span id="DefaultAzureCredential.__init__-151"><a href="#DefaultAzureCredential.__init__-151"><span class="linenos">151</span></a>            <span class="s2">&quot;interactive_browser_tenant_id&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_TENANT_ID</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-152"><a href="#DefaultAzureCredential.__init__-152"><span class="linenos">152</span></a>        <span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-153"><a href="#DefaultAzureCredential.__init__-153"><span class="linenos">153</span></a>
</span><span id="DefaultAzureCredential.__init__-154"><a href="#DefaultAzureCredential.__init__-154"><span class="linenos">154</span></a>        <span class="n">managed_identity_client_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
</span><span id="DefaultAzureCredential.__init__-155"><a href="#DefaultAzureCredential.__init__-155"><span class="linenos">155</span></a>            <span class="s2">&quot;managed_identity_client_id&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_ID</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-156"><a href="#DefaultAzureCredential.__init__-156"><span class="linenos">156</span></a>        <span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-157"><a href="#DefaultAzureCredential.__init__-157"><span class="linenos">157</span></a>        <span class="n">workload_identity_client_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;workload_identity_client_id&quot;</span><span class="p">,</span> <span class="n">managed_identity_client_id</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-158"><a href="#DefaultAzureCredential.__init__-158"><span class="linenos">158</span></a>        <span class="n">workload_identity_tenant_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
</span><span id="DefaultAzureCredential.__init__-159"><a href="#DefaultAzureCredential.__init__-159"><span class="linenos">159</span></a>            <span class="s2">&quot;workload_identity_tenant_id&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_TENANT_ID</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-160"><a href="#DefaultAzureCredential.__init__-160"><span class="linenos">160</span></a>        <span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-161"><a href="#DefaultAzureCredential.__init__-161"><span class="linenos">161</span></a>        <span class="n">interactive_browser_client_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;interactive_browser_client_id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-162"><a href="#DefaultAzureCredential.__init__-162"><span class="linenos">162</span></a>
</span><span id="DefaultAzureCredential.__init__-163"><a href="#DefaultAzureCredential.__init__-163"><span class="linenos">163</span></a>        <span class="n">broker_tenant_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;broker_tenant_id&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_TENANT_ID</span><span class="p">))</span>
</span><span id="DefaultAzureCredential.__init__-164"><a href="#DefaultAzureCredential.__init__-164"><span class="linenos">164</span></a>        <span class="n">broker_client_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;broker_client_id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-165"><a href="#DefaultAzureCredential.__init__-165"><span class="linenos">165</span></a>
</span><span id="DefaultAzureCredential.__init__-166"><a href="#DefaultAzureCredential.__init__-166"><span class="linenos">166</span></a>        <span class="n">shared_cache_username</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;shared_cache_username&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_USERNAME</span><span class="p">))</span>
</span><span id="DefaultAzureCredential.__init__-167"><a href="#DefaultAzureCredential.__init__-167"><span class="linenos">167</span></a>        <span class="n">shared_cache_tenant_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
</span><span id="DefaultAzureCredential.__init__-168"><a href="#DefaultAzureCredential.__init__-168"><span class="linenos">168</span></a>            <span class="s2">&quot;shared_cache_tenant_id&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_TENANT_ID</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-169"><a href="#DefaultAzureCredential.__init__-169"><span class="linenos">169</span></a>        <span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-170"><a href="#DefaultAzureCredential.__init__-170"><span class="linenos">170</span></a>
</span><span id="DefaultAzureCredential.__init__-171"><a href="#DefaultAzureCredential.__init__-171"><span class="linenos">171</span></a>        <span class="n">process_timeout</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;process_timeout&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-172"><a href="#DefaultAzureCredential.__init__-172"><span class="linenos">172</span></a>
</span><span id="DefaultAzureCredential.__init__-173"><a href="#DefaultAzureCredential.__init__-173"><span class="linenos">173</span></a>        <span class="c1"># Define credential configuration mapping</span>
</span><span id="DefaultAzureCredential.__init__-174"><a href="#DefaultAzureCredential.__init__-174"><span class="linenos">174</span></a>        <span class="n">credential_config</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential.__init__-175"><a href="#DefaultAzureCredential.__init__-175"><span class="linenos">175</span></a>            <span class="s2">&quot;environment&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential.__init__-176"><a href="#DefaultAzureCredential.__init__-176"><span class="linenos">176</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_environment_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-177"><a href="#DefaultAzureCredential.__init__-177"><span class="linenos">177</span></a>                <span class="s2">&quot;env_name&quot;</span><span class="p">:</span> <span class="s2">&quot;environmentcredential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-178"><a href="#DefaultAzureCredential.__init__-178"><span class="linenos">178</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-179"><a href="#DefaultAzureCredential.__init__-179"><span class="linenos">179</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential.__init__-180"><a href="#DefaultAzureCredential.__init__-180"><span class="linenos">180</span></a>            <span class="s2">&quot;workload_identity&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential.__init__-181"><a href="#DefaultAzureCredential.__init__-181"><span class="linenos">181</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_workload_identity_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-182"><a href="#DefaultAzureCredential.__init__-182"><span class="linenos">182</span></a>                <span class="s2">&quot;env_name&quot;</span><span class="p">:</span> <span class="s2">&quot;workloadidentitycredential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-183"><a href="#DefaultAzureCredential.__init__-183"><span class="linenos">183</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-184"><a href="#DefaultAzureCredential.__init__-184"><span class="linenos">184</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential.__init__-185"><a href="#DefaultAzureCredential.__init__-185"><span class="linenos">185</span></a>            <span class="s2">&quot;managed_identity&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential.__init__-186"><a href="#DefaultAzureCredential.__init__-186"><span class="linenos">186</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_managed_identity_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-187"><a href="#DefaultAzureCredential.__init__-187"><span class="linenos">187</span></a>                <span class="s2">&quot;env_name&quot;</span><span class="p">:</span> <span class="s2">&quot;managedidentitycredential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-188"><a href="#DefaultAzureCredential.__init__-188"><span class="linenos">188</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-189"><a href="#DefaultAzureCredential.__init__-189"><span class="linenos">189</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential.__init__-190"><a href="#DefaultAzureCredential.__init__-190"><span class="linenos">190</span></a>            <span class="s2">&quot;shared_token_cache&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential.__init__-191"><a href="#DefaultAzureCredential.__init__-191"><span class="linenos">191</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_shared_token_cache_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-192"><a href="#DefaultAzureCredential.__init__-192"><span class="linenos">192</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-193"><a href="#DefaultAzureCredential.__init__-193"><span class="linenos">193</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential.__init__-194"><a href="#DefaultAzureCredential.__init__-194"><span class="linenos">194</span></a>            <span class="s2">&quot;visual_studio_code&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential.__init__-195"><a href="#DefaultAzureCredential.__init__-195"><span class="linenos">195</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_visual_studio_code_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-196"><a href="#DefaultAzureCredential.__init__-196"><span class="linenos">196</span></a>                <span class="s2">&quot;env_name&quot;</span><span class="p">:</span> <span class="s2">&quot;visualstudiocodecredential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-197"><a href="#DefaultAzureCredential.__init__-197"><span class="linenos">197</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-198"><a href="#DefaultAzureCredential.__init__-198"><span class="linenos">198</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential.__init__-199"><a href="#DefaultAzureCredential.__init__-199"><span class="linenos">199</span></a>            <span class="s2">&quot;cli&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential.__init__-200"><a href="#DefaultAzureCredential.__init__-200"><span class="linenos">200</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_cli_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-201"><a href="#DefaultAzureCredential.__init__-201"><span class="linenos">201</span></a>                <span class="s2">&quot;env_name&quot;</span><span class="p">:</span> <span class="s2">&quot;azureclicredential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-202"><a href="#DefaultAzureCredential.__init__-202"><span class="linenos">202</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-203"><a href="#DefaultAzureCredential.__init__-203"><span class="linenos">203</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential.__init__-204"><a href="#DefaultAzureCredential.__init__-204"><span class="linenos">204</span></a>            <span class="s2">&quot;developer_cli&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential.__init__-205"><a href="#DefaultAzureCredential.__init__-205"><span class="linenos">205</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_developer_cli_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-206"><a href="#DefaultAzureCredential.__init__-206"><span class="linenos">206</span></a>                <span class="s2">&quot;env_name&quot;</span><span class="p">:</span> <span class="s2">&quot;azuredeveloperclicredential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-207"><a href="#DefaultAzureCredential.__init__-207"><span class="linenos">207</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-208"><a href="#DefaultAzureCredential.__init__-208"><span class="linenos">208</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential.__init__-209"><a href="#DefaultAzureCredential.__init__-209"><span class="linenos">209</span></a>            <span class="s2">&quot;powershell&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential.__init__-210"><a href="#DefaultAzureCredential.__init__-210"><span class="linenos">210</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_powershell_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-211"><a href="#DefaultAzureCredential.__init__-211"><span class="linenos">211</span></a>                <span class="s2">&quot;env_name&quot;</span><span class="p">:</span> <span class="s2">&quot;azurepowershellcredential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-212"><a href="#DefaultAzureCredential.__init__-212"><span class="linenos">212</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-213"><a href="#DefaultAzureCredential.__init__-213"><span class="linenos">213</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential.__init__-214"><a href="#DefaultAzureCredential.__init__-214"><span class="linenos">214</span></a>            <span class="s2">&quot;interactive_browser&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential.__init__-215"><a href="#DefaultAzureCredential.__init__-215"><span class="linenos">215</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_interactive_browser_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-216"><a href="#DefaultAzureCredential.__init__-216"><span class="linenos">216</span></a>                <span class="s2">&quot;env_name&quot;</span><span class="p">:</span> <span class="s2">&quot;interactivebrowsercredential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-217"><a href="#DefaultAzureCredential.__init__-217"><span class="linenos">217</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-218"><a href="#DefaultAzureCredential.__init__-218"><span class="linenos">218</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential.__init__-219"><a href="#DefaultAzureCredential.__init__-219"><span class="linenos">219</span></a>            <span class="s2">&quot;broker&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="DefaultAzureCredential.__init__-220"><a href="#DefaultAzureCredential.__init__-220"><span class="linenos">220</span></a>                <span class="s2">&quot;exclude_param&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude_broker_credential&quot;</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-221"><a href="#DefaultAzureCredential.__init__-221"><span class="linenos">221</span></a>                <span class="s2">&quot;default_exclude&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-222"><a href="#DefaultAzureCredential.__init__-222"><span class="linenos">222</span></a>            <span class="p">},</span>
</span><span id="DefaultAzureCredential.__init__-223"><a href="#DefaultAzureCredential.__init__-223"><span class="linenos">223</span></a>        <span class="p">}</span>
</span><span id="DefaultAzureCredential.__init__-224"><a href="#DefaultAzureCredential.__init__-224"><span class="linenos">224</span></a>
</span><span id="DefaultAzureCredential.__init__-225"><a href="#DefaultAzureCredential.__init__-225"><span class="linenos">225</span></a>        <span class="c1"># Extract user-provided exclude flags and set defaults</span>
</span><span id="DefaultAzureCredential.__init__-226"><a href="#DefaultAzureCredential.__init__-226"><span class="linenos">226</span></a>        <span class="n">exclude_flags</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DefaultAzureCredential.__init__-227"><a href="#DefaultAzureCredential.__init__-227"><span class="linenos">227</span></a>        <span class="n">user_excludes</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DefaultAzureCredential.__init__-228"><a href="#DefaultAzureCredential.__init__-228"><span class="linenos">228</span></a>        <span class="k">for</span> <span class="n">cred_key</span><span class="p">,</span> <span class="n">config</span> <span class="ow">in</span> <span class="n">credential_config</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="DefaultAzureCredential.__init__-229"><a href="#DefaultAzureCredential.__init__-229"><span class="linenos">229</span></a>            <span class="n">param_name</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;exclude_param&quot;</span><span class="p">])</span>
</span><span id="DefaultAzureCredential.__init__-230"><a href="#DefaultAzureCredential.__init__-230"><span class="linenos">230</span></a>            <span class="n">user_excludes</span><span class="p">[</span><span class="n">cred_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">param_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-231"><a href="#DefaultAzureCredential.__init__-231"><span class="linenos">231</span></a>            <span class="n">exclude_flags</span><span class="p">[</span><span class="n">cred_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;default_exclude&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential.__init__-232"><a href="#DefaultAzureCredential.__init__-232"><span class="linenos">232</span></a>
</span><span id="DefaultAzureCredential.__init__-233"><a href="#DefaultAzureCredential.__init__-233"><span class="linenos">233</span></a>        <span class="c1"># Process AZURE_TOKEN_CREDENTIALS environment variable and apply user overrides</span>
</span><span id="DefaultAzureCredential.__init__-234"><a href="#DefaultAzureCredential.__init__-234"><span class="linenos">234</span></a>        <span class="n">exclude_flags</span> <span class="o">=</span> <span class="n">process_credential_exclusions</span><span class="p">(</span><span class="n">credential_config</span><span class="p">,</span> <span class="n">exclude_flags</span><span class="p">,</span> <span class="n">user_excludes</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-235"><a href="#DefaultAzureCredential.__init__-235"><span class="linenos">235</span></a>
</span><span id="DefaultAzureCredential.__init__-236"><a href="#DefaultAzureCredential.__init__-236"><span class="linenos">236</span></a>        <span class="c1"># Extract individual exclude flags for backward compatibility</span>
</span><span id="DefaultAzureCredential.__init__-237"><a href="#DefaultAzureCredential.__init__-237"><span class="linenos">237</span></a>        <span class="n">exclude_environment_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;environment&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential.__init__-238"><a href="#DefaultAzureCredential.__init__-238"><span class="linenos">238</span></a>        <span class="n">exclude_workload_identity_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;workload_identity&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential.__init__-239"><a href="#DefaultAzureCredential.__init__-239"><span class="linenos">239</span></a>        <span class="n">exclude_managed_identity_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;managed_identity&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential.__init__-240"><a href="#DefaultAzureCredential.__init__-240"><span class="linenos">240</span></a>        <span class="n">exclude_shared_token_cache_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;shared_token_cache&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential.__init__-241"><a href="#DefaultAzureCredential.__init__-241"><span class="linenos">241</span></a>        <span class="n">exclude_visual_studio_code_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;visual_studio_code&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential.__init__-242"><a href="#DefaultAzureCredential.__init__-242"><span class="linenos">242</span></a>        <span class="n">exclude_cli_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;cli&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential.__init__-243"><a href="#DefaultAzureCredential.__init__-243"><span class="linenos">243</span></a>        <span class="n">exclude_developer_cli_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;developer_cli&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential.__init__-244"><a href="#DefaultAzureCredential.__init__-244"><span class="linenos">244</span></a>        <span class="n">exclude_powershell_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;powershell&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential.__init__-245"><a href="#DefaultAzureCredential.__init__-245"><span class="linenos">245</span></a>        <span class="n">exclude_interactive_browser_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;interactive_browser&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential.__init__-246"><a href="#DefaultAzureCredential.__init__-246"><span class="linenos">246</span></a>        <span class="n">exclude_broker_credential</span> <span class="o">=</span> <span class="n">exclude_flags</span><span class="p">[</span><span class="s2">&quot;broker&quot;</span><span class="p">]</span>
</span><span id="DefaultAzureCredential.__init__-247"><a href="#DefaultAzureCredential.__init__-247"><span class="linenos">247</span></a>
</span><span id="DefaultAzureCredential.__init__-248"><a href="#DefaultAzureCredential.__init__-248"><span class="linenos">248</span></a>        <span class="n">credentials</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SupportsTokenInfo</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DefaultAzureCredential.__init__-249"><a href="#DefaultAzureCredential.__init__-249"><span class="linenos">249</span></a>        <span class="n">within_dac</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-250"><a href="#DefaultAzureCredential.__init__-250"><span class="linenos">250</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_environment_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.__init__-251"><a href="#DefaultAzureCredential.__init__-251"><span class="linenos">251</span></a>            <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">EnvironmentCredential</span><span class="p">(</span><span class="n">authority</span><span class="o">=</span><span class="n">authority</span><span class="p">,</span> <span class="n">_within_dac</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
</span><span id="DefaultAzureCredential.__init__-252"><a href="#DefaultAzureCredential.__init__-252"><span class="linenos">252</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_workload_identity_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.__init__-253"><a href="#DefaultAzureCredential.__init__-253"><span class="linenos">253</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.__init__-254"><a href="#DefaultAzureCredential.__init__-254"><span class="linenos">254</span></a>                <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="DefaultAzureCredential.__init__-255"><a href="#DefaultAzureCredential.__init__-255"><span class="linenos">255</span></a>                    <span class="n">WorkloadIdentityCredential</span><span class="p">(</span>
</span><span id="DefaultAzureCredential.__init__-256"><a href="#DefaultAzureCredential.__init__-256"><span class="linenos">256</span></a>                        <span class="n">client_id</span><span class="o">=</span><span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">workload_identity_client_id</span><span class="p">),</span>
</span><span id="DefaultAzureCredential.__init__-257"><a href="#DefaultAzureCredential.__init__-257"><span class="linenos">257</span></a>                        <span class="n">tenant_id</span><span class="o">=</span><span class="n">workload_identity_tenant_id</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-258"><a href="#DefaultAzureCredential.__init__-258"><span class="linenos">258</span></a>                        <span class="n">token_file_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_FEDERATED_TOKEN_FILE</span><span class="p">),</span>
</span><span id="DefaultAzureCredential.__init__-259"><a href="#DefaultAzureCredential.__init__-259"><span class="linenos">259</span></a>                        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-260"><a href="#DefaultAzureCredential.__init__-260"><span class="linenos">260</span></a>                    <span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-261"><a href="#DefaultAzureCredential.__init__-261"><span class="linenos">261</span></a>                <span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-262"><a href="#DefaultAzureCredential.__init__-262"><span class="linenos">262</span></a>            <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.__init__-263"><a href="#DefaultAzureCredential.__init__-263"><span class="linenos">263</span></a>                <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">FailedDACCredential</span><span class="p">(</span><span class="s2">&quot;WorkloadIdentityCredential&quot;</span><span class="p">,</span> <span class="n">error</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">)))</span>
</span><span id="DefaultAzureCredential.__init__-264"><a href="#DefaultAzureCredential.__init__-264"><span class="linenos">264</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_managed_identity_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.__init__-265"><a href="#DefaultAzureCredential.__init__-265"><span class="linenos">265</span></a>            <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="DefaultAzureCredential.__init__-266"><a href="#DefaultAzureCredential.__init__-266"><span class="linenos">266</span></a>                <span class="n">ManagedIdentityCredential</span><span class="p">(</span>
</span><span id="DefaultAzureCredential.__init__-267"><a href="#DefaultAzureCredential.__init__-267"><span class="linenos">267</span></a>                    <span class="n">client_id</span><span class="o">=</span><span class="n">managed_identity_client_id</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-268"><a href="#DefaultAzureCredential.__init__-268"><span class="linenos">268</span></a>                    <span class="n">_exclude_workload_identity_credential</span><span class="o">=</span><span class="n">exclude_workload_identity_credential</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-269"><a href="#DefaultAzureCredential.__init__-269"><span class="linenos">269</span></a>                    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="DefaultAzureCredential.__init__-270"><a href="#DefaultAzureCredential.__init__-270"><span class="linenos">270</span></a>                <span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-271"><a href="#DefaultAzureCredential.__init__-271"><span class="linenos">271</span></a>            <span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-272"><a href="#DefaultAzureCredential.__init__-272"><span class="linenos">272</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_shared_token_cache_credential</span> <span class="ow">and</span> <span class="n">SharedTokenCacheCredential</span><span class="o">.</span><span class="n">supported</span><span class="p">():</span>
</span><span id="DefaultAzureCredential.__init__-273"><a href="#DefaultAzureCredential.__init__-273"><span class="linenos">273</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.__init__-274"><a href="#DefaultAzureCredential.__init__-274"><span class="linenos">274</span></a>                <span class="c1"># username and/or tenant_id are only required when the cache contains tokens for multiple identities</span>
</span><span id="DefaultAzureCredential.__init__-275"><a href="#DefaultAzureCredential.__init__-275"><span class="linenos">275</span></a>                <span class="n">shared_cache</span> <span class="o">=</span> <span class="n">SharedTokenCacheCredential</span><span class="p">(</span>
</span><span id="DefaultAzureCredential.__init__-276"><a href="#DefaultAzureCredential.__init__-276"><span class="linenos">276</span></a>                    <span class="n">username</span><span class="o">=</span><span class="n">shared_cache_username</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">shared_cache_tenant_id</span><span class="p">,</span> <span class="n">authority</span><span class="o">=</span><span class="n">authority</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="DefaultAzureCredential.__init__-277"><a href="#DefaultAzureCredential.__init__-277"><span class="linenos">277</span></a>                <span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-278"><a href="#DefaultAzureCredential.__init__-278"><span class="linenos">278</span></a>                <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">shared_cache</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-279"><a href="#DefaultAzureCredential.__init__-279"><span class="linenos">279</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>  <span class="c1"># pylint:disable=broad-except</span>
</span><span id="DefaultAzureCredential.__init__-280"><a href="#DefaultAzureCredential.__init__-280"><span class="linenos">280</span></a>                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Shared token cache is unavailable: &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-281"><a href="#DefaultAzureCredential.__init__-281"><span class="linenos">281</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_visual_studio_code_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.__init__-282"><a href="#DefaultAzureCredential.__init__-282"><span class="linenos">282</span></a>            <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">VisualStudioCodeCredential</span><span class="p">(</span><span class="n">tenant_id</span><span class="o">=</span><span class="n">vscode_tenant_id</span><span class="p">))</span>
</span><span id="DefaultAzureCredential.__init__-283"><a href="#DefaultAzureCredential.__init__-283"><span class="linenos">283</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_cli_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.__init__-284"><a href="#DefaultAzureCredential.__init__-284"><span class="linenos">284</span></a>            <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AzureCliCredential</span><span class="p">(</span><span class="n">process_timeout</span><span class="o">=</span><span class="n">process_timeout</span><span class="p">))</span>
</span><span id="DefaultAzureCredential.__init__-285"><a href="#DefaultAzureCredential.__init__-285"><span class="linenos">285</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_powershell_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.__init__-286"><a href="#DefaultAzureCredential.__init__-286"><span class="linenos">286</span></a>            <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AzurePowerShellCredential</span><span class="p">(</span><span class="n">process_timeout</span><span class="o">=</span><span class="n">process_timeout</span><span class="p">))</span>
</span><span id="DefaultAzureCredential.__init__-287"><a href="#DefaultAzureCredential.__init__-287"><span class="linenos">287</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_developer_cli_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.__init__-288"><a href="#DefaultAzureCredential.__init__-288"><span class="linenos">288</span></a>            <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AzureDeveloperCliCredential</span><span class="p">(</span><span class="n">process_timeout</span><span class="o">=</span><span class="n">process_timeout</span><span class="p">))</span>
</span><span id="DefaultAzureCredential.__init__-289"><a href="#DefaultAzureCredential.__init__-289"><span class="linenos">289</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_interactive_browser_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.__init__-290"><a href="#DefaultAzureCredential.__init__-290"><span class="linenos">290</span></a>            <span class="k">if</span> <span class="n">interactive_browser_client_id</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.__init__-291"><a href="#DefaultAzureCredential.__init__-291"><span class="linenos">291</span></a>                <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="DefaultAzureCredential.__init__-292"><a href="#DefaultAzureCredential.__init__-292"><span class="linenos">292</span></a>                    <span class="n">InteractiveBrowserCredential</span><span class="p">(</span>
</span><span id="DefaultAzureCredential.__init__-293"><a href="#DefaultAzureCredential.__init__-293"><span class="linenos">293</span></a>                        <span class="n">tenant_id</span><span class="o">=</span><span class="n">interactive_browser_tenant_id</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="n">interactive_browser_client_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="DefaultAzureCredential.__init__-294"><a href="#DefaultAzureCredential.__init__-294"><span class="linenos">294</span></a>                    <span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-295"><a href="#DefaultAzureCredential.__init__-295"><span class="linenos">295</span></a>                <span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-296"><a href="#DefaultAzureCredential.__init__-296"><span class="linenos">296</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.__init__-297"><a href="#DefaultAzureCredential.__init__-297"><span class="linenos">297</span></a>                <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">InteractiveBrowserCredential</span><span class="p">(</span><span class="n">tenant_id</span><span class="o">=</span><span class="n">interactive_browser_tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
</span><span id="DefaultAzureCredential.__init__-298"><a href="#DefaultAzureCredential.__init__-298"><span class="linenos">298</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_broker_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.__init__-299"><a href="#DefaultAzureCredential.__init__-299"><span class="linenos">299</span></a>            <span class="n">broker_credential_args</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;tenant_id&quot;</span><span class="p">:</span> <span class="n">broker_tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">}</span>
</span><span id="DefaultAzureCredential.__init__-300"><a href="#DefaultAzureCredential.__init__-300"><span class="linenos">300</span></a>            <span class="k">if</span> <span class="n">broker_client_id</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.__init__-301"><a href="#DefaultAzureCredential.__init__-301"><span class="linenos">301</span></a>                <span class="n">broker_credential_args</span><span class="p">[</span><span class="s2">&quot;client_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">broker_client_id</span>
</span><span id="DefaultAzureCredential.__init__-302"><a href="#DefaultAzureCredential.__init__-302"><span class="linenos">302</span></a>            <span class="n">credentials</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">BrokerCredential</span><span class="p">(</span><span class="o">**</span><span class="n">broker_credential_args</span><span class="p">))</span>
</span><span id="DefaultAzureCredential.__init__-303"><a href="#DefaultAzureCredential.__init__-303"><span class="linenos">303</span></a>
</span><span id="DefaultAzureCredential.__init__-304"><a href="#DefaultAzureCredential.__init__-304"><span class="linenos">304</span></a>        <span class="n">within_dac</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.__init__-305"><a href="#DefaultAzureCredential.__init__-305"><span class="linenos">305</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">DefaultAzureCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">credentials</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="DefaultAzureCredential.get_token" class="classattr">
                                        <input id="DefaultAzureCredential.get_token-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_token</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessToken</span>:</span></span>

                <label class="view-source-button" for="DefaultAzureCredential.get_token-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DefaultAzureCredential.get_token"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DefaultAzureCredential.get_token-307"><a href="#DefaultAzureCredential.get_token-307"><span class="linenos">307</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="DefaultAzureCredential.get_token-308"><a href="#DefaultAzureCredential.get_token-308"><span class="linenos">308</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="DefaultAzureCredential.get_token-309"><a href="#DefaultAzureCredential.get_token-309"><span class="linenos">309</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.get_token-310"><a href="#DefaultAzureCredential.get_token-310"><span class="linenos">310</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="DefaultAzureCredential.get_token-311"><a href="#DefaultAzureCredential.get_token-311"><span class="linenos">311</span></a>
</span><span id="DefaultAzureCredential.get_token-312"><a href="#DefaultAzureCredential.get_token-312"><span class="linenos">312</span></a><span class="sd">        This method is called automatically by Azure SDK clients.</span>
</span><span id="DefaultAzureCredential.get_token-313"><a href="#DefaultAzureCredential.get_token-313"><span class="linenos">313</span></a>
</span><span id="DefaultAzureCredential.get_token-314"><a href="#DefaultAzureCredential.get_token-314"><span class="linenos">314</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="DefaultAzureCredential.get_token-315"><a href="#DefaultAzureCredential.get_token-315"><span class="linenos">315</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="DefaultAzureCredential.get_token-316"><a href="#DefaultAzureCredential.get_token-316"><span class="linenos">316</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="DefaultAzureCredential.get_token-317"><a href="#DefaultAzureCredential.get_token-317"><span class="linenos">317</span></a><span class="sd">        :keyword str claims: additional claims required in the token, such as those returned in a resource provider&#39;s</span>
</span><span id="DefaultAzureCredential.get_token-318"><a href="#DefaultAzureCredential.get_token-318"><span class="linenos">318</span></a><span class="sd">            claims challenge following an authorization failure.</span>
</span><span id="DefaultAzureCredential.get_token-319"><a href="#DefaultAzureCredential.get_token-319"><span class="linenos">319</span></a><span class="sd">        :keyword str tenant_id: optional tenant to include in the token request.</span>
</span><span id="DefaultAzureCredential.get_token-320"><a href="#DefaultAzureCredential.get_token-320"><span class="linenos">320</span></a>
</span><span id="DefaultAzureCredential.get_token-321"><a href="#DefaultAzureCredential.get_token-321"><span class="linenos">321</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="DefaultAzureCredential.get_token-322"><a href="#DefaultAzureCredential.get_token-322"><span class="linenos">322</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="DefaultAzureCredential.get_token-323"><a href="#DefaultAzureCredential.get_token-323"><span class="linenos">323</span></a>
</span><span id="DefaultAzureCredential.get_token-324"><a href="#DefaultAzureCredential.get_token-324"><span class="linenos">324</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: authentication failed. The exception has a</span>
</span><span id="DefaultAzureCredential.get_token-325"><a href="#DefaultAzureCredential.get_token-325"><span class="linenos">325</span></a><span class="sd">            `message` attribute listing each authentication attempt and its error message.</span>
</span><span id="DefaultAzureCredential.get_token-326"><a href="#DefaultAzureCredential.get_token-326"><span class="linenos">326</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DefaultAzureCredential.get_token-327"><a href="#DefaultAzureCredential.get_token-327"><span class="linenos">327</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_successful_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.get_token-328"><a href="#DefaultAzureCredential.get_token-328"><span class="linenos">328</span></a>            <span class="n">token</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">TokenCredential</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_successful_credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
</span><span id="DefaultAzureCredential.get_token-329"><a href="#DefaultAzureCredential.get_token-329"><span class="linenos">329</span></a>                <span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="DefaultAzureCredential.get_token-330"><a href="#DefaultAzureCredential.get_token-330"><span class="linenos">330</span></a>            <span class="p">)</span>
</span><span id="DefaultAzureCredential.get_token-331"><a href="#DefaultAzureCredential.get_token-331"><span class="linenos">331</span></a>            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
</span><span id="DefaultAzureCredential.get_token-332"><a href="#DefaultAzureCredential.get_token-332"><span class="linenos">332</span></a>                <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> acquired a token from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_successful_credential</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="DefaultAzureCredential.get_token-333"><a href="#DefaultAzureCredential.get_token-333"><span class="linenos">333</span></a>            <span class="p">)</span>
</span><span id="DefaultAzureCredential.get_token-334"><a href="#DefaultAzureCredential.get_token-334"><span class="linenos">334</span></a>            <span class="k">return</span> <span class="n">token</span>
</span><span id="DefaultAzureCredential.get_token-335"><a href="#DefaultAzureCredential.get_token-335"><span class="linenos">335</span></a>        <span class="n">within_dac</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.get_token-336"><a href="#DefaultAzureCredential.get_token-336"><span class="linenos">336</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.get_token-337"><a href="#DefaultAzureCredential.get_token-337"><span class="linenos">337</span></a>            <span class="n">token</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.get_token-338"><a href="#DefaultAzureCredential.get_token-338"><span class="linenos">338</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.get_token-339"><a href="#DefaultAzureCredential.get_token-339"><span class="linenos">339</span></a>            <span class="n">within_dac</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.get_token-340"><a href="#DefaultAzureCredential.get_token-340"><span class="linenos">340</span></a>        <span class="k">return</span> <span class="n">token</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code>.</p>

<p>This method is called automatically by Azure SDK clients.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scopes for the access token. This method requires at least one scope.
For more information about scopes, see
<a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword str claims: additional claims required in the token, such as those returned in a resource provider's
claims challenge following an authorization failure.
:keyword str tenant_id: optional tenant to include in the token request.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An access token with the desired scopes.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~azure.core.exceptions.ClientAuthenticationError</strong>:  authentication failed. The exception has a
<code>message</code> attribute listing each authentication attempt and its error message.</li>
</ul>
</div>


                            </div>
                            <div id="DefaultAzureCredential.get_token_info" class="classattr">
                                        <input id="DefaultAzureCredential.get_token_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_token_info</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessTokenInfo</span>:</span></span>

                <label class="view-source-button" for="DefaultAzureCredential.get_token_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DefaultAzureCredential.get_token_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DefaultAzureCredential.get_token_info-342"><a href="#DefaultAzureCredential.get_token_info-342"><span class="linenos">342</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.get_token_info-343"><a href="#DefaultAzureCredential.get_token_info-343"><span class="linenos">343</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="DefaultAzureCredential.get_token_info-344"><a href="#DefaultAzureCredential.get_token_info-344"><span class="linenos">344</span></a>
</span><span id="DefaultAzureCredential.get_token_info-345"><a href="#DefaultAzureCredential.get_token_info-345"><span class="linenos">345</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="DefaultAzureCredential.get_token_info-346"><a href="#DefaultAzureCredential.get_token_info-346"><span class="linenos">346</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients.</span>
</span><span id="DefaultAzureCredential.get_token_info-347"><a href="#DefaultAzureCredential.get_token_info-347"><span class="linenos">347</span></a>
</span><span id="DefaultAzureCredential.get_token_info-348"><a href="#DefaultAzureCredential.get_token_info-348"><span class="linenos">348</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="DefaultAzureCredential.get_token_info-349"><a href="#DefaultAzureCredential.get_token_info-349"><span class="linenos">349</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="DefaultAzureCredential.get_token_info-350"><a href="#DefaultAzureCredential.get_token_info-350"><span class="linenos">350</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="DefaultAzureCredential.get_token_info-351"><a href="#DefaultAzureCredential.get_token_info-351"><span class="linenos">351</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="DefaultAzureCredential.get_token_info-352"><a href="#DefaultAzureCredential.get_token_info-352"><span class="linenos">352</span></a>
</span><span id="DefaultAzureCredential.get_token_info-353"><a href="#DefaultAzureCredential.get_token_info-353"><span class="linenos">353</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="DefaultAzureCredential.get_token_info-354"><a href="#DefaultAzureCredential.get_token_info-354"><span class="linenos">354</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="DefaultAzureCredential.get_token_info-355"><a href="#DefaultAzureCredential.get_token_info-355"><span class="linenos">355</span></a>
</span><span id="DefaultAzureCredential.get_token_info-356"><a href="#DefaultAzureCredential.get_token_info-356"><span class="linenos">356</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: authentication failed. The exception has a</span>
</span><span id="DefaultAzureCredential.get_token_info-357"><a href="#DefaultAzureCredential.get_token_info-357"><span class="linenos">357</span></a><span class="sd">           `message` attribute listing each authentication attempt and its error message.</span>
</span><span id="DefaultAzureCredential.get_token_info-358"><a href="#DefaultAzureCredential.get_token_info-358"><span class="linenos">358</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DefaultAzureCredential.get_token_info-359"><a href="#DefaultAzureCredential.get_token_info-359"><span class="linenos">359</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_successful_credential</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.get_token_info-360"><a href="#DefaultAzureCredential.get_token_info-360"><span class="linenos">360</span></a>            <span class="n">token_info</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">SupportsTokenInfo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_successful_credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.get_token_info-361"><a href="#DefaultAzureCredential.get_token_info-361"><span class="linenos">361</span></a>            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
</span><span id="DefaultAzureCredential.get_token_info-362"><a href="#DefaultAzureCredential.get_token_info-362"><span class="linenos">362</span></a>                <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> acquired a token from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_successful_credential</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="DefaultAzureCredential.get_token_info-363"><a href="#DefaultAzureCredential.get_token_info-363"><span class="linenos">363</span></a>            <span class="p">)</span>
</span><span id="DefaultAzureCredential.get_token_info-364"><a href="#DefaultAzureCredential.get_token_info-364"><span class="linenos">364</span></a>            <span class="k">return</span> <span class="n">token_info</span>
</span><span id="DefaultAzureCredential.get_token_info-365"><a href="#DefaultAzureCredential.get_token_info-365"><span class="linenos">365</span></a>
</span><span id="DefaultAzureCredential.get_token_info-366"><a href="#DefaultAzureCredential.get_token_info-366"><span class="linenos">366</span></a>        <span class="n">within_dac</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.get_token_info-367"><a href="#DefaultAzureCredential.get_token_info-367"><span class="linenos">367</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.get_token_info-368"><a href="#DefaultAzureCredential.get_token_info-368"><span class="linenos">368</span></a>            <span class="n">token_info</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">SupportsTokenInfo</span><span class="p">,</span> <span class="nb">super</span><span class="p">())</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.get_token_info-369"><a href="#DefaultAzureCredential.get_token_info-369"><span class="linenos">369</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="DefaultAzureCredential.get_token_info-370"><a href="#DefaultAzureCredential.get_token_info-370"><span class="linenos">370</span></a>            <span class="n">within_dac</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="DefaultAzureCredential.get_token_info-371"><a href="#DefaultAzureCredential.get_token_info-371"><span class="linenos">371</span></a>        <span class="k">return</span> <span class="n">token_info</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code>.</p>

<p>This is an alternative to <code><a href="#DefaultAzureCredential.get_token">get_token</a></code> to enable certain scenarios that require additional properties
on the token. This method is called automatically by Azure SDK clients.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scopes for the access token. This method requires at least one scope.
For more information about scopes, see <a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.
:paramtype options: ~azure.core.credentials.TokenRequestOptions</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An AccessTokenInfo instance containing information about the token.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~azure.core.exceptions.ClientAuthenticationError</strong>:  authentication failed. The exception has a
<code>message</code> attribute listing each authentication attempt and its error message.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="DeviceCodeCredential">
                            <input id="DeviceCodeCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DeviceCodeCredential</span><wbr>(<span class="base">azure.identity._internal.interactive.InteractiveCredential</span>):

                <label class="view-source-button" for="DeviceCodeCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeviceCodeCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeviceCodeCredential-16"><a href="#DeviceCodeCredential-16"><span class="linenos"> 16</span></a><span class="k">class</span><span class="w"> </span><span class="nc">DeviceCodeCredential</span><span class="p">(</span><span class="n">InteractiveCredential</span><span class="p">):</span>
</span><span id="DeviceCodeCredential-17"><a href="#DeviceCodeCredential-17"><span class="linenos"> 17</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticates users through the device code flow.</span>
</span><span id="DeviceCodeCredential-18"><a href="#DeviceCodeCredential-18"><span class="linenos"> 18</span></a>
</span><span id="DeviceCodeCredential-19"><a href="#DeviceCodeCredential-19"><span class="linenos"> 19</span></a><span class="sd">    When :func:`get_token` is called, this credential acquires a verification URL and code from Microsoft Entra ID.</span>
</span><span id="DeviceCodeCredential-20"><a href="#DeviceCodeCredential-20"><span class="linenos"> 20</span></a><span class="sd">    A user must browse to the URL, enter the code, and authenticate with Microsoft Entra ID. If the user</span>
</span><span id="DeviceCodeCredential-21"><a href="#DeviceCodeCredential-21"><span class="linenos"> 21</span></a><span class="sd">    authenticates successfully, the credential receives an access token.</span>
</span><span id="DeviceCodeCredential-22"><a href="#DeviceCodeCredential-22"><span class="linenos"> 22</span></a>
</span><span id="DeviceCodeCredential-23"><a href="#DeviceCodeCredential-23"><span class="linenos"> 23</span></a><span class="sd">    This credential is primarily useful for authenticating a user in an environment without a web browser, such as an</span>
</span><span id="DeviceCodeCredential-24"><a href="#DeviceCodeCredential-24"><span class="linenos"> 24</span></a><span class="sd">    SSH session. If a web browser is available, :class:`~azure.identity.InteractiveBrowserCredential` is more</span>
</span><span id="DeviceCodeCredential-25"><a href="#DeviceCodeCredential-25"><span class="linenos"> 25</span></a><span class="sd">    convenient because it automatically opens a browser to the login page.</span>
</span><span id="DeviceCodeCredential-26"><a href="#DeviceCodeCredential-26"><span class="linenos"> 26</span></a>
</span><span id="DeviceCodeCredential-27"><a href="#DeviceCodeCredential-27"><span class="linenos"> 27</span></a><span class="sd">    :param str client_id: Client ID of the Microsoft Entra application that users will sign into. It is recommended</span>
</span><span id="DeviceCodeCredential-28"><a href="#DeviceCodeCredential-28"><span class="linenos"> 28</span></a><span class="sd">        that developers register their applications and assign appropriate roles. For more information,</span>
</span><span id="DeviceCodeCredential-29"><a href="#DeviceCodeCredential-29"><span class="linenos"> 29</span></a><span class="sd">        visit https://aka.ms/azsdk/identity/AppRegistrationAndRoleAssignment. If not specified, users will</span>
</span><span id="DeviceCodeCredential-30"><a href="#DeviceCodeCredential-30"><span class="linenos"> 30</span></a><span class="sd">        authenticate to an Azure development application, which is not recommended for production scenarios.</span>
</span><span id="DeviceCodeCredential-31"><a href="#DeviceCodeCredential-31"><span class="linenos"> 31</span></a><span class="sd">    :keyword str authority: Authority of a Microsoft Entra endpoint, for example &quot;login.microsoftonline.com&quot;,</span>
</span><span id="DeviceCodeCredential-32"><a href="#DeviceCodeCredential-32"><span class="linenos"> 32</span></a><span class="sd">        the authority for Azure Public Cloud (which is the default). :class:`~azure.identity.AzureAuthorityHosts`</span>
</span><span id="DeviceCodeCredential-33"><a href="#DeviceCodeCredential-33"><span class="linenos"> 33</span></a><span class="sd">        defines authorities for other clouds.</span>
</span><span id="DeviceCodeCredential-34"><a href="#DeviceCodeCredential-34"><span class="linenos"> 34</span></a><span class="sd">    :keyword str tenant_id: a Microsoft Entra tenant ID. Defaults to the &quot;organizations&quot; tenant, which can</span>
</span><span id="DeviceCodeCredential-35"><a href="#DeviceCodeCredential-35"><span class="linenos"> 35</span></a><span class="sd">        authenticate work or school accounts. **Required for single-tenant applications.**</span>
</span><span id="DeviceCodeCredential-36"><a href="#DeviceCodeCredential-36"><span class="linenos"> 36</span></a><span class="sd">    :keyword int timeout: seconds to wait for the user to authenticate. Defaults to the validity period of the</span>
</span><span id="DeviceCodeCredential-37"><a href="#DeviceCodeCredential-37"><span class="linenos"> 37</span></a><span class="sd">        device code as set by Microsoft Entra ID, which also prevails when **timeout** is longer.</span>
</span><span id="DeviceCodeCredential-38"><a href="#DeviceCodeCredential-38"><span class="linenos"> 38</span></a><span class="sd">    :keyword prompt_callback: A callback enabling control of how authentication</span>
</span><span id="DeviceCodeCredential-39"><a href="#DeviceCodeCredential-39"><span class="linenos"> 39</span></a><span class="sd">        instructions are presented. Must accept arguments (``verification_uri``, ``user_code``, ``expires_on``):</span>
</span><span id="DeviceCodeCredential-40"><a href="#DeviceCodeCredential-40"><span class="linenos"> 40</span></a>
</span><span id="DeviceCodeCredential-41"><a href="#DeviceCodeCredential-41"><span class="linenos"> 41</span></a><span class="sd">        - ``verification_uri`` (str) the URL the user must visit</span>
</span><span id="DeviceCodeCredential-42"><a href="#DeviceCodeCredential-42"><span class="linenos"> 42</span></a><span class="sd">        - ``user_code`` (str) the code the user must enter there</span>
</span><span id="DeviceCodeCredential-43"><a href="#DeviceCodeCredential-43"><span class="linenos"> 43</span></a><span class="sd">        - ``expires_on`` (datetime.datetime) the UTC time at which the code will expire</span>
</span><span id="DeviceCodeCredential-44"><a href="#DeviceCodeCredential-44"><span class="linenos"> 44</span></a>
</span><span id="DeviceCodeCredential-45"><a href="#DeviceCodeCredential-45"><span class="linenos"> 45</span></a><span class="sd">        If this argument isn&#39;t provided, the credential will print instructions to stdout.</span>
</span><span id="DeviceCodeCredential-46"><a href="#DeviceCodeCredential-46"><span class="linenos"> 46</span></a><span class="sd">    :paramtype prompt_callback: Callable[str, str, ~datetime.datetime]</span>
</span><span id="DeviceCodeCredential-47"><a href="#DeviceCodeCredential-47"><span class="linenos"> 47</span></a><span class="sd">    :keyword AuthenticationRecord authentication_record: :class:`AuthenticationRecord` returned by :func:`authenticate`</span>
</span><span id="DeviceCodeCredential-48"><a href="#DeviceCodeCredential-48"><span class="linenos"> 48</span></a><span class="sd">    :keyword bool disable_automatic_authentication: if True, :func:`get_token` will raise</span>
</span><span id="DeviceCodeCredential-49"><a href="#DeviceCodeCredential-49"><span class="linenos"> 49</span></a><span class="sd">        :class:`AuthenticationRequiredError` when user interaction is required to acquire a token. Defaults to False.</span>
</span><span id="DeviceCodeCredential-50"><a href="#DeviceCodeCredential-50"><span class="linenos"> 50</span></a><span class="sd">    :keyword cache_persistence_options: configuration for persistent token caching. If unspecified, the credential</span>
</span><span id="DeviceCodeCredential-51"><a href="#DeviceCodeCredential-51"><span class="linenos"> 51</span></a><span class="sd">        will cache tokens in memory.</span>
</span><span id="DeviceCodeCredential-52"><a href="#DeviceCodeCredential-52"><span class="linenos"> 52</span></a><span class="sd">    :paramtype cache_persistence_options: ~azure.identity.TokenCachePersistenceOptions</span>
</span><span id="DeviceCodeCredential-53"><a href="#DeviceCodeCredential-53"><span class="linenos"> 53</span></a><span class="sd">    :keyword bool disable_instance_discovery: Determines whether or not instance discovery is performed when attempting</span>
</span><span id="DeviceCodeCredential-54"><a href="#DeviceCodeCredential-54"><span class="linenos"> 54</span></a><span class="sd">        to authenticate. Setting this to true will completely disable both instance discovery and authority validation.</span>
</span><span id="DeviceCodeCredential-55"><a href="#DeviceCodeCredential-55"><span class="linenos"> 55</span></a><span class="sd">        This functionality is intended for use in scenarios where the metadata endpoint cannot be reached, such as in</span>
</span><span id="DeviceCodeCredential-56"><a href="#DeviceCodeCredential-56"><span class="linenos"> 56</span></a><span class="sd">        private clouds or Azure Stack. The process of instance discovery entails retrieving authority metadata from</span>
</span><span id="DeviceCodeCredential-57"><a href="#DeviceCodeCredential-57"><span class="linenos"> 57</span></a><span class="sd">        https://login.microsoft.com/ to validate the authority. By setting this to **True**, the validation of the</span>
</span><span id="DeviceCodeCredential-58"><a href="#DeviceCodeCredential-58"><span class="linenos"> 58</span></a><span class="sd">        authority is disabled. As a result, it is crucial to ensure that the configured authority host is valid and</span>
</span><span id="DeviceCodeCredential-59"><a href="#DeviceCodeCredential-59"><span class="linenos"> 59</span></a><span class="sd">        trustworthy.</span>
</span><span id="DeviceCodeCredential-60"><a href="#DeviceCodeCredential-60"><span class="linenos"> 60</span></a><span class="sd">    :keyword bool enable_support_logging: Enables additional support logging in the underlying MSAL library.</span>
</span><span id="DeviceCodeCredential-61"><a href="#DeviceCodeCredential-61"><span class="linenos"> 61</span></a><span class="sd">        This logging potentially contains personally identifiable information and is intended to be used only for</span>
</span><span id="DeviceCodeCredential-62"><a href="#DeviceCodeCredential-62"><span class="linenos"> 62</span></a><span class="sd">        troubleshooting purposes.</span>
</span><span id="DeviceCodeCredential-63"><a href="#DeviceCodeCredential-63"><span class="linenos"> 63</span></a>
</span><span id="DeviceCodeCredential-64"><a href="#DeviceCodeCredential-64"><span class="linenos"> 64</span></a><span class="sd">    .. admonition:: Example:</span>
</span><span id="DeviceCodeCredential-65"><a href="#DeviceCodeCredential-65"><span class="linenos"> 65</span></a>
</span><span id="DeviceCodeCredential-66"><a href="#DeviceCodeCredential-66"><span class="linenos"> 66</span></a><span class="sd">        .. literalinclude:: ../samples/credential_creation_code_snippets.py</span>
</span><span id="DeviceCodeCredential-67"><a href="#DeviceCodeCredential-67"><span class="linenos"> 67</span></a><span class="sd">            :start-after: [START create_device_code_credential]</span>
</span><span id="DeviceCodeCredential-68"><a href="#DeviceCodeCredential-68"><span class="linenos"> 68</span></a><span class="sd">            :end-before: [END create_device_code_credential]</span>
</span><span id="DeviceCodeCredential-69"><a href="#DeviceCodeCredential-69"><span class="linenos"> 69</span></a><span class="sd">            :language: python</span>
</span><span id="DeviceCodeCredential-70"><a href="#DeviceCodeCredential-70"><span class="linenos"> 70</span></a><span class="sd">            :dedent: 4</span>
</span><span id="DeviceCodeCredential-71"><a href="#DeviceCodeCredential-71"><span class="linenos"> 71</span></a><span class="sd">            :caption: Create a DeviceCodeCredential.</span>
</span><span id="DeviceCodeCredential-72"><a href="#DeviceCodeCredential-72"><span class="linenos"> 72</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="DeviceCodeCredential-73"><a href="#DeviceCodeCredential-73"><span class="linenos"> 73</span></a>
</span><span id="DeviceCodeCredential-74"><a href="#DeviceCodeCredential-74"><span class="linenos"> 74</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="DeviceCodeCredential-75"><a href="#DeviceCodeCredential-75"><span class="linenos"> 75</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="DeviceCodeCredential-76"><a href="#DeviceCodeCredential-76"><span class="linenos"> 76</span></a>        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEVELOPER_SIGN_ON_CLIENT_ID</span><span class="p">,</span>
</span><span id="DeviceCodeCredential-77"><a href="#DeviceCodeCredential-77"><span class="linenos"> 77</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="DeviceCodeCredential-78"><a href="#DeviceCodeCredential-78"><span class="linenos"> 78</span></a>        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="DeviceCodeCredential-79"><a href="#DeviceCodeCredential-79"><span class="linenos"> 79</span></a>        <span class="n">prompt_callback</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">datetime</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="DeviceCodeCredential-80"><a href="#DeviceCodeCredential-80"><span class="linenos"> 80</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="DeviceCodeCredential-81"><a href="#DeviceCodeCredential-81"><span class="linenos"> 81</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeviceCodeCredential-82"><a href="#DeviceCodeCredential-82"><span class="linenos"> 82</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_timeout</span> <span class="o">=</span> <span class="n">timeout</span>
</span><span id="DeviceCodeCredential-83"><a href="#DeviceCodeCredential-83"><span class="linenos"> 83</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_prompt_callback</span> <span class="o">=</span> <span class="n">prompt_callback</span>
</span><span id="DeviceCodeCredential-84"><a href="#DeviceCodeCredential-84"><span class="linenos"> 84</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">DeviceCodeCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DeviceCodeCredential-85"><a href="#DeviceCodeCredential-85"><span class="linenos"> 85</span></a>
</span><span id="DeviceCodeCredential-86"><a href="#DeviceCodeCredential-86"><span class="linenos"> 86</span></a>    <span class="nd">@wrap_exceptions</span>
</span><span id="DeviceCodeCredential-87"><a href="#DeviceCodeCredential-87"><span class="linenos"> 87</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_request_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
</span><span id="DeviceCodeCredential-88"><a href="#DeviceCodeCredential-88"><span class="linenos"> 88</span></a>        <span class="c1"># MSAL requires scopes be a list</span>
</span><span id="DeviceCodeCredential-89"><a href="#DeviceCodeCredential-89"><span class="linenos"> 89</span></a>        <span class="n">scopes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">scopes</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="DeviceCodeCredential-90"><a href="#DeviceCodeCredential-90"><span class="linenos"> 90</span></a>
</span><span id="DeviceCodeCredential-91"><a href="#DeviceCodeCredential-91"><span class="linenos"> 91</span></a>        <span class="n">app</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_app</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DeviceCodeCredential-92"><a href="#DeviceCodeCredential-92"><span class="linenos"> 92</span></a>        <span class="n">flow</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">initiate_device_flow</span><span class="p">(</span><span class="n">scopes</span><span class="p">)</span>
</span><span id="DeviceCodeCredential-93"><a href="#DeviceCodeCredential-93"><span class="linenos"> 93</span></a>        <span class="k">if</span> <span class="s2">&quot;error&quot;</span> <span class="ow">in</span> <span class="n">flow</span><span class="p">:</span>
</span><span id="DeviceCodeCredential-94"><a href="#DeviceCodeCredential-94"><span class="linenos"> 94</span></a>            <span class="k">raise</span> <span class="n">ClientAuthenticationError</span><span class="p">(</span>
</span><span id="DeviceCodeCredential-95"><a href="#DeviceCodeCredential-95"><span class="linenos"> 95</span></a>                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Couldn&#39;t begin authentication: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">flow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">flow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">))</span>
</span><span id="DeviceCodeCredential-96"><a href="#DeviceCodeCredential-96"><span class="linenos"> 96</span></a>            <span class="p">)</span>
</span><span id="DeviceCodeCredential-97"><a href="#DeviceCodeCredential-97"><span class="linenos"> 97</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prompt_callback</span><span class="p">:</span>
</span><span id="DeviceCodeCredential-98"><a href="#DeviceCodeCredential-98"><span class="linenos"> 98</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_prompt_callback</span><span class="p">(</span>
</span><span id="DeviceCodeCredential-99"><a href="#DeviceCodeCredential-99"><span class="linenos"> 99</span></a>                <span class="n">flow</span><span class="p">[</span><span class="s2">&quot;verification_uri&quot;</span><span class="p">],</span> <span class="n">flow</span><span class="p">[</span><span class="s2">&quot;user_code&quot;</span><span class="p">],</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">flow</span><span class="p">[</span><span class="s2">&quot;expires_at&quot;</span><span class="p">],</span> <span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
</span><span id="DeviceCodeCredential-100"><a href="#DeviceCodeCredential-100"><span class="linenos">100</span></a>            <span class="p">)</span>
</span><span id="DeviceCodeCredential-101"><a href="#DeviceCodeCredential-101"><span class="linenos">101</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DeviceCodeCredential-102"><a href="#DeviceCodeCredential-102"><span class="linenos">102</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">flow</span><span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">])</span>
</span><span id="DeviceCodeCredential-103"><a href="#DeviceCodeCredential-103"><span class="linenos">103</span></a>
</span><span id="DeviceCodeCredential-104"><a href="#DeviceCodeCredential-104"><span class="linenos">104</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timeout</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timeout</span> <span class="o">&lt;</span> <span class="n">flow</span><span class="p">[</span><span class="s2">&quot;expires_in&quot;</span><span class="p">]:</span>
</span><span id="DeviceCodeCredential-105"><a href="#DeviceCodeCredential-105"><span class="linenos">105</span></a>            <span class="c1"># user specified an effective timeout we will observe</span>
</span><span id="DeviceCodeCredential-106"><a href="#DeviceCodeCredential-106"><span class="linenos">106</span></a>            <span class="n">deadline</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timeout</span>
</span><span id="DeviceCodeCredential-107"><a href="#DeviceCodeCredential-107"><span class="linenos">107</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">acquire_token_by_device_flow</span><span class="p">(</span>
</span><span id="DeviceCodeCredential-108"><a href="#DeviceCodeCredential-108"><span class="linenos">108</span></a>                <span class="n">flow</span><span class="p">,</span> <span class="n">exit_condition</span><span class="o">=</span><span class="k">lambda</span> <span class="n">flow</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">deadline</span><span class="p">,</span> <span class="n">claims_challenge</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;claims&quot;</span><span class="p">)</span>
</span><span id="DeviceCodeCredential-109"><a href="#DeviceCodeCredential-109"><span class="linenos">109</span></a>            <span class="p">)</span>
</span><span id="DeviceCodeCredential-110"><a href="#DeviceCodeCredential-110"><span class="linenos">110</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DeviceCodeCredential-111"><a href="#DeviceCodeCredential-111"><span class="linenos">111</span></a>            <span class="c1"># MSAL will stop polling when the device code expires</span>
</span><span id="DeviceCodeCredential-112"><a href="#DeviceCodeCredential-112"><span class="linenos">112</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">acquire_token_by_device_flow</span><span class="p">(</span><span class="n">flow</span><span class="p">,</span> <span class="n">claims_challenge</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;claims&quot;</span><span class="p">))</span>
</span><span id="DeviceCodeCredential-113"><a href="#DeviceCodeCredential-113"><span class="linenos">113</span></a>
</span><span id="DeviceCodeCredential-114"><a href="#DeviceCodeCredential-114"><span class="linenos">114</span></a>        <span class="c1"># raise for a timeout here because the error is particular to this class</span>
</span><span id="DeviceCodeCredential-115"><a href="#DeviceCodeCredential-115"><span class="linenos">115</span></a>        <span class="k">if</span> <span class="s2">&quot;access_token&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">result</span> <span class="ow">and</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;authorization_pending&quot;</span><span class="p">:</span>
</span><span id="DeviceCodeCredential-116"><a href="#DeviceCodeCredential-116"><span class="linenos">116</span></a>            <span class="k">raise</span> <span class="n">ClientAuthenticationError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;Timed out waiting for user to authenticate&quot;</span><span class="p">)</span>
</span><span id="DeviceCodeCredential-117"><a href="#DeviceCodeCredential-117"><span class="linenos">117</span></a>
</span><span id="DeviceCodeCredential-118"><a href="#DeviceCodeCredential-118"><span class="linenos">118</span></a>        <span class="c1"># base class will raise for other errors</span>
</span><span id="DeviceCodeCredential-119"><a href="#DeviceCodeCredential-119"><span class="linenos">119</span></a>        <span class="k">return</span> <span class="n">result</span>
</span></pre></div>


            <div class="docstring"><p>Authenticates users through the device code flow.</p>

<p>When <code><a href="#DeviceCodeCredential.get_token">get_token()</a></code> is called, this credential acquires a verification URL and code from Microsoft Entra ID.
A user must browse to the URL, enter the code, and authenticate with Microsoft Entra ID. If the user
authenticates successfully, the credential receives an access token.</p>

<p>This credential is primarily useful for authenticating a user in an environment without a web browser, such as an
SSH session. If a web browser is available, <code>~<a href="#InteractiveBrowserCredential">azure.identity.InteractiveBrowserCredential</a></code> is more
convenient because it automatically opens a browser to the login page.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>str client_id</strong>:  Client ID of the Microsoft Entra application that users will sign into. It is recommended
that developers register their applications and assign appropriate roles. For more information,
visit <a href="https://aka.ms/azsdk/identity/AppRegistrationAndRoleAssignment">https://aka.ms/azsdk/identity/AppRegistrationAndRoleAssignment</a>. If not specified, users will
authenticate to an Azure development application, which is not recommended for production scenarios.
:keyword str authority: Authority of a Microsoft Entra endpoint, for example "login.microsoftonline.com",
the authority for Azure Public Cloud (which is the default). <code>~<a href="#AzureAuthorityHosts">azure.identity.AzureAuthorityHosts</a></code>
defines authorities for other clouds.
:keyword str tenant_id: a Microsoft Entra tenant ID. Defaults to the "organizations" tenant, which can
authenticate work or school accounts. *<em>Required for single-tenant applications.</em>*
:keyword int timeout: seconds to wait for the user to authenticate. Defaults to the validity period of the
device code as set by Microsoft Entra ID, which also prevails when <strong>timeout</strong> is longer.
:keyword prompt_callback: A callback enabling control of how authentication
instructions are presented. Must accept arguments (<code>verification_uri</code>, <code>user_code</code>, <code>expires_on</code>):</p>

<ul>
<li><code>verification_uri</code> (str) the URL the user must visit</li>
<li><code>user_code</code> (str) the code the user must enter there</li>
<li><code>expires_on</code> (datetime.datetime) the UTC time at which the code will expire</li>
</ul>

<p>If this argument isn't provided, the credential will print instructions to stdout.
:paramtype prompt_callback: Callable[str, str, ~datetime.datetime]
:keyword AuthenticationRecord authentication_record: <code><a href="#AuthenticationRecord">AuthenticationRecord</a></code> returned by <code><a href="#DeviceCodeCredential.authenticate">authenticate()</a></code>
:keyword bool disable_automatic_authentication: if True, <code><a href="#DeviceCodeCredential.get_token">get_token()</a></code> will raise
<code><a href="#AuthenticationRequiredError">AuthenticationRequiredError</a></code> when user interaction is required to acquire a token. Defaults to False.
:keyword cache_persistence_options: configuration for persistent token caching. If unspecified, the credential
will cache tokens in memory.
:paramtype cache_persistence_options: ~<a href="#TokenCachePersistenceOptions">azure.identity.TokenCachePersistenceOptions</a>
:keyword bool disable_instance_discovery: Determines whether or not instance discovery is performed when attempting
to authenticate. Setting this to true will completely disable both instance discovery and authority validation.
This functionality is intended for use in scenarios where the metadata endpoint cannot be reached, such as in
private clouds or Azure Stack. The process of instance discovery entails retrieving authority metadata from
<a href="https://login.microsoft.com/">https://login.microsoft.com/</a> to validate the authority. By setting this to <strong>True</strong>, the validation of the
authority is disabled. As a result, it is crucial to ensure that the configured authority host is valid and
trustworthy.
:keyword bool enable_support_logging: Enables additional support logging in the underlying MSAL library.
This logging potentially contains personally identifiable information and is intended to be used only for
troubleshooting purposes.</p></li>
</ul>

<p>.. admonition:: Example:</p>

<pre><code>.. literalinclude:: ../samples/credential_creation_code_snippets.py
    :start-after: [START create_device_code_credential]
    :end-before: [END create_device_code_credential]
    :language: python
    :dedent: 4
    :caption: Create a DeviceCodeCredential.
</code></pre>
</div>


                            <div id="DeviceCodeCredential.__init__" class="classattr">
                                        <input id="DeviceCodeCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">DeviceCodeCredential</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;04b07795-8ddb-461a-bbee-02f9e1bf7b46&#39;</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">prompt_callback</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="DeviceCodeCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeviceCodeCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeviceCodeCredential.__init__-74"><a href="#DeviceCodeCredential.__init__-74"><span class="linenos">74</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="DeviceCodeCredential.__init__-75"><a href="#DeviceCodeCredential.__init__-75"><span class="linenos">75</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="DeviceCodeCredential.__init__-76"><a href="#DeviceCodeCredential.__init__-76"><span class="linenos">76</span></a>        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEVELOPER_SIGN_ON_CLIENT_ID</span><span class="p">,</span>
</span><span id="DeviceCodeCredential.__init__-77"><a href="#DeviceCodeCredential.__init__-77"><span class="linenos">77</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="DeviceCodeCredential.__init__-78"><a href="#DeviceCodeCredential.__init__-78"><span class="linenos">78</span></a>        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="DeviceCodeCredential.__init__-79"><a href="#DeviceCodeCredential.__init__-79"><span class="linenos">79</span></a>        <span class="n">prompt_callback</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">datetime</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="DeviceCodeCredential.__init__-80"><a href="#DeviceCodeCredential.__init__-80"><span class="linenos">80</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="DeviceCodeCredential.__init__-81"><a href="#DeviceCodeCredential.__init__-81"><span class="linenos">81</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeviceCodeCredential.__init__-82"><a href="#DeviceCodeCredential.__init__-82"><span class="linenos">82</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_timeout</span> <span class="o">=</span> <span class="n">timeout</span>
</span><span id="DeviceCodeCredential.__init__-83"><a href="#DeviceCodeCredential.__init__-83"><span class="linenos">83</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_prompt_callback</span> <span class="o">=</span> <span class="n">prompt_callback</span>
</span><span id="DeviceCodeCredential.__init__-84"><a href="#DeviceCodeCredential.__init__-84"><span class="linenos">84</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">DeviceCodeCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="EnvironmentCredential">
                            <input id="EnvironmentCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">EnvironmentCredential</span>:

                <label class="view-source-button" for="EnvironmentCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EnvironmentCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EnvironmentCredential-25"><a href="#EnvironmentCredential-25"><span class="linenos"> 25</span></a><span class="k">class</span><span class="w"> </span><span class="nc">EnvironmentCredential</span><span class="p">:</span>
</span><span id="EnvironmentCredential-26"><a href="#EnvironmentCredential-26"><span class="linenos"> 26</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A credential configured by environment variables.</span>
</span><span id="EnvironmentCredential-27"><a href="#EnvironmentCredential-27"><span class="linenos"> 27</span></a>
</span><span id="EnvironmentCredential-28"><a href="#EnvironmentCredential-28"><span class="linenos"> 28</span></a><span class="sd">    This credential is capable of authenticating as a service principal using a client secret or a certificate.</span>
</span><span id="EnvironmentCredential-29"><a href="#EnvironmentCredential-29"><span class="linenos"> 29</span></a><span class="sd">    Configuration is attempted in this order, using these environment variables:</span>
</span><span id="EnvironmentCredential-30"><a href="#EnvironmentCredential-30"><span class="linenos"> 30</span></a>
</span><span id="EnvironmentCredential-31"><a href="#EnvironmentCredential-31"><span class="linenos"> 31</span></a><span class="sd">    Service principal with secret:</span>
</span><span id="EnvironmentCredential-32"><a href="#EnvironmentCredential-32"><span class="linenos"> 32</span></a><span class="sd">      - **AZURE_TENANT_ID**: ID of the service principal&#39;s tenant. Also called its &#39;directory&#39; ID.</span>
</span><span id="EnvironmentCredential-33"><a href="#EnvironmentCredential-33"><span class="linenos"> 33</span></a><span class="sd">      - **AZURE_CLIENT_ID**: the service principal&#39;s client ID</span>
</span><span id="EnvironmentCredential-34"><a href="#EnvironmentCredential-34"><span class="linenos"> 34</span></a><span class="sd">      - **AZURE_CLIENT_SECRET**: one of the service principal&#39;s client secrets</span>
</span><span id="EnvironmentCredential-35"><a href="#EnvironmentCredential-35"><span class="linenos"> 35</span></a><span class="sd">      - **AZURE_AUTHORITY_HOST**: authority of a Microsoft Entra endpoint, for example</span>
</span><span id="EnvironmentCredential-36"><a href="#EnvironmentCredential-36"><span class="linenos"> 36</span></a><span class="sd">        &quot;login.microsoftonline.com&quot;, the authority for Azure Public Cloud, which is the default</span>
</span><span id="EnvironmentCredential-37"><a href="#EnvironmentCredential-37"><span class="linenos"> 37</span></a><span class="sd">        when no value is given.</span>
</span><span id="EnvironmentCredential-38"><a href="#EnvironmentCredential-38"><span class="linenos"> 38</span></a>
</span><span id="EnvironmentCredential-39"><a href="#EnvironmentCredential-39"><span class="linenos"> 39</span></a><span class="sd">    Service principal with certificate:</span>
</span><span id="EnvironmentCredential-40"><a href="#EnvironmentCredential-40"><span class="linenos"> 40</span></a><span class="sd">      - **AZURE_TENANT_ID**: ID of the service principal&#39;s tenant. Also called its &#39;directory&#39; ID.</span>
</span><span id="EnvironmentCredential-41"><a href="#EnvironmentCredential-41"><span class="linenos"> 41</span></a><span class="sd">      - **AZURE_CLIENT_ID**: the service principal&#39;s client ID</span>
</span><span id="EnvironmentCredential-42"><a href="#EnvironmentCredential-42"><span class="linenos"> 42</span></a><span class="sd">      - **AZURE_CLIENT_CERTIFICATE_PATH**: path to a PEM or PKCS12 certificate file including the private key.</span>
</span><span id="EnvironmentCredential-43"><a href="#EnvironmentCredential-43"><span class="linenos"> 43</span></a><span class="sd">      - **AZURE_CLIENT_CERTIFICATE_PASSWORD**: (optional) password of the certificate file, if any.</span>
</span><span id="EnvironmentCredential-44"><a href="#EnvironmentCredential-44"><span class="linenos"> 44</span></a><span class="sd">      - **AZURE_CLIENT_SEND_CERTIFICATE_CHAIN**: (optional) If True, the credential will send the public certificate</span>
</span><span id="EnvironmentCredential-45"><a href="#EnvironmentCredential-45"><span class="linenos"> 45</span></a><span class="sd">        chain in the x5c header of each token request&#39;s JWT. This is required for Subject Name/Issuer (SNI)</span>
</span><span id="EnvironmentCredential-46"><a href="#EnvironmentCredential-46"><span class="linenos"> 46</span></a><span class="sd">        authentication. Defaults to False.</span>
</span><span id="EnvironmentCredential-47"><a href="#EnvironmentCredential-47"><span class="linenos"> 47</span></a><span class="sd">      - **AZURE_AUTHORITY_HOST**: authority of a Microsoft Entra endpoint, for example</span>
</span><span id="EnvironmentCredential-48"><a href="#EnvironmentCredential-48"><span class="linenos"> 48</span></a><span class="sd">        &quot;login.microsoftonline.com&quot;, the authority for Azure Public Cloud, which is the default</span>
</span><span id="EnvironmentCredential-49"><a href="#EnvironmentCredential-49"><span class="linenos"> 49</span></a><span class="sd">        when no value is given.</span>
</span><span id="EnvironmentCredential-50"><a href="#EnvironmentCredential-50"><span class="linenos"> 50</span></a>
</span><span id="EnvironmentCredential-51"><a href="#EnvironmentCredential-51"><span class="linenos"> 51</span></a><span class="sd">    .. admonition:: Example:</span>
</span><span id="EnvironmentCredential-52"><a href="#EnvironmentCredential-52"><span class="linenos"> 52</span></a>
</span><span id="EnvironmentCredential-53"><a href="#EnvironmentCredential-53"><span class="linenos"> 53</span></a><span class="sd">        .. literalinclude:: ../samples/credential_creation_code_snippets.py</span>
</span><span id="EnvironmentCredential-54"><a href="#EnvironmentCredential-54"><span class="linenos"> 54</span></a><span class="sd">            :start-after: [START create_environment_credential]</span>
</span><span id="EnvironmentCredential-55"><a href="#EnvironmentCredential-55"><span class="linenos"> 55</span></a><span class="sd">            :end-before: [END create_environment_credential]</span>
</span><span id="EnvironmentCredential-56"><a href="#EnvironmentCredential-56"><span class="linenos"> 56</span></a><span class="sd">            :language: python</span>
</span><span id="EnvironmentCredential-57"><a href="#EnvironmentCredential-57"><span class="linenos"> 57</span></a><span class="sd">            :dedent: 4</span>
</span><span id="EnvironmentCredential-58"><a href="#EnvironmentCredential-58"><span class="linenos"> 58</span></a><span class="sd">            :caption: Create an EnvironmentCredential.</span>
</span><span id="EnvironmentCredential-59"><a href="#EnvironmentCredential-59"><span class="linenos"> 59</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="EnvironmentCredential-60"><a href="#EnvironmentCredential-60"><span class="linenos"> 60</span></a>
</span><span id="EnvironmentCredential-61"><a href="#EnvironmentCredential-61"><span class="linenos"> 61</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="EnvironmentCredential-62"><a href="#EnvironmentCredential-62"><span class="linenos"> 62</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">EnvironmentCredentialTypes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="EnvironmentCredential-63"><a href="#EnvironmentCredential-63"><span class="linenos"> 63</span></a>
</span><span id="EnvironmentCredential-64"><a href="#EnvironmentCredential-64"><span class="linenos"> 64</span></a>        <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">CLIENT_SECRET_VARS</span><span class="p">):</span>
</span><span id="EnvironmentCredential-65"><a href="#EnvironmentCredential-65"><span class="linenos"> 65</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">ClientSecretCredential</span><span class="p">(</span>
</span><span id="EnvironmentCredential-66"><a href="#EnvironmentCredential-66"><span class="linenos"> 66</span></a>                <span class="n">client_id</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_ID</span><span class="p">],</span>
</span><span id="EnvironmentCredential-67"><a href="#EnvironmentCredential-67"><span class="linenos"> 67</span></a>                <span class="n">client_secret</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_SECRET</span><span class="p">],</span>
</span><span id="EnvironmentCredential-68"><a href="#EnvironmentCredential-68"><span class="linenos"> 68</span></a>                <span class="n">tenant_id</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_TENANT_ID</span><span class="p">],</span>
</span><span id="EnvironmentCredential-69"><a href="#EnvironmentCredential-69"><span class="linenos"> 69</span></a>                <span class="o">**</span><span class="n">kwargs</span>
</span><span id="EnvironmentCredential-70"><a href="#EnvironmentCredential-70"><span class="linenos"> 70</span></a>            <span class="p">)</span>
</span><span id="EnvironmentCredential-71"><a href="#EnvironmentCredential-71"><span class="linenos"> 71</span></a>        <span class="k">elif</span> <span class="nb">all</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">CERT_VARS</span><span class="p">):</span>
</span><span id="EnvironmentCredential-72"><a href="#EnvironmentCredential-72"><span class="linenos"> 72</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">CertificateCredential</span><span class="p">(</span>
</span><span id="EnvironmentCredential-73"><a href="#EnvironmentCredential-73"><span class="linenos"> 73</span></a>                <span class="n">client_id</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_ID</span><span class="p">],</span>
</span><span id="EnvironmentCredential-74"><a href="#EnvironmentCredential-74"><span class="linenos"> 74</span></a>                <span class="n">tenant_id</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_TENANT_ID</span><span class="p">],</span>
</span><span id="EnvironmentCredential-75"><a href="#EnvironmentCredential-75"><span class="linenos"> 75</span></a>                <span class="n">certificate_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_CERTIFICATE_PATH</span><span class="p">],</span>
</span><span id="EnvironmentCredential-76"><a href="#EnvironmentCredential-76"><span class="linenos"> 76</span></a>                <span class="n">password</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_CERTIFICATE_PASSWORD</span><span class="p">),</span>
</span><span id="EnvironmentCredential-77"><a href="#EnvironmentCredential-77"><span class="linenos"> 77</span></a>                <span class="n">send_certificate_chain</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span>
</span><span id="EnvironmentCredential-78"><a href="#EnvironmentCredential-78"><span class="linenos"> 78</span></a>                    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_SEND_CERTIFICATE_CHAIN</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="EnvironmentCredential-79"><a href="#EnvironmentCredential-79"><span class="linenos"> 79</span></a>                <span class="p">),</span>
</span><span id="EnvironmentCredential-80"><a href="#EnvironmentCredential-80"><span class="linenos"> 80</span></a>                <span class="o">**</span><span class="n">kwargs</span>
</span><span id="EnvironmentCredential-81"><a href="#EnvironmentCredential-81"><span class="linenos"> 81</span></a>            <span class="p">)</span>
</span><span id="EnvironmentCredential-82"><a href="#EnvironmentCredential-82"><span class="linenos"> 82</span></a>        <span class="k">elif</span> <span class="nb">all</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">USERNAME_PASSWORD_VARS</span><span class="p">):</span>
</span><span id="EnvironmentCredential-83"><a href="#EnvironmentCredential-83"><span class="linenos"> 83</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">UsernamePasswordCredential</span><span class="p">(</span>
</span><span id="EnvironmentCredential-84"><a href="#EnvironmentCredential-84"><span class="linenos"> 84</span></a>                <span class="n">client_id</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_ID</span><span class="p">],</span>
</span><span id="EnvironmentCredential-85"><a href="#EnvironmentCredential-85"><span class="linenos"> 85</span></a>                <span class="n">username</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_USERNAME</span><span class="p">],</span>
</span><span id="EnvironmentCredential-86"><a href="#EnvironmentCredential-86"><span class="linenos"> 86</span></a>                <span class="n">password</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_PASSWORD</span><span class="p">],</span>
</span><span id="EnvironmentCredential-87"><a href="#EnvironmentCredential-87"><span class="linenos"> 87</span></a>                <span class="n">tenant_id</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_TENANT_ID</span><span class="p">),</span>  <span class="c1"># optional for username/password auth</span>
</span><span id="EnvironmentCredential-88"><a href="#EnvironmentCredential-88"><span class="linenos"> 88</span></a>                <span class="n">_silence_deprecation_warning</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># avoid duplicate warning</span>
</span><span id="EnvironmentCredential-89"><a href="#EnvironmentCredential-89"><span class="linenos"> 89</span></a>                <span class="o">**</span><span class="n">kwargs</span>
</span><span id="EnvironmentCredential-90"><a href="#EnvironmentCredential-90"><span class="linenos"> 90</span></a>            <span class="p">)</span>
</span><span id="EnvironmentCredential-91"><a href="#EnvironmentCredential-91"><span class="linenos"> 91</span></a>            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
</span><span id="EnvironmentCredential-92"><a href="#EnvironmentCredential-92"><span class="linenos"> 92</span></a>                <span class="s2">&quot;Environment is configured to use username and password authentication. &quot;</span>
</span><span id="EnvironmentCredential-93"><a href="#EnvironmentCredential-93"><span class="linenos"> 93</span></a>                <span class="s2">&quot;This authentication method is deprecated, as it doesn&#39;t support multifactor authentication (MFA). &quot;</span>
</span><span id="EnvironmentCredential-94"><a href="#EnvironmentCredential-94"><span class="linenos"> 94</span></a>                <span class="s2">&quot;For more details, see https://aka.ms/azsdk/identity/mfa.&quot;</span><span class="p">,</span>
</span><span id="EnvironmentCredential-95"><a href="#EnvironmentCredential-95"><span class="linenos"> 95</span></a>                <span class="ne">DeprecationWarning</span><span class="p">,</span>
</span><span id="EnvironmentCredential-96"><a href="#EnvironmentCredential-96"><span class="linenos"> 96</span></a>                <span class="n">stacklevel</span><span class="o">=</span><span class="mi">3</span> <span class="k">if</span> <span class="n">within_dac</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="k">else</span> <span class="mi">2</span><span class="p">,</span>
</span><span id="EnvironmentCredential-97"><a href="#EnvironmentCredential-97"><span class="linenos"> 97</span></a>            <span class="p">)</span>
</span><span id="EnvironmentCredential-98"><a href="#EnvironmentCredential-98"><span class="linenos"> 98</span></a>
</span><span id="EnvironmentCredential-99"><a href="#EnvironmentCredential-99"><span class="linenos"> 99</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span>
</span><span id="EnvironmentCredential-100"><a href="#EnvironmentCredential-100"><span class="linenos">100</span></a>            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Environment is configured for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="EnvironmentCredential-101"><a href="#EnvironmentCredential-101"><span class="linenos">101</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="EnvironmentCredential-102"><a href="#EnvironmentCredential-102"><span class="linenos">102</span></a>            <span class="n">expected_variables</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
</span><span id="EnvironmentCredential-103"><a href="#EnvironmentCredential-103"><span class="linenos">103</span></a>                <span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">CERT_VARS</span>
</span><span id="EnvironmentCredential-104"><a href="#EnvironmentCredential-104"><span class="linenos">104</span></a>                <span class="o">+</span> <span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">CLIENT_SECRET_VARS</span>
</span><span id="EnvironmentCredential-105"><a href="#EnvironmentCredential-105"><span class="linenos">105</span></a>                <span class="o">+</span> <span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">USERNAME_PASSWORD_VARS</span>
</span><span id="EnvironmentCredential-106"><a href="#EnvironmentCredential-106"><span class="linenos">106</span></a>            <span class="p">)</span>
</span><span id="EnvironmentCredential-107"><a href="#EnvironmentCredential-107"><span class="linenos">107</span></a>            <span class="n">set_variables</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">expected_variables</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">]</span>
</span><span id="EnvironmentCredential-108"><a href="#EnvironmentCredential-108"><span class="linenos">108</span></a>            <span class="k">if</span> <span class="n">set_variables</span><span class="p">:</span>
</span><span id="EnvironmentCredential-109"><a href="#EnvironmentCredential-109"><span class="linenos">109</span></a>                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">log</span><span class="p">(</span>
</span><span id="EnvironmentCredential-110"><a href="#EnvironmentCredential-110"><span class="linenos">110</span></a>                    <span class="n">logging</span><span class="o">.</span><span class="n">INFO</span> <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_within_dac&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">,</span>
</span><span id="EnvironmentCredential-111"><a href="#EnvironmentCredential-111"><span class="linenos">111</span></a>                    <span class="s2">&quot;Incomplete environment configuration for EnvironmentCredential. These variables are set: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="EnvironmentCredential-112"><a href="#EnvironmentCredential-112"><span class="linenos">112</span></a>                    <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">set_variables</span><span class="p">),</span>
</span><span id="EnvironmentCredential-113"><a href="#EnvironmentCredential-113"><span class="linenos">113</span></a>                <span class="p">)</span>
</span><span id="EnvironmentCredential-114"><a href="#EnvironmentCredential-114"><span class="linenos">114</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="EnvironmentCredential-115"><a href="#EnvironmentCredential-115"><span class="linenos">115</span></a>                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;No environment configuration found.&quot;</span><span class="p">)</span>
</span><span id="EnvironmentCredential-116"><a href="#EnvironmentCredential-116"><span class="linenos">116</span></a>
</span><span id="EnvironmentCredential-117"><a href="#EnvironmentCredential-117"><span class="linenos">117</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;EnvironmentCredential&quot;</span><span class="p">:</span>
</span><span id="EnvironmentCredential-118"><a href="#EnvironmentCredential-118"><span class="linenos">118</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span>
</span><span id="EnvironmentCredential-119"><a href="#EnvironmentCredential-119"><span class="linenos">119</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="o">.</span><span class="fm">__enter__</span><span class="p">()</span>
</span><span id="EnvironmentCredential-120"><a href="#EnvironmentCredential-120"><span class="linenos">120</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="EnvironmentCredential-121"><a href="#EnvironmentCredential-121"><span class="linenos">121</span></a>
</span><span id="EnvironmentCredential-122"><a href="#EnvironmentCredential-122"><span class="linenos">122</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="EnvironmentCredential-123"><a href="#EnvironmentCredential-123"><span class="linenos">123</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span>
</span><span id="EnvironmentCredential-124"><a href="#EnvironmentCredential-124"><span class="linenos">124</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
</span><span id="EnvironmentCredential-125"><a href="#EnvironmentCredential-125"><span class="linenos">125</span></a>
</span><span id="EnvironmentCredential-126"><a href="#EnvironmentCredential-126"><span class="linenos">126</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="EnvironmentCredential-127"><a href="#EnvironmentCredential-127"><span class="linenos">127</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the credential&#39;s transport session.&quot;&quot;&quot;</span>
</span><span id="EnvironmentCredential-128"><a href="#EnvironmentCredential-128"><span class="linenos">128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">()</span>
</span><span id="EnvironmentCredential-129"><a href="#EnvironmentCredential-129"><span class="linenos">129</span></a>
</span><span id="EnvironmentCredential-130"><a href="#EnvironmentCredential-130"><span class="linenos">130</span></a>    <span class="nd">@log_get_token</span>
</span><span id="EnvironmentCredential-131"><a href="#EnvironmentCredential-131"><span class="linenos">131</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="EnvironmentCredential-132"><a href="#EnvironmentCredential-132"><span class="linenos">132</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="EnvironmentCredential-133"><a href="#EnvironmentCredential-133"><span class="linenos">133</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="EnvironmentCredential-134"><a href="#EnvironmentCredential-134"><span class="linenos">134</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="EnvironmentCredential-135"><a href="#EnvironmentCredential-135"><span class="linenos">135</span></a>
</span><span id="EnvironmentCredential-136"><a href="#EnvironmentCredential-136"><span class="linenos">136</span></a><span class="sd">        This method is called automatically by Azure SDK clients.</span>
</span><span id="EnvironmentCredential-137"><a href="#EnvironmentCredential-137"><span class="linenos">137</span></a>
</span><span id="EnvironmentCredential-138"><a href="#EnvironmentCredential-138"><span class="linenos">138</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="EnvironmentCredential-139"><a href="#EnvironmentCredential-139"><span class="linenos">139</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="EnvironmentCredential-140"><a href="#EnvironmentCredential-140"><span class="linenos">140</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="EnvironmentCredential-141"><a href="#EnvironmentCredential-141"><span class="linenos">141</span></a><span class="sd">        :keyword str claims: additional claims required in the token, such as those returned in a resource provider&#39;s</span>
</span><span id="EnvironmentCredential-142"><a href="#EnvironmentCredential-142"><span class="linenos">142</span></a><span class="sd">            claims challenge following an authorization failure.</span>
</span><span id="EnvironmentCredential-143"><a href="#EnvironmentCredential-143"><span class="linenos">143</span></a><span class="sd">        :keyword str tenant_id: optional tenant to include in the token request.</span>
</span><span id="EnvironmentCredential-144"><a href="#EnvironmentCredential-144"><span class="linenos">144</span></a>
</span><span id="EnvironmentCredential-145"><a href="#EnvironmentCredential-145"><span class="linenos">145</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="EnvironmentCredential-146"><a href="#EnvironmentCredential-146"><span class="linenos">146</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="EnvironmentCredential-147"><a href="#EnvironmentCredential-147"><span class="linenos">147</span></a>
</span><span id="EnvironmentCredential-148"><a href="#EnvironmentCredential-148"><span class="linenos">148</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: environment variable configuration is incomplete</span>
</span><span id="EnvironmentCredential-149"><a href="#EnvironmentCredential-149"><span class="linenos">149</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="EnvironmentCredential-150"><a href="#EnvironmentCredential-150"><span class="linenos">150</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span>
</span><span id="EnvironmentCredential-151"><a href="#EnvironmentCredential-151"><span class="linenos">151</span></a>            <span class="n">message</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="EnvironmentCredential-152"><a href="#EnvironmentCredential-152"><span class="linenos">152</span></a>                <span class="s2">&quot;EnvironmentCredential authentication unavailable. Environment variables are not fully configured.</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="EnvironmentCredential-153"><a href="#EnvironmentCredential-153"><span class="linenos">153</span></a>                <span class="s2">&quot;Visit https://aka.ms/azsdk/python/identity/environmentcredential/troubleshoot to troubleshoot &quot;</span>
</span><span id="EnvironmentCredential-154"><a href="#EnvironmentCredential-154"><span class="linenos">154</span></a>                <span class="s2">&quot;this issue.&quot;</span>
</span><span id="EnvironmentCredential-155"><a href="#EnvironmentCredential-155"><span class="linenos">155</span></a>            <span class="p">)</span>
</span><span id="EnvironmentCredential-156"><a href="#EnvironmentCredential-156"><span class="linenos">156</span></a>            <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
</span><span id="EnvironmentCredential-157"><a href="#EnvironmentCredential-157"><span class="linenos">157</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="EnvironmentCredential-158"><a href="#EnvironmentCredential-158"><span class="linenos">158</span></a>
</span><span id="EnvironmentCredential-159"><a href="#EnvironmentCredential-159"><span class="linenos">159</span></a>    <span class="nd">@log_get_token</span>
</span><span id="EnvironmentCredential-160"><a href="#EnvironmentCredential-160"><span class="linenos">160</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="EnvironmentCredential-161"><a href="#EnvironmentCredential-161"><span class="linenos">161</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="EnvironmentCredential-162"><a href="#EnvironmentCredential-162"><span class="linenos">162</span></a>
</span><span id="EnvironmentCredential-163"><a href="#EnvironmentCredential-163"><span class="linenos">163</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="EnvironmentCredential-164"><a href="#EnvironmentCredential-164"><span class="linenos">164</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients.</span>
</span><span id="EnvironmentCredential-165"><a href="#EnvironmentCredential-165"><span class="linenos">165</span></a>
</span><span id="EnvironmentCredential-166"><a href="#EnvironmentCredential-166"><span class="linenos">166</span></a><span class="sd">        :param str scopes: desired scope for the access token. This method requires at least one scope.</span>
</span><span id="EnvironmentCredential-167"><a href="#EnvironmentCredential-167"><span class="linenos">167</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="EnvironmentCredential-168"><a href="#EnvironmentCredential-168"><span class="linenos">168</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="EnvironmentCredential-169"><a href="#EnvironmentCredential-169"><span class="linenos">169</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="EnvironmentCredential-170"><a href="#EnvironmentCredential-170"><span class="linenos">170</span></a>
</span><span id="EnvironmentCredential-171"><a href="#EnvironmentCredential-171"><span class="linenos">171</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="EnvironmentCredential-172"><a href="#EnvironmentCredential-172"><span class="linenos">172</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="EnvironmentCredential-173"><a href="#EnvironmentCredential-173"><span class="linenos">173</span></a>
</span><span id="EnvironmentCredential-174"><a href="#EnvironmentCredential-174"><span class="linenos">174</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: environment variable configuration is incomplete.</span>
</span><span id="EnvironmentCredential-175"><a href="#EnvironmentCredential-175"><span class="linenos">175</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="EnvironmentCredential-176"><a href="#EnvironmentCredential-176"><span class="linenos">176</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span>
</span><span id="EnvironmentCredential-177"><a href="#EnvironmentCredential-177"><span class="linenos">177</span></a>            <span class="n">message</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="EnvironmentCredential-178"><a href="#EnvironmentCredential-178"><span class="linenos">178</span></a>                <span class="s2">&quot;EnvironmentCredential authentication unavailable. Environment variables are not fully configured.</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="EnvironmentCredential-179"><a href="#EnvironmentCredential-179"><span class="linenos">179</span></a>                <span class="s2">&quot;Visit https://aka.ms/azsdk/python/identity/environmentcredential/troubleshoot to troubleshoot &quot;</span>
</span><span id="EnvironmentCredential-180"><a href="#EnvironmentCredential-180"><span class="linenos">180</span></a>                <span class="s2">&quot;this issue.&quot;</span>
</span><span id="EnvironmentCredential-181"><a href="#EnvironmentCredential-181"><span class="linenos">181</span></a>            <span class="p">)</span>
</span><span id="EnvironmentCredential-182"><a href="#EnvironmentCredential-182"><span class="linenos">182</span></a>            <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
</span><span id="EnvironmentCredential-183"><a href="#EnvironmentCredential-183"><span class="linenos">183</span></a>        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">SupportsTokenInfo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>A credential configured by environment variables.</p>

<p>This credential is capable of authenticating as a service principal using a client secret or a certificate.
Configuration is attempted in this order, using these environment variables:</p>

<p>Service principal with secret:</p>

<ul>
<li><strong>AZURE_TENANT_ID</strong>: ID of the service principal's tenant. Also called its 'directory' ID.</li>
<li><strong>AZURE_CLIENT_ID</strong>: the service principal's client ID</li>
<li><strong>AZURE_CLIENT_SECRET</strong>: one of the service principal's client secrets</li>
<li><strong>AZURE_AUTHORITY_HOST</strong>: authority of a Microsoft Entra endpoint, for example
"login.microsoftonline.com", the authority for Azure Public Cloud, which is the default
when no value is given.</li>
</ul>

<p>Service principal with certificate:</p>

<ul>
<li><strong>AZURE_TENANT_ID</strong>: ID of the service principal's tenant. Also called its 'directory' ID.</li>
<li><strong>AZURE_CLIENT_ID</strong>: the service principal's client ID</li>
<li><strong>AZURE_CLIENT_CERTIFICATE_PATH</strong>: path to a PEM or PKCS12 certificate file including the private key.</li>
<li><strong>AZURE_CLIENT_CERTIFICATE_PASSWORD</strong>: (optional) password of the certificate file, if any.</li>
<li><strong>AZURE_CLIENT_SEND_CERTIFICATE_CHAIN</strong>: (optional) If True, the credential will send the public certificate
chain in the x5c header of each token request's JWT. This is required for Subject Name/Issuer (SNI)
authentication. Defaults to False.</li>
<li><strong>AZURE_AUTHORITY_HOST</strong>: authority of a Microsoft Entra endpoint, for example
"login.microsoftonline.com", the authority for Azure Public Cloud, which is the default
when no value is given.</li>
</ul>

<p>.. admonition:: Example:</p>

<pre><code>.. literalinclude:: ../samples/credential_creation_code_snippets.py
    :start-after: [START create_environment_credential]
    :end-before: [END create_environment_credential]
    :language: python
    :dedent: 4
    :caption: Create an EnvironmentCredential.
</code></pre>
</div>


                            <div id="EnvironmentCredential.__init__" class="classattr">
                                        <input id="EnvironmentCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">EnvironmentCredential</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="EnvironmentCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EnvironmentCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EnvironmentCredential.__init__-61"><a href="#EnvironmentCredential.__init__-61"><span class="linenos"> 61</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="EnvironmentCredential.__init__-62"><a href="#EnvironmentCredential.__init__-62"><span class="linenos"> 62</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">EnvironmentCredentialTypes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="EnvironmentCredential.__init__-63"><a href="#EnvironmentCredential.__init__-63"><span class="linenos"> 63</span></a>
</span><span id="EnvironmentCredential.__init__-64"><a href="#EnvironmentCredential.__init__-64"><span class="linenos"> 64</span></a>        <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">CLIENT_SECRET_VARS</span><span class="p">):</span>
</span><span id="EnvironmentCredential.__init__-65"><a href="#EnvironmentCredential.__init__-65"><span class="linenos"> 65</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">ClientSecretCredential</span><span class="p">(</span>
</span><span id="EnvironmentCredential.__init__-66"><a href="#EnvironmentCredential.__init__-66"><span class="linenos"> 66</span></a>                <span class="n">client_id</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_ID</span><span class="p">],</span>
</span><span id="EnvironmentCredential.__init__-67"><a href="#EnvironmentCredential.__init__-67"><span class="linenos"> 67</span></a>                <span class="n">client_secret</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_SECRET</span><span class="p">],</span>
</span><span id="EnvironmentCredential.__init__-68"><a href="#EnvironmentCredential.__init__-68"><span class="linenos"> 68</span></a>                <span class="n">tenant_id</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_TENANT_ID</span><span class="p">],</span>
</span><span id="EnvironmentCredential.__init__-69"><a href="#EnvironmentCredential.__init__-69"><span class="linenos"> 69</span></a>                <span class="o">**</span><span class="n">kwargs</span>
</span><span id="EnvironmentCredential.__init__-70"><a href="#EnvironmentCredential.__init__-70"><span class="linenos"> 70</span></a>            <span class="p">)</span>
</span><span id="EnvironmentCredential.__init__-71"><a href="#EnvironmentCredential.__init__-71"><span class="linenos"> 71</span></a>        <span class="k">elif</span> <span class="nb">all</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">CERT_VARS</span><span class="p">):</span>
</span><span id="EnvironmentCredential.__init__-72"><a href="#EnvironmentCredential.__init__-72"><span class="linenos"> 72</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">CertificateCredential</span><span class="p">(</span>
</span><span id="EnvironmentCredential.__init__-73"><a href="#EnvironmentCredential.__init__-73"><span class="linenos"> 73</span></a>                <span class="n">client_id</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_ID</span><span class="p">],</span>
</span><span id="EnvironmentCredential.__init__-74"><a href="#EnvironmentCredential.__init__-74"><span class="linenos"> 74</span></a>                <span class="n">tenant_id</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_TENANT_ID</span><span class="p">],</span>
</span><span id="EnvironmentCredential.__init__-75"><a href="#EnvironmentCredential.__init__-75"><span class="linenos"> 75</span></a>                <span class="n">certificate_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_CERTIFICATE_PATH</span><span class="p">],</span>
</span><span id="EnvironmentCredential.__init__-76"><a href="#EnvironmentCredential.__init__-76"><span class="linenos"> 76</span></a>                <span class="n">password</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_CERTIFICATE_PASSWORD</span><span class="p">),</span>
</span><span id="EnvironmentCredential.__init__-77"><a href="#EnvironmentCredential.__init__-77"><span class="linenos"> 77</span></a>                <span class="n">send_certificate_chain</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span>
</span><span id="EnvironmentCredential.__init__-78"><a href="#EnvironmentCredential.__init__-78"><span class="linenos"> 78</span></a>                    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_SEND_CERTIFICATE_CHAIN</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="EnvironmentCredential.__init__-79"><a href="#EnvironmentCredential.__init__-79"><span class="linenos"> 79</span></a>                <span class="p">),</span>
</span><span id="EnvironmentCredential.__init__-80"><a href="#EnvironmentCredential.__init__-80"><span class="linenos"> 80</span></a>                <span class="o">**</span><span class="n">kwargs</span>
</span><span id="EnvironmentCredential.__init__-81"><a href="#EnvironmentCredential.__init__-81"><span class="linenos"> 81</span></a>            <span class="p">)</span>
</span><span id="EnvironmentCredential.__init__-82"><a href="#EnvironmentCredential.__init__-82"><span class="linenos"> 82</span></a>        <span class="k">elif</span> <span class="nb">all</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">USERNAME_PASSWORD_VARS</span><span class="p">):</span>
</span><span id="EnvironmentCredential.__init__-83"><a href="#EnvironmentCredential.__init__-83"><span class="linenos"> 83</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">UsernamePasswordCredential</span><span class="p">(</span>
</span><span id="EnvironmentCredential.__init__-84"><a href="#EnvironmentCredential.__init__-84"><span class="linenos"> 84</span></a>                <span class="n">client_id</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_ID</span><span class="p">],</span>
</span><span id="EnvironmentCredential.__init__-85"><a href="#EnvironmentCredential.__init__-85"><span class="linenos"> 85</span></a>                <span class="n">username</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_USERNAME</span><span class="p">],</span>
</span><span id="EnvironmentCredential.__init__-86"><a href="#EnvironmentCredential.__init__-86"><span class="linenos"> 86</span></a>                <span class="n">password</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_PASSWORD</span><span class="p">],</span>
</span><span id="EnvironmentCredential.__init__-87"><a href="#EnvironmentCredential.__init__-87"><span class="linenos"> 87</span></a>                <span class="n">tenant_id</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_TENANT_ID</span><span class="p">),</span>  <span class="c1"># optional for username/password auth</span>
</span><span id="EnvironmentCredential.__init__-88"><a href="#EnvironmentCredential.__init__-88"><span class="linenos"> 88</span></a>                <span class="n">_silence_deprecation_warning</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># avoid duplicate warning</span>
</span><span id="EnvironmentCredential.__init__-89"><a href="#EnvironmentCredential.__init__-89"><span class="linenos"> 89</span></a>                <span class="o">**</span><span class="n">kwargs</span>
</span><span id="EnvironmentCredential.__init__-90"><a href="#EnvironmentCredential.__init__-90"><span class="linenos"> 90</span></a>            <span class="p">)</span>
</span><span id="EnvironmentCredential.__init__-91"><a href="#EnvironmentCredential.__init__-91"><span class="linenos"> 91</span></a>            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
</span><span id="EnvironmentCredential.__init__-92"><a href="#EnvironmentCredential.__init__-92"><span class="linenos"> 92</span></a>                <span class="s2">&quot;Environment is configured to use username and password authentication. &quot;</span>
</span><span id="EnvironmentCredential.__init__-93"><a href="#EnvironmentCredential.__init__-93"><span class="linenos"> 93</span></a>                <span class="s2">&quot;This authentication method is deprecated, as it doesn&#39;t support multifactor authentication (MFA). &quot;</span>
</span><span id="EnvironmentCredential.__init__-94"><a href="#EnvironmentCredential.__init__-94"><span class="linenos"> 94</span></a>                <span class="s2">&quot;For more details, see https://aka.ms/azsdk/identity/mfa.&quot;</span><span class="p">,</span>
</span><span id="EnvironmentCredential.__init__-95"><a href="#EnvironmentCredential.__init__-95"><span class="linenos"> 95</span></a>                <span class="ne">DeprecationWarning</span><span class="p">,</span>
</span><span id="EnvironmentCredential.__init__-96"><a href="#EnvironmentCredential.__init__-96"><span class="linenos"> 96</span></a>                <span class="n">stacklevel</span><span class="o">=</span><span class="mi">3</span> <span class="k">if</span> <span class="n">within_dac</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="k">else</span> <span class="mi">2</span><span class="p">,</span>
</span><span id="EnvironmentCredential.__init__-97"><a href="#EnvironmentCredential.__init__-97"><span class="linenos"> 97</span></a>            <span class="p">)</span>
</span><span id="EnvironmentCredential.__init__-98"><a href="#EnvironmentCredential.__init__-98"><span class="linenos"> 98</span></a>
</span><span id="EnvironmentCredential.__init__-99"><a href="#EnvironmentCredential.__init__-99"><span class="linenos"> 99</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span>
</span><span id="EnvironmentCredential.__init__-100"><a href="#EnvironmentCredential.__init__-100"><span class="linenos">100</span></a>            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Environment is configured for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="EnvironmentCredential.__init__-101"><a href="#EnvironmentCredential.__init__-101"><span class="linenos">101</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="EnvironmentCredential.__init__-102"><a href="#EnvironmentCredential.__init__-102"><span class="linenos">102</span></a>            <span class="n">expected_variables</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
</span><span id="EnvironmentCredential.__init__-103"><a href="#EnvironmentCredential.__init__-103"><span class="linenos">103</span></a>                <span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">CERT_VARS</span>
</span><span id="EnvironmentCredential.__init__-104"><a href="#EnvironmentCredential.__init__-104"><span class="linenos">104</span></a>                <span class="o">+</span> <span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">CLIENT_SECRET_VARS</span>
</span><span id="EnvironmentCredential.__init__-105"><a href="#EnvironmentCredential.__init__-105"><span class="linenos">105</span></a>                <span class="o">+</span> <span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">USERNAME_PASSWORD_VARS</span>
</span><span id="EnvironmentCredential.__init__-106"><a href="#EnvironmentCredential.__init__-106"><span class="linenos">106</span></a>            <span class="p">)</span>
</span><span id="EnvironmentCredential.__init__-107"><a href="#EnvironmentCredential.__init__-107"><span class="linenos">107</span></a>            <span class="n">set_variables</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">expected_variables</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">]</span>
</span><span id="EnvironmentCredential.__init__-108"><a href="#EnvironmentCredential.__init__-108"><span class="linenos">108</span></a>            <span class="k">if</span> <span class="n">set_variables</span><span class="p">:</span>
</span><span id="EnvironmentCredential.__init__-109"><a href="#EnvironmentCredential.__init__-109"><span class="linenos">109</span></a>                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">log</span><span class="p">(</span>
</span><span id="EnvironmentCredential.__init__-110"><a href="#EnvironmentCredential.__init__-110"><span class="linenos">110</span></a>                    <span class="n">logging</span><span class="o">.</span><span class="n">INFO</span> <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_within_dac&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">,</span>
</span><span id="EnvironmentCredential.__init__-111"><a href="#EnvironmentCredential.__init__-111"><span class="linenos">111</span></a>                    <span class="s2">&quot;Incomplete environment configuration for EnvironmentCredential. These variables are set: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="EnvironmentCredential.__init__-112"><a href="#EnvironmentCredential.__init__-112"><span class="linenos">112</span></a>                    <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">set_variables</span><span class="p">),</span>
</span><span id="EnvironmentCredential.__init__-113"><a href="#EnvironmentCredential.__init__-113"><span class="linenos">113</span></a>                <span class="p">)</span>
</span><span id="EnvironmentCredential.__init__-114"><a href="#EnvironmentCredential.__init__-114"><span class="linenos">114</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="EnvironmentCredential.__init__-115"><a href="#EnvironmentCredential.__init__-115"><span class="linenos">115</span></a>                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;No environment configuration found.&quot;</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="EnvironmentCredential.close" class="classattr">
                                        <input id="EnvironmentCredential.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="EnvironmentCredential.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EnvironmentCredential.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EnvironmentCredential.close-126"><a href="#EnvironmentCredential.close-126"><span class="linenos">126</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="EnvironmentCredential.close-127"><a href="#EnvironmentCredential.close-127"><span class="linenos">127</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the credential&#39;s transport session.&quot;&quot;&quot;</span>
</span><span id="EnvironmentCredential.close-128"><a href="#EnvironmentCredential.close-128"><span class="linenos">128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Close the credential's transport session.</p>
</div>


                            </div>
                            <div id="EnvironmentCredential.get_token" class="classattr">
                                        <input id="EnvironmentCredential.get_token-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-log_get_token">@log_get_token</div>

        <span class="def">def</span>
        <span class="name">get_token</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessToken</span>:</span></span>

                <label class="view-source-button" for="EnvironmentCredential.get_token-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EnvironmentCredential.get_token"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EnvironmentCredential.get_token-130"><a href="#EnvironmentCredential.get_token-130"><span class="linenos">130</span></a>    <span class="nd">@log_get_token</span>
</span><span id="EnvironmentCredential.get_token-131"><a href="#EnvironmentCredential.get_token-131"><span class="linenos">131</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="EnvironmentCredential.get_token-132"><a href="#EnvironmentCredential.get_token-132"><span class="linenos">132</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="EnvironmentCredential.get_token-133"><a href="#EnvironmentCredential.get_token-133"><span class="linenos">133</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="EnvironmentCredential.get_token-134"><a href="#EnvironmentCredential.get_token-134"><span class="linenos">134</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="EnvironmentCredential.get_token-135"><a href="#EnvironmentCredential.get_token-135"><span class="linenos">135</span></a>
</span><span id="EnvironmentCredential.get_token-136"><a href="#EnvironmentCredential.get_token-136"><span class="linenos">136</span></a><span class="sd">        This method is called automatically by Azure SDK clients.</span>
</span><span id="EnvironmentCredential.get_token-137"><a href="#EnvironmentCredential.get_token-137"><span class="linenos">137</span></a>
</span><span id="EnvironmentCredential.get_token-138"><a href="#EnvironmentCredential.get_token-138"><span class="linenos">138</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="EnvironmentCredential.get_token-139"><a href="#EnvironmentCredential.get_token-139"><span class="linenos">139</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="EnvironmentCredential.get_token-140"><a href="#EnvironmentCredential.get_token-140"><span class="linenos">140</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="EnvironmentCredential.get_token-141"><a href="#EnvironmentCredential.get_token-141"><span class="linenos">141</span></a><span class="sd">        :keyword str claims: additional claims required in the token, such as those returned in a resource provider&#39;s</span>
</span><span id="EnvironmentCredential.get_token-142"><a href="#EnvironmentCredential.get_token-142"><span class="linenos">142</span></a><span class="sd">            claims challenge following an authorization failure.</span>
</span><span id="EnvironmentCredential.get_token-143"><a href="#EnvironmentCredential.get_token-143"><span class="linenos">143</span></a><span class="sd">        :keyword str tenant_id: optional tenant to include in the token request.</span>
</span><span id="EnvironmentCredential.get_token-144"><a href="#EnvironmentCredential.get_token-144"><span class="linenos">144</span></a>
</span><span id="EnvironmentCredential.get_token-145"><a href="#EnvironmentCredential.get_token-145"><span class="linenos">145</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="EnvironmentCredential.get_token-146"><a href="#EnvironmentCredential.get_token-146"><span class="linenos">146</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="EnvironmentCredential.get_token-147"><a href="#EnvironmentCredential.get_token-147"><span class="linenos">147</span></a>
</span><span id="EnvironmentCredential.get_token-148"><a href="#EnvironmentCredential.get_token-148"><span class="linenos">148</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: environment variable configuration is incomplete</span>
</span><span id="EnvironmentCredential.get_token-149"><a href="#EnvironmentCredential.get_token-149"><span class="linenos">149</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="EnvironmentCredential.get_token-150"><a href="#EnvironmentCredential.get_token-150"><span class="linenos">150</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span>
</span><span id="EnvironmentCredential.get_token-151"><a href="#EnvironmentCredential.get_token-151"><span class="linenos">151</span></a>            <span class="n">message</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="EnvironmentCredential.get_token-152"><a href="#EnvironmentCredential.get_token-152"><span class="linenos">152</span></a>                <span class="s2">&quot;EnvironmentCredential authentication unavailable. Environment variables are not fully configured.</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="EnvironmentCredential.get_token-153"><a href="#EnvironmentCredential.get_token-153"><span class="linenos">153</span></a>                <span class="s2">&quot;Visit https://aka.ms/azsdk/python/identity/environmentcredential/troubleshoot to troubleshoot &quot;</span>
</span><span id="EnvironmentCredential.get_token-154"><a href="#EnvironmentCredential.get_token-154"><span class="linenos">154</span></a>                <span class="s2">&quot;this issue.&quot;</span>
</span><span id="EnvironmentCredential.get_token-155"><a href="#EnvironmentCredential.get_token-155"><span class="linenos">155</span></a>            <span class="p">)</span>
</span><span id="EnvironmentCredential.get_token-156"><a href="#EnvironmentCredential.get_token-156"><span class="linenos">156</span></a>            <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
</span><span id="EnvironmentCredential.get_token-157"><a href="#EnvironmentCredential.get_token-157"><span class="linenos">157</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code>.</p>

<p>This method is called automatically by Azure SDK clients.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scopes for the access token. This method requires at least one scope.
For more information about scopes, see
<a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword str claims: additional claims required in the token, such as those returned in a resource provider's
claims challenge following an authorization failure.
:keyword str tenant_id: optional tenant to include in the token request.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An access token with the desired scopes.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~<a href="#CredentialUnavailableError">azure.identity.CredentialUnavailableError</a></strong>:  environment variable configuration is incomplete</li>
</ul>
</div>


                            </div>
                            <div id="EnvironmentCredential.get_token_info" class="classattr">
                                        <input id="EnvironmentCredential.get_token_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-log_get_token">@log_get_token</div>

        <span class="def">def</span>
        <span class="name">get_token_info</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessTokenInfo</span>:</span></span>

                <label class="view-source-button" for="EnvironmentCredential.get_token_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EnvironmentCredential.get_token_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EnvironmentCredential.get_token_info-159"><a href="#EnvironmentCredential.get_token_info-159"><span class="linenos">159</span></a>    <span class="nd">@log_get_token</span>
</span><span id="EnvironmentCredential.get_token_info-160"><a href="#EnvironmentCredential.get_token_info-160"><span class="linenos">160</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="EnvironmentCredential.get_token_info-161"><a href="#EnvironmentCredential.get_token_info-161"><span class="linenos">161</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="EnvironmentCredential.get_token_info-162"><a href="#EnvironmentCredential.get_token_info-162"><span class="linenos">162</span></a>
</span><span id="EnvironmentCredential.get_token_info-163"><a href="#EnvironmentCredential.get_token_info-163"><span class="linenos">163</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="EnvironmentCredential.get_token_info-164"><a href="#EnvironmentCredential.get_token_info-164"><span class="linenos">164</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients.</span>
</span><span id="EnvironmentCredential.get_token_info-165"><a href="#EnvironmentCredential.get_token_info-165"><span class="linenos">165</span></a>
</span><span id="EnvironmentCredential.get_token_info-166"><a href="#EnvironmentCredential.get_token_info-166"><span class="linenos">166</span></a><span class="sd">        :param str scopes: desired scope for the access token. This method requires at least one scope.</span>
</span><span id="EnvironmentCredential.get_token_info-167"><a href="#EnvironmentCredential.get_token_info-167"><span class="linenos">167</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="EnvironmentCredential.get_token_info-168"><a href="#EnvironmentCredential.get_token_info-168"><span class="linenos">168</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="EnvironmentCredential.get_token_info-169"><a href="#EnvironmentCredential.get_token_info-169"><span class="linenos">169</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="EnvironmentCredential.get_token_info-170"><a href="#EnvironmentCredential.get_token_info-170"><span class="linenos">170</span></a>
</span><span id="EnvironmentCredential.get_token_info-171"><a href="#EnvironmentCredential.get_token_info-171"><span class="linenos">171</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="EnvironmentCredential.get_token_info-172"><a href="#EnvironmentCredential.get_token_info-172"><span class="linenos">172</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="EnvironmentCredential.get_token_info-173"><a href="#EnvironmentCredential.get_token_info-173"><span class="linenos">173</span></a>
</span><span id="EnvironmentCredential.get_token_info-174"><a href="#EnvironmentCredential.get_token_info-174"><span class="linenos">174</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: environment variable configuration is incomplete.</span>
</span><span id="EnvironmentCredential.get_token_info-175"><a href="#EnvironmentCredential.get_token_info-175"><span class="linenos">175</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="EnvironmentCredential.get_token_info-176"><a href="#EnvironmentCredential.get_token_info-176"><span class="linenos">176</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span>
</span><span id="EnvironmentCredential.get_token_info-177"><a href="#EnvironmentCredential.get_token_info-177"><span class="linenos">177</span></a>            <span class="n">message</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="EnvironmentCredential.get_token_info-178"><a href="#EnvironmentCredential.get_token_info-178"><span class="linenos">178</span></a>                <span class="s2">&quot;EnvironmentCredential authentication unavailable. Environment variables are not fully configured.</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="EnvironmentCredential.get_token_info-179"><a href="#EnvironmentCredential.get_token_info-179"><span class="linenos">179</span></a>                <span class="s2">&quot;Visit https://aka.ms/azsdk/python/identity/environmentcredential/troubleshoot to troubleshoot &quot;</span>
</span><span id="EnvironmentCredential.get_token_info-180"><a href="#EnvironmentCredential.get_token_info-180"><span class="linenos">180</span></a>                <span class="s2">&quot;this issue.&quot;</span>
</span><span id="EnvironmentCredential.get_token_info-181"><a href="#EnvironmentCredential.get_token_info-181"><span class="linenos">181</span></a>            <span class="p">)</span>
</span><span id="EnvironmentCredential.get_token_info-182"><a href="#EnvironmentCredential.get_token_info-182"><span class="linenos">182</span></a>            <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
</span><span id="EnvironmentCredential.get_token_info-183"><a href="#EnvironmentCredential.get_token_info-183"><span class="linenos">183</span></a>        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">SupportsTokenInfo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code>.</p>

<p>This is an alternative to <code><a href="#EnvironmentCredential.get_token">get_token</a></code> to enable certain scenarios that require additional properties
on the token. This method is called automatically by Azure SDK clients.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scope for the access token. This method requires at least one scope.
For more information about scopes, see <a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.
:paramtype options: ~azure.core.credentials.TokenRequestOptions</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An AccessTokenInfo instance containing information about the token.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~<a href="#CredentialUnavailableError">azure.identity.CredentialUnavailableError</a></strong>:  environment variable configuration is incomplete.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="InteractiveBrowserCredential">
                            <input id="InteractiveBrowserCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">InteractiveBrowserCredential</span><wbr>(<span class="base">azure.identity._internal.interactive.InteractiveCredential</span>):

                <label class="view-source-button" for="InteractiveBrowserCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InteractiveBrowserCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InteractiveBrowserCredential-20"><a href="#InteractiveBrowserCredential-20"><span class="linenos"> 20</span></a><span class="k">class</span><span class="w"> </span><span class="nc">InteractiveBrowserCredential</span><span class="p">(</span><span class="n">InteractiveCredential</span><span class="p">):</span>
</span><span id="InteractiveBrowserCredential-21"><a href="#InteractiveBrowserCredential-21"><span class="linenos"> 21</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Opens a browser to interactively authenticate a user.</span>
</span><span id="InteractiveBrowserCredential-22"><a href="#InteractiveBrowserCredential-22"><span class="linenos"> 22</span></a>
</span><span id="InteractiveBrowserCredential-23"><a href="#InteractiveBrowserCredential-23"><span class="linenos"> 23</span></a><span class="sd">    :func:`~get_token` opens a browser to a login URL provided by Microsoft Entra ID and authenticates a user</span>
</span><span id="InteractiveBrowserCredential-24"><a href="#InteractiveBrowserCredential-24"><span class="linenos"> 24</span></a><span class="sd">    there with the authorization code flow, using PKCE (Proof Key for Code Exchange) internally to protect the code.</span>
</span><span id="InteractiveBrowserCredential-25"><a href="#InteractiveBrowserCredential-25"><span class="linenos"> 25</span></a>
</span><span id="InteractiveBrowserCredential-26"><a href="#InteractiveBrowserCredential-26"><span class="linenos"> 26</span></a><span class="sd">    :keyword str authority: Authority of a Microsoft Entra endpoint, for example &quot;login.microsoftonline.com&quot;,</span>
</span><span id="InteractiveBrowserCredential-27"><a href="#InteractiveBrowserCredential-27"><span class="linenos"> 27</span></a><span class="sd">        the authority for Azure Public Cloud (which is the default). :class:`~azure.identity.AzureAuthorityHosts`</span>
</span><span id="InteractiveBrowserCredential-28"><a href="#InteractiveBrowserCredential-28"><span class="linenos"> 28</span></a><span class="sd">        defines authorities for other clouds.</span>
</span><span id="InteractiveBrowserCredential-29"><a href="#InteractiveBrowserCredential-29"><span class="linenos"> 29</span></a><span class="sd">    :keyword str tenant_id: a Microsoft Entra tenant ID. Defaults to the &quot;organizations&quot; tenant, which can</span>
</span><span id="InteractiveBrowserCredential-30"><a href="#InteractiveBrowserCredential-30"><span class="linenos"> 30</span></a><span class="sd">        authenticate work or school accounts.</span>
</span><span id="InteractiveBrowserCredential-31"><a href="#InteractiveBrowserCredential-31"><span class="linenos"> 31</span></a><span class="sd">    :keyword str client_id: Client ID of the Microsoft Entra application that users will sign into. It is recommended</span>
</span><span id="InteractiveBrowserCredential-32"><a href="#InteractiveBrowserCredential-32"><span class="linenos"> 32</span></a><span class="sd">        that developers register their applications and assign appropriate roles. For more information,</span>
</span><span id="InteractiveBrowserCredential-33"><a href="#InteractiveBrowserCredential-33"><span class="linenos"> 33</span></a><span class="sd">        visit https://aka.ms/azsdk/identity/AppRegistrationAndRoleAssignment. If not specified, users will</span>
</span><span id="InteractiveBrowserCredential-34"><a href="#InteractiveBrowserCredential-34"><span class="linenos"> 34</span></a><span class="sd">        authenticate to an Azure development application, which is not recommended for production scenarios.</span>
</span><span id="InteractiveBrowserCredential-35"><a href="#InteractiveBrowserCredential-35"><span class="linenos"> 35</span></a><span class="sd">    :keyword str login_hint: a username suggestion to pre-fill the login page&#39;s username/email address field. A user</span>
</span><span id="InteractiveBrowserCredential-36"><a href="#InteractiveBrowserCredential-36"><span class="linenos"> 36</span></a><span class="sd">        may still log in with a different username.</span>
</span><span id="InteractiveBrowserCredential-37"><a href="#InteractiveBrowserCredential-37"><span class="linenos"> 37</span></a><span class="sd">    :keyword str redirect_uri: a redirect URI for the application identified by `client_id` as configured in Azure</span>
</span><span id="InteractiveBrowserCredential-38"><a href="#InteractiveBrowserCredential-38"><span class="linenos"> 38</span></a><span class="sd">        Active Directory, for example &quot;http://localhost:8400&quot;. This is only required when passing a value for</span>
</span><span id="InteractiveBrowserCredential-39"><a href="#InteractiveBrowserCredential-39"><span class="linenos"> 39</span></a><span class="sd">        **client_id**, and must match a redirect URI in the application&#39;s registration. The credential must be able to</span>
</span><span id="InteractiveBrowserCredential-40"><a href="#InteractiveBrowserCredential-40"><span class="linenos"> 40</span></a><span class="sd">        bind a socket to this URI.</span>
</span><span id="InteractiveBrowserCredential-41"><a href="#InteractiveBrowserCredential-41"><span class="linenos"> 41</span></a><span class="sd">    :keyword AuthenticationRecord authentication_record: :class:`AuthenticationRecord` returned by :func:`authenticate`</span>
</span><span id="InteractiveBrowserCredential-42"><a href="#InteractiveBrowserCredential-42"><span class="linenos"> 42</span></a><span class="sd">    :keyword bool disable_automatic_authentication: if True, :func:`get_token` will raise</span>
</span><span id="InteractiveBrowserCredential-43"><a href="#InteractiveBrowserCredential-43"><span class="linenos"> 43</span></a><span class="sd">        :class:`AuthenticationRequiredError` when user interaction is required to acquire a token. Defaults to False.</span>
</span><span id="InteractiveBrowserCredential-44"><a href="#InteractiveBrowserCredential-44"><span class="linenos"> 44</span></a><span class="sd">    :keyword cache_persistence_options: configuration for persistent token caching. If unspecified, the credential</span>
</span><span id="InteractiveBrowserCredential-45"><a href="#InteractiveBrowserCredential-45"><span class="linenos"> 45</span></a><span class="sd">        will cache tokens in memory.</span>
</span><span id="InteractiveBrowserCredential-46"><a href="#InteractiveBrowserCredential-46"><span class="linenos"> 46</span></a><span class="sd">    :paramtype cache_persistence_options: ~azure.identity.TokenCachePersistenceOptions</span>
</span><span id="InteractiveBrowserCredential-47"><a href="#InteractiveBrowserCredential-47"><span class="linenos"> 47</span></a><span class="sd">    :keyword int timeout: seconds to wait for the user to complete authentication. Defaults to 300 (5 minutes).</span>
</span><span id="InteractiveBrowserCredential-48"><a href="#InteractiveBrowserCredential-48"><span class="linenos"> 48</span></a><span class="sd">    :keyword bool disable_instance_discovery: Determines whether or not instance discovery is performed when attempting</span>
</span><span id="InteractiveBrowserCredential-49"><a href="#InteractiveBrowserCredential-49"><span class="linenos"> 49</span></a><span class="sd">        to authenticate. Setting this to true will completely disable both instance discovery and authority validation.</span>
</span><span id="InteractiveBrowserCredential-50"><a href="#InteractiveBrowserCredential-50"><span class="linenos"> 50</span></a><span class="sd">        This functionality is intended for use in scenarios where the metadata endpoint cannot be reached, such as in</span>
</span><span id="InteractiveBrowserCredential-51"><a href="#InteractiveBrowserCredential-51"><span class="linenos"> 51</span></a><span class="sd">        private clouds or Azure Stack. The process of instance discovery entails retrieving authority metadata from</span>
</span><span id="InteractiveBrowserCredential-52"><a href="#InteractiveBrowserCredential-52"><span class="linenos"> 52</span></a><span class="sd">        https://login.microsoft.com/ to validate the authority. By setting this to **True**, the validation of the</span>
</span><span id="InteractiveBrowserCredential-53"><a href="#InteractiveBrowserCredential-53"><span class="linenos"> 53</span></a><span class="sd">        authority is disabled. As a result, it is crucial to ensure that the configured authority host is valid and</span>
</span><span id="InteractiveBrowserCredential-54"><a href="#InteractiveBrowserCredential-54"><span class="linenos"> 54</span></a><span class="sd">        trustworthy.</span>
</span><span id="InteractiveBrowserCredential-55"><a href="#InteractiveBrowserCredential-55"><span class="linenos"> 55</span></a><span class="sd">    :keyword bool enable_support_logging: Enables additional support logging in the underlying MSAL library.</span>
</span><span id="InteractiveBrowserCredential-56"><a href="#InteractiveBrowserCredential-56"><span class="linenos"> 56</span></a><span class="sd">        This logging potentially contains personally identifiable information and is intended to be used only for</span>
</span><span id="InteractiveBrowserCredential-57"><a href="#InteractiveBrowserCredential-57"><span class="linenos"> 57</span></a><span class="sd">        troubleshooting purposes.</span>
</span><span id="InteractiveBrowserCredential-58"><a href="#InteractiveBrowserCredential-58"><span class="linenos"> 58</span></a><span class="sd">    :raises ValueError: invalid **redirect_uri**</span>
</span><span id="InteractiveBrowserCredential-59"><a href="#InteractiveBrowserCredential-59"><span class="linenos"> 59</span></a>
</span><span id="InteractiveBrowserCredential-60"><a href="#InteractiveBrowserCredential-60"><span class="linenos"> 60</span></a><span class="sd">    .. admonition:: Example:</span>
</span><span id="InteractiveBrowserCredential-61"><a href="#InteractiveBrowserCredential-61"><span class="linenos"> 61</span></a>
</span><span id="InteractiveBrowserCredential-62"><a href="#InteractiveBrowserCredential-62"><span class="linenos"> 62</span></a><span class="sd">        .. literalinclude:: ../samples/credential_creation_code_snippets.py</span>
</span><span id="InteractiveBrowserCredential-63"><a href="#InteractiveBrowserCredential-63"><span class="linenos"> 63</span></a><span class="sd">            :start-after: [START create_interactive_browser_credential]</span>
</span><span id="InteractiveBrowserCredential-64"><a href="#InteractiveBrowserCredential-64"><span class="linenos"> 64</span></a><span class="sd">            :end-before: [END create_interactive_browser_credential]</span>
</span><span id="InteractiveBrowserCredential-65"><a href="#InteractiveBrowserCredential-65"><span class="linenos"> 65</span></a><span class="sd">            :language: python</span>
</span><span id="InteractiveBrowserCredential-66"><a href="#InteractiveBrowserCredential-66"><span class="linenos"> 66</span></a><span class="sd">            :dedent: 4</span>
</span><span id="InteractiveBrowserCredential-67"><a href="#InteractiveBrowserCredential-67"><span class="linenos"> 67</span></a><span class="sd">            :caption: Create an InteractiveBrowserCredential.</span>
</span><span id="InteractiveBrowserCredential-68"><a href="#InteractiveBrowserCredential-68"><span class="linenos"> 68</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="InteractiveBrowserCredential-69"><a href="#InteractiveBrowserCredential-69"><span class="linenos"> 69</span></a>
</span><span id="InteractiveBrowserCredential-70"><a href="#InteractiveBrowserCredential-70"><span class="linenos"> 70</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="InteractiveBrowserCredential-71"><a href="#InteractiveBrowserCredential-71"><span class="linenos"> 71</span></a>        <span class="n">redirect_uri</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;redirect_uri&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-72"><a href="#InteractiveBrowserCredential-72"><span class="linenos"> 72</span></a>        <span class="k">if</span> <span class="n">redirect_uri</span><span class="p">:</span>
</span><span id="InteractiveBrowserCredential-73"><a href="#InteractiveBrowserCredential-73"><span class="linenos"> 73</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_parsed_url</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">redirect_uri</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-74"><a href="#InteractiveBrowserCredential-74"><span class="linenos"> 74</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parsed_url</span><span class="o">.</span><span class="n">hostname</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parsed_url</span><span class="o">.</span><span class="n">port</span><span class="p">):</span>
</span><span id="InteractiveBrowserCredential-75"><a href="#InteractiveBrowserCredential-75"><span class="linenos"> 75</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;&quot;redirect_uri&quot; must be a URL with port number, for example &quot;http://localhost:8400&quot;&#39;</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-76"><a href="#InteractiveBrowserCredential-76"><span class="linenos"> 76</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="InteractiveBrowserCredential-77"><a href="#InteractiveBrowserCredential-77"><span class="linenos"> 77</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_parsed_url</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="InteractiveBrowserCredential-78"><a href="#InteractiveBrowserCredential-78"><span class="linenos"> 78</span></a>
</span><span id="InteractiveBrowserCredential-79"><a href="#InteractiveBrowserCredential-79"><span class="linenos"> 79</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_login_hint</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;login_hint&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-80"><a href="#InteractiveBrowserCredential-80"><span class="linenos"> 80</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_timeout</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;timeout&quot;</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-81"><a href="#InteractiveBrowserCredential-81"><span class="linenos"> 81</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_server_class</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;_server_class&quot;</span><span class="p">,</span> <span class="n">AuthCodeRedirectServer</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-82"><a href="#InteractiveBrowserCredential-82"><span class="linenos"> 82</span></a>        <span class="n">client_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;client_id&quot;</span><span class="p">,</span> <span class="n">DEVELOPER_SIGN_ON_CLIENT_ID</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-83"><a href="#InteractiveBrowserCredential-83"><span class="linenos"> 83</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">InteractiveBrowserCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-84"><a href="#InteractiveBrowserCredential-84"><span class="linenos"> 84</span></a>
</span><span id="InteractiveBrowserCredential-85"><a href="#InteractiveBrowserCredential-85"><span class="linenos"> 85</span></a>    <span class="nd">@wrap_exceptions</span>
</span><span id="InteractiveBrowserCredential-86"><a href="#InteractiveBrowserCredential-86"><span class="linenos"> 86</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_request_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
</span><span id="InteractiveBrowserCredential-87"><a href="#InteractiveBrowserCredential-87"><span class="linenos"> 87</span></a>
</span><span id="InteractiveBrowserCredential-88"><a href="#InteractiveBrowserCredential-88"><span class="linenos"> 88</span></a>        <span class="c1"># start an HTTP server to receive the redirect</span>
</span><span id="InteractiveBrowserCredential-89"><a href="#InteractiveBrowserCredential-89"><span class="linenos"> 89</span></a>        <span class="n">server</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="InteractiveBrowserCredential-90"><a href="#InteractiveBrowserCredential-90"><span class="linenos"> 90</span></a>        <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="InteractiveBrowserCredential-91"><a href="#InteractiveBrowserCredential-91"><span class="linenos"> 91</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parsed_url</span><span class="p">:</span>
</span><span id="InteractiveBrowserCredential-92"><a href="#InteractiveBrowserCredential-92"><span class="linenos"> 92</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="InteractiveBrowserCredential-93"><a href="#InteractiveBrowserCredential-93"><span class="linenos"> 93</span></a>                <span class="n">redirect_uri</span> <span class="o">=</span> <span class="s2">&quot;http://</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parsed_url</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parsed_url</span><span class="o">.</span><span class="n">port</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-94"><a href="#InteractiveBrowserCredential-94"><span class="linenos"> 94</span></a>                <span class="n">server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_server_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parsed_url</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parsed_url</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeout</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-95"><a href="#InteractiveBrowserCredential-95"><span class="linenos"> 95</span></a>            <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">error</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="InteractiveBrowserCredential-96"><a href="#InteractiveBrowserCredential-96"><span class="linenos"> 96</span></a>                <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;Couldn&#39;t start an HTTP server on &quot;</span> <span class="o">+</span> <span class="n">redirect_uri</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">ex</span>
</span><span id="InteractiveBrowserCredential-97"><a href="#InteractiveBrowserCredential-97"><span class="linenos"> 97</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="InteractiveBrowserCredential-98"><a href="#InteractiveBrowserCredential-98"><span class="linenos"> 98</span></a>            <span class="k">for</span> <span class="n">port</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8400</span><span class="p">,</span> <span class="mi">9000</span><span class="p">):</span>
</span><span id="InteractiveBrowserCredential-99"><a href="#InteractiveBrowserCredential-99"><span class="linenos"> 99</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="InteractiveBrowserCredential-100"><a href="#InteractiveBrowserCredential-100"><span class="linenos">100</span></a>                    <span class="n">server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_server_class</span><span class="p">(</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeout</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-101"><a href="#InteractiveBrowserCredential-101"><span class="linenos">101</span></a>                    <span class="n">redirect_uri</span> <span class="o">=</span> <span class="s2">&quot;http://localhost:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-102"><a href="#InteractiveBrowserCredential-102"><span class="linenos">102</span></a>                    <span class="k">break</span>
</span><span id="InteractiveBrowserCredential-103"><a href="#InteractiveBrowserCredential-103"><span class="linenos">103</span></a>                <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">error</span><span class="p">:</span>
</span><span id="InteractiveBrowserCredential-104"><a href="#InteractiveBrowserCredential-104"><span class="linenos">104</span></a>                    <span class="k">continue</span>  <span class="c1"># keep looking for an open port</span>
</span><span id="InteractiveBrowserCredential-105"><a href="#InteractiveBrowserCredential-105"><span class="linenos">105</span></a>
</span><span id="InteractiveBrowserCredential-106"><a href="#InteractiveBrowserCredential-106"><span class="linenos">106</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">server</span><span class="p">:</span>
</span><span id="InteractiveBrowserCredential-107"><a href="#InteractiveBrowserCredential-107"><span class="linenos">107</span></a>            <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;Couldn&#39;t start an HTTP server on localhost&quot;</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-108"><a href="#InteractiveBrowserCredential-108"><span class="linenos">108</span></a>
</span><span id="InteractiveBrowserCredential-109"><a href="#InteractiveBrowserCredential-109"><span class="linenos">109</span></a>        <span class="c1"># get the url the user must visit to authenticate</span>
</span><span id="InteractiveBrowserCredential-110"><a href="#InteractiveBrowserCredential-110"><span class="linenos">110</span></a>        <span class="n">scopes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">scopes</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="InteractiveBrowserCredential-111"><a href="#InteractiveBrowserCredential-111"><span class="linenos">111</span></a>        <span class="n">claims</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;claims&quot;</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-112"><a href="#InteractiveBrowserCredential-112"><span class="linenos">112</span></a>        <span class="n">app</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_app</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-113"><a href="#InteractiveBrowserCredential-113"><span class="linenos">113</span></a>        <span class="n">flow</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">initiate_auth_code_flow</span><span class="p">(</span>
</span><span id="InteractiveBrowserCredential-114"><a href="#InteractiveBrowserCredential-114"><span class="linenos">114</span></a>            <span class="n">scopes</span><span class="p">,</span>
</span><span id="InteractiveBrowserCredential-115"><a href="#InteractiveBrowserCredential-115"><span class="linenos">115</span></a>            <span class="n">redirect_uri</span><span class="o">=</span><span class="n">redirect_uri</span><span class="p">,</span>
</span><span id="InteractiveBrowserCredential-116"><a href="#InteractiveBrowserCredential-116"><span class="linenos">116</span></a>            <span class="n">prompt</span><span class="o">=</span><span class="s2">&quot;select_account&quot;</span><span class="p">,</span>
</span><span id="InteractiveBrowserCredential-117"><a href="#InteractiveBrowserCredential-117"><span class="linenos">117</span></a>            <span class="n">claims_challenge</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span>
</span><span id="InteractiveBrowserCredential-118"><a href="#InteractiveBrowserCredential-118"><span class="linenos">118</span></a>            <span class="n">login_hint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_login_hint</span><span class="p">,</span>
</span><span id="InteractiveBrowserCredential-119"><a href="#InteractiveBrowserCredential-119"><span class="linenos">119</span></a>        <span class="p">)</span>
</span><span id="InteractiveBrowserCredential-120"><a href="#InteractiveBrowserCredential-120"><span class="linenos">120</span></a>        <span class="k">if</span> <span class="s2">&quot;auth_uri&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">flow</span><span class="p">:</span>
</span><span id="InteractiveBrowserCredential-121"><a href="#InteractiveBrowserCredential-121"><span class="linenos">121</span></a>            <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span><span class="s2">&quot;Failed to begin authentication flow&quot;</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-122"><a href="#InteractiveBrowserCredential-122"><span class="linenos">122</span></a>
</span><span id="InteractiveBrowserCredential-123"><a href="#InteractiveBrowserCredential-123"><span class="linenos">123</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">_open_browser</span><span class="p">(</span><span class="n">flow</span><span class="p">[</span><span class="s2">&quot;auth_uri&quot;</span><span class="p">]):</span>
</span><span id="InteractiveBrowserCredential-124"><a href="#InteractiveBrowserCredential-124"><span class="linenos">124</span></a>            <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;Failed to open a browser&quot;</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-125"><a href="#InteractiveBrowserCredential-125"><span class="linenos">125</span></a>
</span><span id="InteractiveBrowserCredential-126"><a href="#InteractiveBrowserCredential-126"><span class="linenos">126</span></a>        <span class="c1"># block until the server times out or receives the post-authentication redirect</span>
</span><span id="InteractiveBrowserCredential-127"><a href="#InteractiveBrowserCredential-127"><span class="linenos">127</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">wait_for_redirect</span><span class="p">()</span>
</span><span id="InteractiveBrowserCredential-128"><a href="#InteractiveBrowserCredential-128"><span class="linenos">128</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="p">:</span>
</span><span id="InteractiveBrowserCredential-129"><a href="#InteractiveBrowserCredential-129"><span class="linenos">129</span></a>            <span class="k">if</span> <span class="n">within_dac</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span><span id="InteractiveBrowserCredential-130"><a href="#InteractiveBrowserCredential-130"><span class="linenos">130</span></a>                <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span>
</span><span id="InteractiveBrowserCredential-131"><a href="#InteractiveBrowserCredential-131"><span class="linenos">131</span></a>                    <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Timed out after waiting </span><span class="si">{}</span><span class="s2"> seconds for the user to authenticate&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeout</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-132"><a href="#InteractiveBrowserCredential-132"><span class="linenos">132</span></a>                <span class="p">)</span>
</span><span id="InteractiveBrowserCredential-133"><a href="#InteractiveBrowserCredential-133"><span class="linenos">133</span></a>            <span class="k">raise</span> <span class="n">ClientAuthenticationError</span><span class="p">(</span>
</span><span id="InteractiveBrowserCredential-134"><a href="#InteractiveBrowserCredential-134"><span class="linenos">134</span></a>                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Timed out after waiting </span><span class="si">{}</span><span class="s2"> seconds for the user to authenticate&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeout</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential-135"><a href="#InteractiveBrowserCredential-135"><span class="linenos">135</span></a>            <span class="p">)</span>
</span><span id="InteractiveBrowserCredential-136"><a href="#InteractiveBrowserCredential-136"><span class="linenos">136</span></a>
</span><span id="InteractiveBrowserCredential-137"><a href="#InteractiveBrowserCredential-137"><span class="linenos">137</span></a>        <span class="c1"># redeem the authorization code for a token</span>
</span><span id="InteractiveBrowserCredential-138"><a href="#InteractiveBrowserCredential-138"><span class="linenos">138</span></a>        <span class="k">return</span> <span class="n">app</span><span class="o">.</span><span class="n">acquire_token_by_auth_code_flow</span><span class="p">(</span><span class="n">flow</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">scopes</span><span class="o">=</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims_challenge</span><span class="o">=</span><span class="n">claims</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Opens a browser to interactively authenticate a user.</p>

<p><code>~get_token()</code> opens a browser to a login URL provided by Microsoft Entra ID and authenticates a user
there with the authorization code flow, using PKCE (Proof Key for Code Exchange) internally to protect the code.</p>

<p>:keyword str authority: Authority of a Microsoft Entra endpoint, for example "login.microsoftonline.com",
    the authority for Azure Public Cloud (which is the default). <code>~<a href="#AzureAuthorityHosts">azure.identity.AzureAuthorityHosts</a></code>
    defines authorities for other clouds.
:keyword str tenant_id: a Microsoft Entra tenant ID. Defaults to the "organizations" tenant, which can
    authenticate work or school accounts.
:keyword str client_id: Client ID of the Microsoft Entra application that users will sign into. It is recommended
    that developers register their applications and assign appropriate roles. For more information,
    visit <a href="https://aka.ms/azsdk/identity/AppRegistrationAndRoleAssignment">https://aka.ms/azsdk/identity/AppRegistrationAndRoleAssignment</a>. If not specified, users will
    authenticate to an Azure development application, which is not recommended for production scenarios.
:keyword str login_hint: a username suggestion to pre-fill the login page's username/email address field. A user
    may still log in with a different username.
:keyword str redirect_uri: a redirect URI for the application identified by <code>client_id</code> as configured in Azure
    Active Directory, for example "http://localhost:8400". This is only required when passing a value for
    <strong>client_id</strong>, and must match a redirect URI in the application's registration. The credential must be able to
    bind a socket to this URI.
:keyword AuthenticationRecord authentication_record: <code><a href="#AuthenticationRecord">AuthenticationRecord</a></code> returned by <code><a href="#InteractiveBrowserCredential.authenticate">authenticate()</a></code>
:keyword bool disable_automatic_authentication: if True, <code><a href="#InteractiveBrowserCredential.get_token">get_token()</a></code> will raise
    <code><a href="#AuthenticationRequiredError">AuthenticationRequiredError</a></code> when user interaction is required to acquire a token. Defaults to False.
:keyword cache_persistence_options: configuration for persistent token caching. If unspecified, the credential
    will cache tokens in memory.
:paramtype cache_persistence_options: ~<a href="#TokenCachePersistenceOptions">azure.identity.TokenCachePersistenceOptions</a>
:keyword int timeout: seconds to wait for the user to complete authentication. Defaults to 300 (5 minutes).
:keyword bool disable_instance_discovery: Determines whether or not instance discovery is performed when attempting
    to authenticate. Setting this to true will completely disable both instance discovery and authority validation.
    This functionality is intended for use in scenarios where the metadata endpoint cannot be reached, such as in
    private clouds or Azure Stack. The process of instance discovery entails retrieving authority metadata from
    <a href="https://login.microsoft.com/">https://login.microsoft.com/</a> to validate the authority. By setting this to *<em>True</em>*, the validation of the
    authority is disabled. As a result, it is crucial to ensure that the configured authority host is valid and
    trustworthy.
:keyword bool enable_support_logging: Enables additional support logging in the underlying MSAL library.
    This logging potentially contains personally identifiable information and is intended to be used only for
    troubleshooting purposes.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>:  invalid <strong>redirect_uri</strong></li>
</ul>

<p>.. admonition:: Example:</p>

<pre><code>.. literalinclude:: ../samples/credential_creation_code_snippets.py
    :start-after: [START create_interactive_browser_credential]
    :end-before: [END create_interactive_browser_credential]
    :language: python
    :dedent: 4
    :caption: Create an InteractiveBrowserCredential.
</code></pre>
</div>


                            <div id="InteractiveBrowserCredential.__init__" class="classattr">
                                        <input id="InteractiveBrowserCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">InteractiveBrowserCredential</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="InteractiveBrowserCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InteractiveBrowserCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InteractiveBrowserCredential.__init__-70"><a href="#InteractiveBrowserCredential.__init__-70"><span class="linenos">70</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="InteractiveBrowserCredential.__init__-71"><a href="#InteractiveBrowserCredential.__init__-71"><span class="linenos">71</span></a>        <span class="n">redirect_uri</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;redirect_uri&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential.__init__-72"><a href="#InteractiveBrowserCredential.__init__-72"><span class="linenos">72</span></a>        <span class="k">if</span> <span class="n">redirect_uri</span><span class="p">:</span>
</span><span id="InteractiveBrowserCredential.__init__-73"><a href="#InteractiveBrowserCredential.__init__-73"><span class="linenos">73</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_parsed_url</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">redirect_uri</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential.__init__-74"><a href="#InteractiveBrowserCredential.__init__-74"><span class="linenos">74</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parsed_url</span><span class="o">.</span><span class="n">hostname</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parsed_url</span><span class="o">.</span><span class="n">port</span><span class="p">):</span>
</span><span id="InteractiveBrowserCredential.__init__-75"><a href="#InteractiveBrowserCredential.__init__-75"><span class="linenos">75</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;&quot;redirect_uri&quot; must be a URL with port number, for example &quot;http://localhost:8400&quot;&#39;</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential.__init__-76"><a href="#InteractiveBrowserCredential.__init__-76"><span class="linenos">76</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="InteractiveBrowserCredential.__init__-77"><a href="#InteractiveBrowserCredential.__init__-77"><span class="linenos">77</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_parsed_url</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="InteractiveBrowserCredential.__init__-78"><a href="#InteractiveBrowserCredential.__init__-78"><span class="linenos">78</span></a>
</span><span id="InteractiveBrowserCredential.__init__-79"><a href="#InteractiveBrowserCredential.__init__-79"><span class="linenos">79</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_login_hint</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;login_hint&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential.__init__-80"><a href="#InteractiveBrowserCredential.__init__-80"><span class="linenos">80</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_timeout</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;timeout&quot;</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential.__init__-81"><a href="#InteractiveBrowserCredential.__init__-81"><span class="linenos">81</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_server_class</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;_server_class&quot;</span><span class="p">,</span> <span class="n">AuthCodeRedirectServer</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential.__init__-82"><a href="#InteractiveBrowserCredential.__init__-82"><span class="linenos">82</span></a>        <span class="n">client_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;client_id&quot;</span><span class="p">,</span> <span class="n">DEVELOPER_SIGN_ON_CLIENT_ID</span><span class="p">)</span>
</span><span id="InteractiveBrowserCredential.__init__-83"><a href="#InteractiveBrowserCredential.__init__-83"><span class="linenos">83</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">InteractiveBrowserCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="KnownAuthorities">
                            <input id="KnownAuthorities-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">KnownAuthorities</span><wbr>(<span class="base"><a href="#AzureAuthorityHosts">azure.identity.AzureAuthorityHosts</a></span>):

                <label class="view-source-button" for="KnownAuthorities-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#KnownAuthorities"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="KnownAuthorities-40"><a href="#KnownAuthorities-40"><span class="linenos">40</span></a><span class="k">class</span><span class="w"> </span><span class="nc">KnownAuthorities</span><span class="p">(</span><span class="n">AzureAuthorityHosts</span><span class="p">):</span>
</span><span id="KnownAuthorities-41"><a href="#KnownAuthorities-41"><span class="linenos">41</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Alias of :class:`AzureAuthorityHosts`&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Alias of <code><a href="#AzureAuthorityHosts">AzureAuthorityHosts</a></code></p>
</div>


                </section>
                <section id="OnBehalfOfCredential">
                            <input id="OnBehalfOfCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">OnBehalfOfCredential</span><wbr>(<span class="base">azure.identity._internal.msal_credentials.MsalCredential</span>, <span class="base">azure.identity._internal.get_token_mixin.GetTokenMixin</span>):

                <label class="view-source-button" for="OnBehalfOfCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OnBehalfOfCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OnBehalfOfCredential-22"><a href="#OnBehalfOfCredential-22"><span class="linenos"> 22</span></a><span class="k">class</span><span class="w"> </span><span class="nc">OnBehalfOfCredential</span><span class="p">(</span><span class="n">MsalCredential</span><span class="p">,</span> <span class="n">GetTokenMixin</span><span class="p">):</span>
</span><span id="OnBehalfOfCredential-23"><a href="#OnBehalfOfCredential-23"><span class="linenos"> 23</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticates a service principal via the on-behalf-of flow.</span>
</span><span id="OnBehalfOfCredential-24"><a href="#OnBehalfOfCredential-24"><span class="linenos"> 24</span></a>
</span><span id="OnBehalfOfCredential-25"><a href="#OnBehalfOfCredential-25"><span class="linenos"> 25</span></a><span class="sd">    This flow is typically used by middle-tier services that authorize requests to other services with a delegated</span>
</span><span id="OnBehalfOfCredential-26"><a href="#OnBehalfOfCredential-26"><span class="linenos"> 26</span></a><span class="sd">    user identity. Because this is not an interactive authentication flow, an application using it must have admin</span>
</span><span id="OnBehalfOfCredential-27"><a href="#OnBehalfOfCredential-27"><span class="linenos"> 27</span></a><span class="sd">    consent for any delegated permissions before requesting tokens for them. See `Microsoft Entra ID documentation</span>
</span><span id="OnBehalfOfCredential-28"><a href="#OnBehalfOfCredential-28"><span class="linenos"> 28</span></a><span class="sd">    &lt;https://learn.microsoft.com/entra/identity-platform/v2-oauth2-on-behalf-of-flow&gt;`__ for a more detailed</span>
</span><span id="OnBehalfOfCredential-29"><a href="#OnBehalfOfCredential-29"><span class="linenos"> 29</span></a><span class="sd">    description of the on-behalf-of flow.</span>
</span><span id="OnBehalfOfCredential-30"><a href="#OnBehalfOfCredential-30"><span class="linenos"> 30</span></a>
</span><span id="OnBehalfOfCredential-31"><a href="#OnBehalfOfCredential-31"><span class="linenos"> 31</span></a><span class="sd">    :param str tenant_id: ID of the service principal&#39;s tenant. Also called its &quot;directory&quot; ID.</span>
</span><span id="OnBehalfOfCredential-32"><a href="#OnBehalfOfCredential-32"><span class="linenos"> 32</span></a><span class="sd">    :param str client_id: The service principal&#39;s client ID.</span>
</span><span id="OnBehalfOfCredential-33"><a href="#OnBehalfOfCredential-33"><span class="linenos"> 33</span></a><span class="sd">    :keyword str client_secret: Optional. A client secret to authenticate the service principal.</span>
</span><span id="OnBehalfOfCredential-34"><a href="#OnBehalfOfCredential-34"><span class="linenos"> 34</span></a><span class="sd">        One of **client_secret**, **client_certificate**, or **client_assertion_func** must be provided.</span>
</span><span id="OnBehalfOfCredential-35"><a href="#OnBehalfOfCredential-35"><span class="linenos"> 35</span></a><span class="sd">    :keyword bytes client_certificate: Optional. The bytes of a certificate in PEM or PKCS12 format including</span>
</span><span id="OnBehalfOfCredential-36"><a href="#OnBehalfOfCredential-36"><span class="linenos"> 36</span></a><span class="sd">        the private key to authenticate the service principal. One of **client_secret**, **client_certificate**,</span>
</span><span id="OnBehalfOfCredential-37"><a href="#OnBehalfOfCredential-37"><span class="linenos"> 37</span></a><span class="sd">        or **client_assertion_func** must be provided.</span>
</span><span id="OnBehalfOfCredential-38"><a href="#OnBehalfOfCredential-38"><span class="linenos"> 38</span></a><span class="sd">    :keyword client_assertion_func: Optional. Function that returns client assertions that authenticate the</span>
</span><span id="OnBehalfOfCredential-39"><a href="#OnBehalfOfCredential-39"><span class="linenos"> 39</span></a><span class="sd">        application to Microsoft Entra ID. This function is called each time the credential requests a token. It must</span>
</span><span id="OnBehalfOfCredential-40"><a href="#OnBehalfOfCredential-40"><span class="linenos"> 40</span></a><span class="sd">        return a valid assertion for the target resource.</span>
</span><span id="OnBehalfOfCredential-41"><a href="#OnBehalfOfCredential-41"><span class="linenos"> 41</span></a><span class="sd">    :paramtype client_assertion_func: Callable[[], str]</span>
</span><span id="OnBehalfOfCredential-42"><a href="#OnBehalfOfCredential-42"><span class="linenos"> 42</span></a><span class="sd">    :keyword str user_assertion: Required. The access token the credential will use as the user assertion when</span>
</span><span id="OnBehalfOfCredential-43"><a href="#OnBehalfOfCredential-43"><span class="linenos"> 43</span></a><span class="sd">        requesting on-behalf-of tokens.</span>
</span><span id="OnBehalfOfCredential-44"><a href="#OnBehalfOfCredential-44"><span class="linenos"> 44</span></a>
</span><span id="OnBehalfOfCredential-45"><a href="#OnBehalfOfCredential-45"><span class="linenos"> 45</span></a><span class="sd">    :keyword str authority: Authority of a Microsoft Entra endpoint, for example &quot;login.microsoftonline.com&quot;,</span>
</span><span id="OnBehalfOfCredential-46"><a href="#OnBehalfOfCredential-46"><span class="linenos"> 46</span></a><span class="sd">        the authority for Azure Public Cloud (which is the default). :class:`~azure.identity.AzureAuthorityHosts`</span>
</span><span id="OnBehalfOfCredential-47"><a href="#OnBehalfOfCredential-47"><span class="linenos"> 47</span></a><span class="sd">        defines authorities for other clouds.</span>
</span><span id="OnBehalfOfCredential-48"><a href="#OnBehalfOfCredential-48"><span class="linenos"> 48</span></a><span class="sd">    :keyword password: A certificate password. Used only when **client_certificate** is provided. If this value</span>
</span><span id="OnBehalfOfCredential-49"><a href="#OnBehalfOfCredential-49"><span class="linenos"> 49</span></a><span class="sd">        is a unicode string, it will be encoded as UTF-8. If the certificate requires a different encoding, pass</span>
</span><span id="OnBehalfOfCredential-50"><a href="#OnBehalfOfCredential-50"><span class="linenos"> 50</span></a><span class="sd">        appropriately encoded bytes instead.</span>
</span><span id="OnBehalfOfCredential-51"><a href="#OnBehalfOfCredential-51"><span class="linenos"> 51</span></a><span class="sd">    :paramtype password: str or bytes</span>
</span><span id="OnBehalfOfCredential-52"><a href="#OnBehalfOfCredential-52"><span class="linenos"> 52</span></a><span class="sd">    :keyword bool send_certificate_chain: If True when **client_certificate** is provided, the credential will send</span>
</span><span id="OnBehalfOfCredential-53"><a href="#OnBehalfOfCredential-53"><span class="linenos"> 53</span></a><span class="sd">        the public certificate chain in the x5c header of each token request&#39;s JWT. This is required for Subject</span>
</span><span id="OnBehalfOfCredential-54"><a href="#OnBehalfOfCredential-54"><span class="linenos"> 54</span></a><span class="sd">        Name/Issuer (SNI) authentication. Defaults to False.</span>
</span><span id="OnBehalfOfCredential-55"><a href="#OnBehalfOfCredential-55"><span class="linenos"> 55</span></a><span class="sd">    :keyword bool disable_instance_discovery: Determines whether or not instance discovery is performed when attempting</span>
</span><span id="OnBehalfOfCredential-56"><a href="#OnBehalfOfCredential-56"><span class="linenos"> 56</span></a><span class="sd">        to authenticate. Setting this to true will completely disable both instance discovery and authority validation.</span>
</span><span id="OnBehalfOfCredential-57"><a href="#OnBehalfOfCredential-57"><span class="linenos"> 57</span></a><span class="sd">        This functionality is intended for use in scenarios where the metadata endpoint cannot be reached, such as in</span>
</span><span id="OnBehalfOfCredential-58"><a href="#OnBehalfOfCredential-58"><span class="linenos"> 58</span></a><span class="sd">        private clouds or Azure Stack. The process of instance discovery entails retrieving authority metadata from</span>
</span><span id="OnBehalfOfCredential-59"><a href="#OnBehalfOfCredential-59"><span class="linenos"> 59</span></a><span class="sd">        https://login.microsoft.com/ to validate the authority. By setting this to **True**, the validation of the</span>
</span><span id="OnBehalfOfCredential-60"><a href="#OnBehalfOfCredential-60"><span class="linenos"> 60</span></a><span class="sd">        authority is disabled. As a result, it is crucial to ensure that the configured authority host is valid and</span>
</span><span id="OnBehalfOfCredential-61"><a href="#OnBehalfOfCredential-61"><span class="linenos"> 61</span></a><span class="sd">        trustworthy.</span>
</span><span id="OnBehalfOfCredential-62"><a href="#OnBehalfOfCredential-62"><span class="linenos"> 62</span></a><span class="sd">    :keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified &quot;tenant_id&quot;</span>
</span><span id="OnBehalfOfCredential-63"><a href="#OnBehalfOfCredential-63"><span class="linenos"> 63</span></a><span class="sd">        for which the credential may acquire tokens. Add the wildcard value &quot;*&quot; to allow the credential to</span>
</span><span id="OnBehalfOfCredential-64"><a href="#OnBehalfOfCredential-64"><span class="linenos"> 64</span></a><span class="sd">        acquire tokens for any tenant the application can access.</span>
</span><span id="OnBehalfOfCredential-65"><a href="#OnBehalfOfCredential-65"><span class="linenos"> 65</span></a>
</span><span id="OnBehalfOfCredential-66"><a href="#OnBehalfOfCredential-66"><span class="linenos"> 66</span></a><span class="sd">    .. admonition:: Example:</span>
</span><span id="OnBehalfOfCredential-67"><a href="#OnBehalfOfCredential-67"><span class="linenos"> 67</span></a>
</span><span id="OnBehalfOfCredential-68"><a href="#OnBehalfOfCredential-68"><span class="linenos"> 68</span></a><span class="sd">        .. literalinclude:: ../samples/credential_creation_code_snippets.py</span>
</span><span id="OnBehalfOfCredential-69"><a href="#OnBehalfOfCredential-69"><span class="linenos"> 69</span></a><span class="sd">            :start-after: [START create_on_behalf_of_credential]</span>
</span><span id="OnBehalfOfCredential-70"><a href="#OnBehalfOfCredential-70"><span class="linenos"> 70</span></a><span class="sd">            :end-before: [END create_on_behalf_of_credential]</span>
</span><span id="OnBehalfOfCredential-71"><a href="#OnBehalfOfCredential-71"><span class="linenos"> 71</span></a><span class="sd">            :language: python</span>
</span><span id="OnBehalfOfCredential-72"><a href="#OnBehalfOfCredential-72"><span class="linenos"> 72</span></a><span class="sd">            :dedent: 4</span>
</span><span id="OnBehalfOfCredential-73"><a href="#OnBehalfOfCredential-73"><span class="linenos"> 73</span></a><span class="sd">            :caption: Create an OnBehalfOfCredential.</span>
</span><span id="OnBehalfOfCredential-74"><a href="#OnBehalfOfCredential-74"><span class="linenos"> 74</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="OnBehalfOfCredential-75"><a href="#OnBehalfOfCredential-75"><span class="linenos"> 75</span></a>
</span><span id="OnBehalfOfCredential-76"><a href="#OnBehalfOfCredential-76"><span class="linenos"> 76</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="OnBehalfOfCredential-77"><a href="#OnBehalfOfCredential-77"><span class="linenos"> 77</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential-78"><a href="#OnBehalfOfCredential-78"><span class="linenos"> 78</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential-79"><a href="#OnBehalfOfCredential-79"><span class="linenos"> 79</span></a>        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential-80"><a href="#OnBehalfOfCredential-80"><span class="linenos"> 80</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential-81"><a href="#OnBehalfOfCredential-81"><span class="linenos"> 81</span></a>        <span class="n">client_certificate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential-82"><a href="#OnBehalfOfCredential-82"><span class="linenos"> 82</span></a>        <span class="n">client_secret</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential-83"><a href="#OnBehalfOfCredential-83"><span class="linenos"> 83</span></a>        <span class="n">client_assertion_func</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[],</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential-84"><a href="#OnBehalfOfCredential-84"><span class="linenos"> 84</span></a>        <span class="n">user_assertion</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential-85"><a href="#OnBehalfOfCredential-85"><span class="linenos"> 85</span></a>        <span class="n">password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential-86"><a href="#OnBehalfOfCredential-86"><span class="linenos"> 86</span></a>        <span class="n">send_certificate_chain</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential-87"><a href="#OnBehalfOfCredential-87"><span class="linenos"> 87</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="OnBehalfOfCredential-88"><a href="#OnBehalfOfCredential-88"><span class="linenos"> 88</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential-89"><a href="#OnBehalfOfCredential-89"><span class="linenos"> 89</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_assertion</span> <span class="o">=</span> <span class="n">user_assertion</span>
</span><span id="OnBehalfOfCredential-90"><a href="#OnBehalfOfCredential-90"><span class="linenos"> 90</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_assertion</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential-91"><a href="#OnBehalfOfCredential-91"><span class="linenos"> 91</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;&quot;user_assertion&quot; must not be empty.&#39;</span><span class="p">)</span>
</span><span id="OnBehalfOfCredential-92"><a href="#OnBehalfOfCredential-92"><span class="linenos"> 92</span></a>
</span><span id="OnBehalfOfCredential-93"><a href="#OnBehalfOfCredential-93"><span class="linenos"> 93</span></a>        <span class="k">if</span> <span class="n">client_assertion_func</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential-94"><a href="#OnBehalfOfCredential-94"><span class="linenos"> 94</span></a>            <span class="k">if</span> <span class="n">client_certificate</span> <span class="ow">or</span> <span class="n">client_secret</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential-95"><a href="#OnBehalfOfCredential-95"><span class="linenos"> 95</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="OnBehalfOfCredential-96"><a href="#OnBehalfOfCredential-96"><span class="linenos"> 96</span></a>                    <span class="s2">&quot;It is invalid to specify more than one of the following: &quot;</span>
</span><span id="OnBehalfOfCredential-97"><a href="#OnBehalfOfCredential-97"><span class="linenos"> 97</span></a>                    <span class="s1">&#39;&quot;client_assertion_func&quot;, &quot;client_certificate&quot; or &quot;client_secret&quot;.&#39;</span>
</span><span id="OnBehalfOfCredential-98"><a href="#OnBehalfOfCredential-98"><span class="linenos"> 98</span></a>                <span class="p">)</span>
</span><span id="OnBehalfOfCredential-99"><a href="#OnBehalfOfCredential-99"><span class="linenos"> 99</span></a>            <span class="n">credential</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="OnBehalfOfCredential-100"><a href="#OnBehalfOfCredential-100"><span class="linenos">100</span></a>                <span class="s2">&quot;client_assertion&quot;</span><span class="p">:</span> <span class="n">client_assertion_func</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential-101"><a href="#OnBehalfOfCredential-101"><span class="linenos">101</span></a>            <span class="p">}</span>
</span><span id="OnBehalfOfCredential-102"><a href="#OnBehalfOfCredential-102"><span class="linenos">102</span></a>        <span class="k">elif</span> <span class="n">client_certificate</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential-103"><a href="#OnBehalfOfCredential-103"><span class="linenos">103</span></a>            <span class="k">if</span> <span class="n">client_secret</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential-104"><a href="#OnBehalfOfCredential-104"><span class="linenos">104</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Specifying both &quot;client_certificate&quot; and &quot;client_secret&quot; is not valid.&#39;</span><span class="p">)</span>
</span><span id="OnBehalfOfCredential-105"><a href="#OnBehalfOfCredential-105"><span class="linenos">105</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential-106"><a href="#OnBehalfOfCredential-106"><span class="linenos">106</span></a>                <span class="n">credential</span> <span class="o">=</span> <span class="n">get_client_credential</span><span class="p">(</span>
</span><span id="OnBehalfOfCredential-107"><a href="#OnBehalfOfCredential-107"><span class="linenos">107</span></a>                    <span class="n">certificate_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential-108"><a href="#OnBehalfOfCredential-108"><span class="linenos">108</span></a>                    <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential-109"><a href="#OnBehalfOfCredential-109"><span class="linenos">109</span></a>                    <span class="n">certificate_data</span><span class="o">=</span><span class="n">client_certificate</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential-110"><a href="#OnBehalfOfCredential-110"><span class="linenos">110</span></a>                    <span class="n">send_certificate_chain</span><span class="o">=</span><span class="n">send_certificate_chain</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential-111"><a href="#OnBehalfOfCredential-111"><span class="linenos">111</span></a>                <span class="p">)</span>
</span><span id="OnBehalfOfCredential-112"><a href="#OnBehalfOfCredential-112"><span class="linenos">112</span></a>            <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential-113"><a href="#OnBehalfOfCredential-113"><span class="linenos">113</span></a>                <span class="c1"># client_certificate isn&#39;t a valid cert.</span>
</span><span id="OnBehalfOfCredential-114"><a href="#OnBehalfOfCredential-114"><span class="linenos">114</span></a>                <span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;&quot;client_certificate&quot; is not a valid certificate in PEM or PKCS12 format&#39;</span>
</span><span id="OnBehalfOfCredential-115"><a href="#OnBehalfOfCredential-115"><span class="linenos">115</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">message</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">ex</span>
</span><span id="OnBehalfOfCredential-116"><a href="#OnBehalfOfCredential-116"><span class="linenos">116</span></a>        <span class="k">elif</span> <span class="n">client_secret</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential-117"><a href="#OnBehalfOfCredential-117"><span class="linenos">117</span></a>            <span class="n">credential</span> <span class="o">=</span> <span class="n">client_secret</span>
</span><span id="OnBehalfOfCredential-118"><a href="#OnBehalfOfCredential-118"><span class="linenos">118</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential-119"><a href="#OnBehalfOfCredential-119"><span class="linenos">119</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Either &quot;client_certificate&quot;, &quot;client_secret&quot;, or &quot;client_assertion_func&quot; must be provided&#39;</span><span class="p">)</span>
</span><span id="OnBehalfOfCredential-120"><a href="#OnBehalfOfCredential-120"><span class="linenos">120</span></a>
</span><span id="OnBehalfOfCredential-121"><a href="#OnBehalfOfCredential-121"><span class="linenos">121</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">OnBehalfOfCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="OnBehalfOfCredential-122"><a href="#OnBehalfOfCredential-122"><span class="linenos">122</span></a>            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_credential</span><span class="o">=</span><span class="n">credential</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="OnBehalfOfCredential-123"><a href="#OnBehalfOfCredential-123"><span class="linenos">123</span></a>        <span class="p">)</span>
</span><span id="OnBehalfOfCredential-124"><a href="#OnBehalfOfCredential-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_auth_record</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AuthenticationRecord</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="OnBehalfOfCredential-125"><a href="#OnBehalfOfCredential-125"><span class="linenos">125</span></a>
</span><span id="OnBehalfOfCredential-126"><a href="#OnBehalfOfCredential-126"><span class="linenos">126</span></a>    <span class="nd">@wrap_exceptions</span>
</span><span id="OnBehalfOfCredential-127"><a href="#OnBehalfOfCredential-127"><span class="linenos">127</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_acquire_token_silently</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AccessTokenInfo</span><span class="p">]:</span>
</span><span id="OnBehalfOfCredential-128"><a href="#OnBehalfOfCredential-128"><span class="linenos">128</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_auth_record</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential-129"><a href="#OnBehalfOfCredential-129"><span class="linenos">129</span></a>            <span class="n">claims</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;claims&quot;</span><span class="p">)</span>
</span><span id="OnBehalfOfCredential-130"><a href="#OnBehalfOfCredential-130"><span class="linenos">130</span></a>            <span class="n">app</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_app</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="OnBehalfOfCredential-131"><a href="#OnBehalfOfCredential-131"><span class="linenos">131</span></a>            <span class="k">for</span> <span class="n">account</span> <span class="ow">in</span> <span class="n">app</span><span class="o">.</span><span class="n">get_accounts</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_auth_record</span><span class="o">.</span><span class="n">username</span><span class="p">):</span>
</span><span id="OnBehalfOfCredential-132"><a href="#OnBehalfOfCredential-132"><span class="linenos">132</span></a>                <span class="k">if</span> <span class="n">account</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;home_account_id&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_auth_record</span><span class="o">.</span><span class="n">home_account_id</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential-133"><a href="#OnBehalfOfCredential-133"><span class="linenos">133</span></a>                    <span class="k">continue</span>
</span><span id="OnBehalfOfCredential-134"><a href="#OnBehalfOfCredential-134"><span class="linenos">134</span></a>
</span><span id="OnBehalfOfCredential-135"><a href="#OnBehalfOfCredential-135"><span class="linenos">135</span></a>                <span class="n">now</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
</span><span id="OnBehalfOfCredential-136"><a href="#OnBehalfOfCredential-136"><span class="linenos">136</span></a>                <span class="n">result</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">acquire_token_silent_with_error</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">scopes</span><span class="p">),</span> <span class="n">account</span><span class="o">=</span><span class="n">account</span><span class="p">,</span> <span class="n">claims_challenge</span><span class="o">=</span><span class="n">claims</span><span class="p">)</span>
</span><span id="OnBehalfOfCredential-137"><a href="#OnBehalfOfCredential-137"><span class="linenos">137</span></a>                <span class="k">if</span> <span class="n">result</span> <span class="ow">and</span> <span class="s2">&quot;access_token&quot;</span> <span class="ow">in</span> <span class="n">result</span> <span class="ow">and</span> <span class="s2">&quot;expires_in&quot;</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential-138"><a href="#OnBehalfOfCredential-138"><span class="linenos">138</span></a>                    <span class="n">refresh_on</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;refresh_on&quot;</span><span class="p">])</span> <span class="k">if</span> <span class="s2">&quot;refresh_on&quot;</span> <span class="ow">in</span> <span class="n">result</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="OnBehalfOfCredential-139"><a href="#OnBehalfOfCredential-139"><span class="linenos">139</span></a>                    <span class="k">return</span> <span class="n">AccessTokenInfo</span><span class="p">(</span>
</span><span id="OnBehalfOfCredential-140"><a href="#OnBehalfOfCredential-140"><span class="linenos">140</span></a>                        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;access_token&quot;</span><span class="p">],</span>
</span><span id="OnBehalfOfCredential-141"><a href="#OnBehalfOfCredential-141"><span class="linenos">141</span></a>                        <span class="n">now</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;expires_in&quot;</span><span class="p">]),</span>
</span><span id="OnBehalfOfCredential-142"><a href="#OnBehalfOfCredential-142"><span class="linenos">142</span></a>                        <span class="n">token_type</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;token_type&quot;</span><span class="p">,</span> <span class="s2">&quot;Bearer&quot;</span><span class="p">),</span>
</span><span id="OnBehalfOfCredential-143"><a href="#OnBehalfOfCredential-143"><span class="linenos">143</span></a>                        <span class="n">refresh_on</span><span class="o">=</span><span class="n">refresh_on</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential-144"><a href="#OnBehalfOfCredential-144"><span class="linenos">144</span></a>                    <span class="p">)</span>
</span><span id="OnBehalfOfCredential-145"><a href="#OnBehalfOfCredential-145"><span class="linenos">145</span></a>
</span><span id="OnBehalfOfCredential-146"><a href="#OnBehalfOfCredential-146"><span class="linenos">146</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="OnBehalfOfCredential-147"><a href="#OnBehalfOfCredential-147"><span class="linenos">147</span></a>
</span><span id="OnBehalfOfCredential-148"><a href="#OnBehalfOfCredential-148"><span class="linenos">148</span></a>    <span class="nd">@wrap_exceptions</span>
</span><span id="OnBehalfOfCredential-149"><a href="#OnBehalfOfCredential-149"><span class="linenos">149</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_request_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential-150"><a href="#OnBehalfOfCredential-150"><span class="linenos">150</span></a>        <span class="n">app</span><span class="p">:</span> <span class="n">msal</span><span class="o">.</span><span class="n">ConfidentialClientApplication</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_app</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="OnBehalfOfCredential-151"><a href="#OnBehalfOfCredential-151"><span class="linenos">151</span></a>        <span class="n">request_time</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
</span><span id="OnBehalfOfCredential-152"><a href="#OnBehalfOfCredential-152"><span class="linenos">152</span></a>        <span class="n">result</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">acquire_token_on_behalf_of</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_assertion</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">scopes</span><span class="p">),</span> <span class="n">claims_challenge</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;claims&quot;</span><span class="p">))</span>
</span><span id="OnBehalfOfCredential-153"><a href="#OnBehalfOfCredential-153"><span class="linenos">153</span></a>        <span class="k">if</span> <span class="s2">&quot;access_token&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">result</span> <span class="ow">or</span> <span class="s2">&quot;expires_in&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential-154"><a href="#OnBehalfOfCredential-154"><span class="linenos">154</span></a>            <span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;Authentication failed: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">))</span>
</span><span id="OnBehalfOfCredential-155"><a href="#OnBehalfOfCredential-155"><span class="linenos">155</span></a>            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_error_response</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span id="OnBehalfOfCredential-156"><a href="#OnBehalfOfCredential-156"><span class="linenos">156</span></a>            <span class="k">raise</span> <span class="n">ClientAuthenticationError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">,</span> <span class="n">response</span><span class="o">=</span><span class="n">response</span><span class="p">)</span>
</span><span id="OnBehalfOfCredential-157"><a href="#OnBehalfOfCredential-157"><span class="linenos">157</span></a>
</span><span id="OnBehalfOfCredential-158"><a href="#OnBehalfOfCredential-158"><span class="linenos">158</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential-159"><a href="#OnBehalfOfCredential-159"><span class="linenos">159</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_auth_record</span> <span class="o">=</span> <span class="n">_build_auth_record</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span id="OnBehalfOfCredential-160"><a href="#OnBehalfOfCredential-160"><span class="linenos">160</span></a>        <span class="k">except</span> <span class="n">ClientAuthenticationError</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential-161"><a href="#OnBehalfOfCredential-161"><span class="linenos">161</span></a>            <span class="k">pass</span>  <span class="c1"># non-fatal; we&#39;ll use the assertion again next time instead of a refresh token</span>
</span><span id="OnBehalfOfCredential-162"><a href="#OnBehalfOfCredential-162"><span class="linenos">162</span></a>
</span><span id="OnBehalfOfCredential-163"><a href="#OnBehalfOfCredential-163"><span class="linenos">163</span></a>        <span class="n">refresh_on</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;refresh_on&quot;</span><span class="p">])</span> <span class="k">if</span> <span class="s2">&quot;refresh_on&quot;</span> <span class="ow">in</span> <span class="n">result</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="OnBehalfOfCredential-164"><a href="#OnBehalfOfCredential-164"><span class="linenos">164</span></a>        <span class="k">return</span> <span class="n">AccessTokenInfo</span><span class="p">(</span>
</span><span id="OnBehalfOfCredential-165"><a href="#OnBehalfOfCredential-165"><span class="linenos">165</span></a>            <span class="n">result</span><span class="p">[</span><span class="s2">&quot;access_token&quot;</span><span class="p">],</span>
</span><span id="OnBehalfOfCredential-166"><a href="#OnBehalfOfCredential-166"><span class="linenos">166</span></a>            <span class="n">request_time</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;expires_in&quot;</span><span class="p">]),</span>
</span><span id="OnBehalfOfCredential-167"><a href="#OnBehalfOfCredential-167"><span class="linenos">167</span></a>            <span class="n">token_type</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;token_type&quot;</span><span class="p">,</span> <span class="s2">&quot;Bearer&quot;</span><span class="p">),</span>
</span><span id="OnBehalfOfCredential-168"><a href="#OnBehalfOfCredential-168"><span class="linenos">168</span></a>            <span class="n">refresh_on</span><span class="o">=</span><span class="n">refresh_on</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential-169"><a href="#OnBehalfOfCredential-169"><span class="linenos">169</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Authenticates a service principal via the on-behalf-of flow.</p>

<p>This flow is typically used by middle-tier services that authorize requests to other services with a delegated
user identity. Because this is not an interactive authentication flow, an application using it must have admin
consent for any delegated permissions before requesting tokens for them. See <a href="https://learn.microsoft.com/entra/identity-platform/v2-oauth2-on-behalf-of-flow">Microsoft Entra ID documentation
</a>_ for a more detailed
description of the on-behalf-of flow.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str tenant_id</strong>:  ID of the service principal's tenant. Also called its "directory" ID.</li>
<li><strong>str client_id</strong>:  The service principal's client ID.
:keyword str client_secret: Optional. A client secret to authenticate the service principal.
One of *<em>client_secret<strong>, *</em>client_certificate</strong>, or <strong>client_assertion_func<em>* must be provided.
:keyword bytes client_certificate: Optional. The bytes of a certificate in PEM or PKCS12 format including
the private key to authenticate the service principal. One of *</em>client_secret</strong>, <strong>client_certificate</strong>,
or <strong>client_assertion_func</strong> must be provided.
:keyword client_assertion_func: Optional. Function that returns client assertions that authenticate the
application to Microsoft Entra ID. This function is called each time the credential requests a token. It must
return a valid assertion for the target resource.
:paramtype client_assertion_func: Callable[[], str]
:keyword str user_assertion: Required. The access token the credential will use as the user assertion when
requesting on-behalf-of tokens.</li>
</ul>

<p>:keyword str authority: Authority of a Microsoft Entra endpoint, for example "login.microsoftonline.com",
    the authority for Azure Public Cloud (which is the default). <code>~<a href="#AzureAuthorityHosts">azure.identity.AzureAuthorityHosts</a></code>
    defines authorities for other clouds.
:keyword password: A certificate password. Used only when <strong>client_certificate</strong> is provided. If this value
    is a unicode string, it will be encoded as UTF-8. If the certificate requires a different encoding, pass
    appropriately encoded bytes instead.
:paramtype password: str or bytes
:keyword bool send_certificate_chain: If True when <strong>client_certificate</strong> is provided, the credential will send
    the public certificate chain in the x5c header of each token request's JWT. This is required for Subject
    Name/Issuer (SNI) authentication. Defaults to False.
:keyword bool disable_instance_discovery: Determines whether or not instance discovery is performed when attempting
    to authenticate. Setting this to true will completely disable both instance discovery and authority validation.
    This functionality is intended for use in scenarios where the metadata endpoint cannot be reached, such as in
    private clouds or Azure Stack. The process of instance discovery entails retrieving authority metadata from
    <a href="https://login.microsoft.com/">https://login.microsoft.com/</a> to validate the authority. By setting this to <strong>True</strong>, the validation of the
    authority is disabled. As a result, it is crucial to ensure that the configured authority host is valid and
    trustworthy.
:keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified "tenant_id"
    for which the credential may acquire tokens. Add the wildcard value "*" to allow the credential to
    acquire tokens for any tenant the application can access.</p>

<p>.. admonition:: Example:</p>

<pre><code>.. literalinclude:: ../samples/credential_creation_code_snippets.py
    :start-after: [START create_on_behalf_of_credential]
    :end-before: [END create_on_behalf_of_credential]
    :language: python
    :dedent: 4
    :caption: Create an OnBehalfOfCredential.
</code></pre>
</div>


                            <div id="OnBehalfOfCredential.__init__" class="classattr">
                                        <input id="OnBehalfOfCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">OnBehalfOfCredential</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">client_certificate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">client_secret</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">client_assertion_func</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[],</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">user_assertion</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">password</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">send_certificate_chain</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="OnBehalfOfCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OnBehalfOfCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OnBehalfOfCredential.__init__-76"><a href="#OnBehalfOfCredential.__init__-76"><span class="linenos"> 76</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="OnBehalfOfCredential.__init__-77"><a href="#OnBehalfOfCredential.__init__-77"><span class="linenos"> 77</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential.__init__-78"><a href="#OnBehalfOfCredential.__init__-78"><span class="linenos"> 78</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential.__init__-79"><a href="#OnBehalfOfCredential.__init__-79"><span class="linenos"> 79</span></a>        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential.__init__-80"><a href="#OnBehalfOfCredential.__init__-80"><span class="linenos"> 80</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential.__init__-81"><a href="#OnBehalfOfCredential.__init__-81"><span class="linenos"> 81</span></a>        <span class="n">client_certificate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential.__init__-82"><a href="#OnBehalfOfCredential.__init__-82"><span class="linenos"> 82</span></a>        <span class="n">client_secret</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential.__init__-83"><a href="#OnBehalfOfCredential.__init__-83"><span class="linenos"> 83</span></a>        <span class="n">client_assertion_func</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[],</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential.__init__-84"><a href="#OnBehalfOfCredential.__init__-84"><span class="linenos"> 84</span></a>        <span class="n">user_assertion</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential.__init__-85"><a href="#OnBehalfOfCredential.__init__-85"><span class="linenos"> 85</span></a>        <span class="n">password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential.__init__-86"><a href="#OnBehalfOfCredential.__init__-86"><span class="linenos"> 86</span></a>        <span class="n">send_certificate_chain</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential.__init__-87"><a href="#OnBehalfOfCredential.__init__-87"><span class="linenos"> 87</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="OnBehalfOfCredential.__init__-88"><a href="#OnBehalfOfCredential.__init__-88"><span class="linenos"> 88</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential.__init__-89"><a href="#OnBehalfOfCredential.__init__-89"><span class="linenos"> 89</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_assertion</span> <span class="o">=</span> <span class="n">user_assertion</span>
</span><span id="OnBehalfOfCredential.__init__-90"><a href="#OnBehalfOfCredential.__init__-90"><span class="linenos"> 90</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_assertion</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential.__init__-91"><a href="#OnBehalfOfCredential.__init__-91"><span class="linenos"> 91</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;&quot;user_assertion&quot; must not be empty.&#39;</span><span class="p">)</span>
</span><span id="OnBehalfOfCredential.__init__-92"><a href="#OnBehalfOfCredential.__init__-92"><span class="linenos"> 92</span></a>
</span><span id="OnBehalfOfCredential.__init__-93"><a href="#OnBehalfOfCredential.__init__-93"><span class="linenos"> 93</span></a>        <span class="k">if</span> <span class="n">client_assertion_func</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential.__init__-94"><a href="#OnBehalfOfCredential.__init__-94"><span class="linenos"> 94</span></a>            <span class="k">if</span> <span class="n">client_certificate</span> <span class="ow">or</span> <span class="n">client_secret</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential.__init__-95"><a href="#OnBehalfOfCredential.__init__-95"><span class="linenos"> 95</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="OnBehalfOfCredential.__init__-96"><a href="#OnBehalfOfCredential.__init__-96"><span class="linenos"> 96</span></a>                    <span class="s2">&quot;It is invalid to specify more than one of the following: &quot;</span>
</span><span id="OnBehalfOfCredential.__init__-97"><a href="#OnBehalfOfCredential.__init__-97"><span class="linenos"> 97</span></a>                    <span class="s1">&#39;&quot;client_assertion_func&quot;, &quot;client_certificate&quot; or &quot;client_secret&quot;.&#39;</span>
</span><span id="OnBehalfOfCredential.__init__-98"><a href="#OnBehalfOfCredential.__init__-98"><span class="linenos"> 98</span></a>                <span class="p">)</span>
</span><span id="OnBehalfOfCredential.__init__-99"><a href="#OnBehalfOfCredential.__init__-99"><span class="linenos"> 99</span></a>            <span class="n">credential</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="OnBehalfOfCredential.__init__-100"><a href="#OnBehalfOfCredential.__init__-100"><span class="linenos">100</span></a>                <span class="s2">&quot;client_assertion&quot;</span><span class="p">:</span> <span class="n">client_assertion_func</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential.__init__-101"><a href="#OnBehalfOfCredential.__init__-101"><span class="linenos">101</span></a>            <span class="p">}</span>
</span><span id="OnBehalfOfCredential.__init__-102"><a href="#OnBehalfOfCredential.__init__-102"><span class="linenos">102</span></a>        <span class="k">elif</span> <span class="n">client_certificate</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential.__init__-103"><a href="#OnBehalfOfCredential.__init__-103"><span class="linenos">103</span></a>            <span class="k">if</span> <span class="n">client_secret</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential.__init__-104"><a href="#OnBehalfOfCredential.__init__-104"><span class="linenos">104</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Specifying both &quot;client_certificate&quot; and &quot;client_secret&quot; is not valid.&#39;</span><span class="p">)</span>
</span><span id="OnBehalfOfCredential.__init__-105"><a href="#OnBehalfOfCredential.__init__-105"><span class="linenos">105</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential.__init__-106"><a href="#OnBehalfOfCredential.__init__-106"><span class="linenos">106</span></a>                <span class="n">credential</span> <span class="o">=</span> <span class="n">get_client_credential</span><span class="p">(</span>
</span><span id="OnBehalfOfCredential.__init__-107"><a href="#OnBehalfOfCredential.__init__-107"><span class="linenos">107</span></a>                    <span class="n">certificate_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential.__init__-108"><a href="#OnBehalfOfCredential.__init__-108"><span class="linenos">108</span></a>                    <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential.__init__-109"><a href="#OnBehalfOfCredential.__init__-109"><span class="linenos">109</span></a>                    <span class="n">certificate_data</span><span class="o">=</span><span class="n">client_certificate</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential.__init__-110"><a href="#OnBehalfOfCredential.__init__-110"><span class="linenos">110</span></a>                    <span class="n">send_certificate_chain</span><span class="o">=</span><span class="n">send_certificate_chain</span><span class="p">,</span>
</span><span id="OnBehalfOfCredential.__init__-111"><a href="#OnBehalfOfCredential.__init__-111"><span class="linenos">111</span></a>                <span class="p">)</span>
</span><span id="OnBehalfOfCredential.__init__-112"><a href="#OnBehalfOfCredential.__init__-112"><span class="linenos">112</span></a>            <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential.__init__-113"><a href="#OnBehalfOfCredential.__init__-113"><span class="linenos">113</span></a>                <span class="c1"># client_certificate isn&#39;t a valid cert.</span>
</span><span id="OnBehalfOfCredential.__init__-114"><a href="#OnBehalfOfCredential.__init__-114"><span class="linenos">114</span></a>                <span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;&quot;client_certificate&quot; is not a valid certificate in PEM or PKCS12 format&#39;</span>
</span><span id="OnBehalfOfCredential.__init__-115"><a href="#OnBehalfOfCredential.__init__-115"><span class="linenos">115</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">message</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">ex</span>
</span><span id="OnBehalfOfCredential.__init__-116"><a href="#OnBehalfOfCredential.__init__-116"><span class="linenos">116</span></a>        <span class="k">elif</span> <span class="n">client_secret</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential.__init__-117"><a href="#OnBehalfOfCredential.__init__-117"><span class="linenos">117</span></a>            <span class="n">credential</span> <span class="o">=</span> <span class="n">client_secret</span>
</span><span id="OnBehalfOfCredential.__init__-118"><a href="#OnBehalfOfCredential.__init__-118"><span class="linenos">118</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="OnBehalfOfCredential.__init__-119"><a href="#OnBehalfOfCredential.__init__-119"><span class="linenos">119</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Either &quot;client_certificate&quot;, &quot;client_secret&quot;, or &quot;client_assertion_func&quot; must be provided&#39;</span><span class="p">)</span>
</span><span id="OnBehalfOfCredential.__init__-120"><a href="#OnBehalfOfCredential.__init__-120"><span class="linenos">120</span></a>
</span><span id="OnBehalfOfCredential.__init__-121"><a href="#OnBehalfOfCredential.__init__-121"><span class="linenos">121</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">OnBehalfOfCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="OnBehalfOfCredential.__init__-122"><a href="#OnBehalfOfCredential.__init__-122"><span class="linenos">122</span></a>            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_credential</span><span class="o">=</span><span class="n">credential</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="OnBehalfOfCredential.__init__-123"><a href="#OnBehalfOfCredential.__init__-123"><span class="linenos">123</span></a>        <span class="p">)</span>
</span><span id="OnBehalfOfCredential.__init__-124"><a href="#OnBehalfOfCredential.__init__-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_auth_record</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AuthenticationRecord</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="ManagedIdentityCredential">
                            <input id="ManagedIdentityCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ManagedIdentityCredential</span>:

                <label class="view-source-button" for="ManagedIdentityCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ManagedIdentityCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ManagedIdentityCredential-49"><a href="#ManagedIdentityCredential-49"><span class="linenos"> 49</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ManagedIdentityCredential</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential-50"><a href="#ManagedIdentityCredential-50"><span class="linenos"> 50</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticates with an Azure managed identity in any hosting environment which supports managed identities.</span>
</span><span id="ManagedIdentityCredential-51"><a href="#ManagedIdentityCredential-51"><span class="linenos"> 51</span></a>
</span><span id="ManagedIdentityCredential-52"><a href="#ManagedIdentityCredential-52"><span class="linenos"> 52</span></a><span class="sd">    This credential defaults to using a system-assigned identity. To configure a user-assigned identity, use one of</span>
</span><span id="ManagedIdentityCredential-53"><a href="#ManagedIdentityCredential-53"><span class="linenos"> 53</span></a><span class="sd">    the keyword arguments. See `Microsoft Entra ID documentation</span>
</span><span id="ManagedIdentityCredential-54"><a href="#ManagedIdentityCredential-54"><span class="linenos"> 54</span></a><span class="sd">    &lt;https://learn.microsoft.com/entra/identity/managed-identities-azure-resources/overview&gt;`__ for more</span>
</span><span id="ManagedIdentityCredential-55"><a href="#ManagedIdentityCredential-55"><span class="linenos"> 55</span></a><span class="sd">    information about configuring managed identity for applications.</span>
</span><span id="ManagedIdentityCredential-56"><a href="#ManagedIdentityCredential-56"><span class="linenos"> 56</span></a>
</span><span id="ManagedIdentityCredential-57"><a href="#ManagedIdentityCredential-57"><span class="linenos"> 57</span></a><span class="sd">    :keyword str client_id: a user-assigned identity&#39;s client ID or, when using Pod Identity, the client ID of a</span>
</span><span id="ManagedIdentityCredential-58"><a href="#ManagedIdentityCredential-58"><span class="linenos"> 58</span></a><span class="sd">       Microsoft Entra app registration. This argument is supported in all hosting environments.</span>
</span><span id="ManagedIdentityCredential-59"><a href="#ManagedIdentityCredential-59"><span class="linenos"> 59</span></a><span class="sd">    :keyword identity_config: a mapping ``{parameter_name: value}`` specifying a user-assigned identity by its object</span>
</span><span id="ManagedIdentityCredential-60"><a href="#ManagedIdentityCredential-60"><span class="linenos"> 60</span></a><span class="sd">        or resource ID, for example ``{&quot;object_id&quot;: &quot;...&quot;}``. Check the documentation for your hosting environment to</span>
</span><span id="ManagedIdentityCredential-61"><a href="#ManagedIdentityCredential-61"><span class="linenos"> 61</span></a><span class="sd">        learn what values it expects.</span>
</span><span id="ManagedIdentityCredential-62"><a href="#ManagedIdentityCredential-62"><span class="linenos"> 62</span></a><span class="sd">    :paramtype identity_config: Mapping[str, str]</span>
</span><span id="ManagedIdentityCredential-63"><a href="#ManagedIdentityCredential-63"><span class="linenos"> 63</span></a>
</span><span id="ManagedIdentityCredential-64"><a href="#ManagedIdentityCredential-64"><span class="linenos"> 64</span></a><span class="sd">    .. admonition:: Example:</span>
</span><span id="ManagedIdentityCredential-65"><a href="#ManagedIdentityCredential-65"><span class="linenos"> 65</span></a>
</span><span id="ManagedIdentityCredential-66"><a href="#ManagedIdentityCredential-66"><span class="linenos"> 66</span></a><span class="sd">        .. literalinclude:: ../samples/credential_creation_code_snippets.py</span>
</span><span id="ManagedIdentityCredential-67"><a href="#ManagedIdentityCredential-67"><span class="linenos"> 67</span></a><span class="sd">            :start-after: [START create_managed_identity_credential]</span>
</span><span id="ManagedIdentityCredential-68"><a href="#ManagedIdentityCredential-68"><span class="linenos"> 68</span></a><span class="sd">            :end-before: [END create_managed_identity_credential]</span>
</span><span id="ManagedIdentityCredential-69"><a href="#ManagedIdentityCredential-69"><span class="linenos"> 69</span></a><span class="sd">            :language: python</span>
</span><span id="ManagedIdentityCredential-70"><a href="#ManagedIdentityCredential-70"><span class="linenos"> 70</span></a><span class="sd">            :dedent: 4</span>
</span><span id="ManagedIdentityCredential-71"><a href="#ManagedIdentityCredential-71"><span class="linenos"> 71</span></a><span class="sd">            :caption: Create a ManagedIdentityCredential.</span>
</span><span id="ManagedIdentityCredential-72"><a href="#ManagedIdentityCredential-72"><span class="linenos"> 72</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ManagedIdentityCredential-73"><a href="#ManagedIdentityCredential-73"><span class="linenos"> 73</span></a>
</span><span id="ManagedIdentityCredential-74"><a href="#ManagedIdentityCredential-74"><span class="linenos"> 74</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ManagedIdentityCredential-75"><a href="#ManagedIdentityCredential-75"><span class="linenos"> 75</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">identity_config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="ManagedIdentityCredential-76"><a href="#ManagedIdentityCredential-76"><span class="linenos"> 76</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential-77"><a href="#ManagedIdentityCredential-77"><span class="linenos"> 77</span></a>        <span class="n">user_identity_info</span> <span class="o">=</span> <span class="n">validate_identity_config</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">identity_config</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential-78"><a href="#ManagedIdentityCredential-78"><span class="linenos"> 78</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SupportsTokenInfo</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ManagedIdentityCredential-79"><a href="#ManagedIdentityCredential-79"><span class="linenos"> 79</span></a>        <span class="n">exclude_workload_identity</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;_exclude_workload_identity_credential&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential-80"><a href="#ManagedIdentityCredential-80"><span class="linenos"> 80</span></a>        <span class="n">managed_identity_type</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ManagedIdentityCredential-81"><a href="#ManagedIdentityCredential-81"><span class="linenos"> 81</span></a>
</span><span id="ManagedIdentityCredential-82"><a href="#ManagedIdentityCredential-82"><span class="linenos"> 82</span></a>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">IDENTITY_ENDPOINT</span><span class="p">):</span>
</span><span id="ManagedIdentityCredential-83"><a href="#ManagedIdentityCredential-83"><span class="linenos"> 83</span></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">IDENTITY_HEADER</span><span class="p">):</span>
</span><span id="ManagedIdentityCredential-84"><a href="#ManagedIdentityCredential-84"><span class="linenos"> 84</span></a>                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">IDENTITY_SERVER_THUMBPRINT</span><span class="p">):</span>
</span><span id="ManagedIdentityCredential-85"><a href="#ManagedIdentityCredential-85"><span class="linenos"> 85</span></a>                    <span class="n">managed_identity_type</span> <span class="o">=</span> <span class="s2">&quot;Service Fabric managed identity&quot;</span>
</span><span id="ManagedIdentityCredential-86"><a href="#ManagedIdentityCredential-86"><span class="linenos"> 86</span></a>                    <span class="kn">from</span><span class="w"> </span><span class="nn">.service_fabric</span><span class="w"> </span><span class="kn">import</span> <span class="n">ServiceFabricCredential</span>
</span><span id="ManagedIdentityCredential-87"><a href="#ManagedIdentityCredential-87"><span class="linenos"> 87</span></a>
</span><span id="ManagedIdentityCredential-88"><a href="#ManagedIdentityCredential-88"><span class="linenos"> 88</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">ServiceFabricCredential</span><span class="p">(</span>
</span><span id="ManagedIdentityCredential-89"><a href="#ManagedIdentityCredential-89"><span class="linenos"> 89</span></a>                        <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">identity_config</span><span class="o">=</span><span class="n">identity_config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="ManagedIdentityCredential-90"><a href="#ManagedIdentityCredential-90"><span class="linenos"> 90</span></a>                    <span class="p">)</span>
</span><span id="ManagedIdentityCredential-91"><a href="#ManagedIdentityCredential-91"><span class="linenos"> 91</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential-92"><a href="#ManagedIdentityCredential-92"><span class="linenos"> 92</span></a>                    <span class="n">managed_identity_type</span> <span class="o">=</span> <span class="s2">&quot;App Service managed identity&quot;</span>
</span><span id="ManagedIdentityCredential-93"><a href="#ManagedIdentityCredential-93"><span class="linenos"> 93</span></a>                    <span class="kn">from</span><span class="w"> </span><span class="nn">.app_service</span><span class="w"> </span><span class="kn">import</span> <span class="n">AppServiceCredential</span>
</span><span id="ManagedIdentityCredential-94"><a href="#ManagedIdentityCredential-94"><span class="linenos"> 94</span></a>
</span><span id="ManagedIdentityCredential-95"><a href="#ManagedIdentityCredential-95"><span class="linenos"> 95</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">AppServiceCredential</span><span class="p">(</span>
</span><span id="ManagedIdentityCredential-96"><a href="#ManagedIdentityCredential-96"><span class="linenos"> 96</span></a>                        <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">identity_config</span><span class="o">=</span><span class="n">identity_config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="ManagedIdentityCredential-97"><a href="#ManagedIdentityCredential-97"><span class="linenos"> 97</span></a>                    <span class="p">)</span>
</span><span id="ManagedIdentityCredential-98"><a href="#ManagedIdentityCredential-98"><span class="linenos"> 98</span></a>            <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">IMDS_ENDPOINT</span><span class="p">):</span>
</span><span id="ManagedIdentityCredential-99"><a href="#ManagedIdentityCredential-99"><span class="linenos"> 99</span></a>                <span class="n">managed_identity_type</span> <span class="o">=</span> <span class="s2">&quot;Azure Arc managed identity&quot;</span>
</span><span id="ManagedIdentityCredential-100"><a href="#ManagedIdentityCredential-100"><span class="linenos">100</span></a>                <span class="kn">from</span><span class="w"> </span><span class="nn">.azure_arc</span><span class="w"> </span><span class="kn">import</span> <span class="n">AzureArcCredential</span>
</span><span id="ManagedIdentityCredential-101"><a href="#ManagedIdentityCredential-101"><span class="linenos">101</span></a>
</span><span id="ManagedIdentityCredential-102"><a href="#ManagedIdentityCredential-102"><span class="linenos">102</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">AzureArcCredential</span><span class="p">(</span><span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">identity_config</span><span class="o">=</span><span class="n">identity_config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential-103"><a href="#ManagedIdentityCredential-103"><span class="linenos">103</span></a>        <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">MSI_ENDPOINT</span><span class="p">):</span>
</span><span id="ManagedIdentityCredential-104"><a href="#ManagedIdentityCredential-104"><span class="linenos">104</span></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">MSI_SECRET</span><span class="p">):</span>
</span><span id="ManagedIdentityCredential-105"><a href="#ManagedIdentityCredential-105"><span class="linenos">105</span></a>                <span class="n">managed_identity_type</span> <span class="o">=</span> <span class="s2">&quot;Azure ML managed identity&quot;</span>
</span><span id="ManagedIdentityCredential-106"><a href="#ManagedIdentityCredential-106"><span class="linenos">106</span></a>                <span class="kn">from</span><span class="w"> </span><span class="nn">.azure_ml</span><span class="w"> </span><span class="kn">import</span> <span class="n">AzureMLCredential</span>
</span><span id="ManagedIdentityCredential-107"><a href="#ManagedIdentityCredential-107"><span class="linenos">107</span></a>
</span><span id="ManagedIdentityCredential-108"><a href="#ManagedIdentityCredential-108"><span class="linenos">108</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">AzureMLCredential</span><span class="p">(</span><span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">identity_config</span><span class="o">=</span><span class="n">identity_config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential-109"><a href="#ManagedIdentityCredential-109"><span class="linenos">109</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential-110"><a href="#ManagedIdentityCredential-110"><span class="linenos">110</span></a>                <span class="n">managed_identity_type</span> <span class="o">=</span> <span class="s2">&quot;Cloud Shell managed identity&quot;</span>
</span><span id="ManagedIdentityCredential-111"><a href="#ManagedIdentityCredential-111"><span class="linenos">111</span></a>                <span class="kn">from</span><span class="w"> </span><span class="nn">.cloud_shell</span><span class="w"> </span><span class="kn">import</span> <span class="n">CloudShellCredential</span>
</span><span id="ManagedIdentityCredential-112"><a href="#ManagedIdentityCredential-112"><span class="linenos">112</span></a>
</span><span id="ManagedIdentityCredential-113"><a href="#ManagedIdentityCredential-113"><span class="linenos">113</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">CloudShellCredential</span><span class="p">(</span><span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">identity_config</span><span class="o">=</span><span class="n">identity_config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential-114"><a href="#ManagedIdentityCredential-114"><span class="linenos">114</span></a>        <span class="k">elif</span> <span class="p">(</span>
</span><span id="ManagedIdentityCredential-115"><a href="#ManagedIdentityCredential-115"><span class="linenos">115</span></a>            <span class="nb">all</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">var</span><span class="p">)</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">WORKLOAD_IDENTITY_VARS</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential-116"><a href="#ManagedIdentityCredential-116"><span class="linenos">116</span></a>            <span class="ow">and</span> <span class="ow">not</span> <span class="n">exclude_workload_identity</span>
</span><span id="ManagedIdentityCredential-117"><a href="#ManagedIdentityCredential-117"><span class="linenos">117</span></a>        <span class="p">):</span>
</span><span id="ManagedIdentityCredential-118"><a href="#ManagedIdentityCredential-118"><span class="linenos">118</span></a>            <span class="kn">from</span><span class="w"> </span><span class="nn">.workload_identity</span><span class="w"> </span><span class="kn">import</span> <span class="n">WorkloadIdentityCredential</span>
</span><span id="ManagedIdentityCredential-119"><a href="#ManagedIdentityCredential-119"><span class="linenos">119</span></a>
</span><span id="ManagedIdentityCredential-120"><a href="#ManagedIdentityCredential-120"><span class="linenos">120</span></a>            <span class="n">workload_client_id</span> <span class="o">=</span> <span class="n">client_id</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_ID</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential-121"><a href="#ManagedIdentityCredential-121"><span class="linenos">121</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">workload_client_id</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential-122"><a href="#ManagedIdentityCredential-122"><span class="linenos">122</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="ManagedIdentityCredential-123"><a href="#ManagedIdentityCredential-123"><span class="linenos">123</span></a>                    <span class="s2">&quot;Workload identity was selected but no client ID was provided. &quot;</span>
</span><span id="ManagedIdentityCredential-124"><a href="#ManagedIdentityCredential-124"><span class="linenos">124</span></a>                    <span class="s1">&#39;Configure the environment with a client ID or pass a value for &quot;client_id&quot; argument&#39;</span>
</span><span id="ManagedIdentityCredential-125"><a href="#ManagedIdentityCredential-125"><span class="linenos">125</span></a>                <span class="p">)</span>
</span><span id="ManagedIdentityCredential-126"><a href="#ManagedIdentityCredential-126"><span class="linenos">126</span></a>
</span><span id="ManagedIdentityCredential-127"><a href="#ManagedIdentityCredential-127"><span class="linenos">127</span></a>            <span class="n">managed_identity_type</span> <span class="o">=</span> <span class="s2">&quot;workload identity&quot;</span>
</span><span id="ManagedIdentityCredential-128"><a href="#ManagedIdentityCredential-128"><span class="linenos">128</span></a>            <span class="n">user_identity_info</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;client_id&quot;</span><span class="p">,</span> <span class="n">workload_client_id</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential-129"><a href="#ManagedIdentityCredential-129"><span class="linenos">129</span></a>
</span><span id="ManagedIdentityCredential-130"><a href="#ManagedIdentityCredential-130"><span class="linenos">130</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">WorkloadIdentityCredential</span><span class="p">(</span>
</span><span id="ManagedIdentityCredential-131"><a href="#ManagedIdentityCredential-131"><span class="linenos">131</span></a>                <span class="n">tenant_id</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_TENANT_ID</span><span class="p">],</span>
</span><span id="ManagedIdentityCredential-132"><a href="#ManagedIdentityCredential-132"><span class="linenos">132</span></a>                <span class="n">client_id</span><span class="o">=</span><span class="n">workload_client_id</span><span class="p">,</span>
</span><span id="ManagedIdentityCredential-133"><a href="#ManagedIdentityCredential-133"><span class="linenos">133</span></a>                <span class="n">token_file_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_FEDERATED_TOKEN_FILE</span><span class="p">],</span>
</span><span id="ManagedIdentityCredential-134"><a href="#ManagedIdentityCredential-134"><span class="linenos">134</span></a>                <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="ManagedIdentityCredential-135"><a href="#ManagedIdentityCredential-135"><span class="linenos">135</span></a>            <span class="p">)</span>
</span><span id="ManagedIdentityCredential-136"><a href="#ManagedIdentityCredential-136"><span class="linenos">136</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential-137"><a href="#ManagedIdentityCredential-137"><span class="linenos">137</span></a>            <span class="n">managed_identity_type</span> <span class="o">=</span> <span class="s2">&quot;IMDS&quot;</span>
</span><span id="ManagedIdentityCredential-138"><a href="#ManagedIdentityCredential-138"><span class="linenos">138</span></a>            <span class="kn">from</span><span class="w"> </span><span class="nn">.imds</span><span class="w"> </span><span class="kn">import</span> <span class="n">ImdsCredential</span>
</span><span id="ManagedIdentityCredential-139"><a href="#ManagedIdentityCredential-139"><span class="linenos">139</span></a>
</span><span id="ManagedIdentityCredential-140"><a href="#ManagedIdentityCredential-140"><span class="linenos">140</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">ImdsCredential</span><span class="p">(</span><span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">identity_config</span><span class="o">=</span><span class="n">identity_config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential-141"><a href="#ManagedIdentityCredential-141"><span class="linenos">141</span></a>
</span><span id="ManagedIdentityCredential-142"><a href="#ManagedIdentityCredential-142"><span class="linenos">142</span></a>        <span class="k">if</span> <span class="n">managed_identity_type</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential-143"><a href="#ManagedIdentityCredential-143"><span class="linenos">143</span></a>            <span class="n">log_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> will use </span><span class="si">{</span><span class="n">managed_identity_type</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="ManagedIdentityCredential-144"><a href="#ManagedIdentityCredential-144"><span class="linenos">144</span></a>            <span class="k">if</span> <span class="n">user_identity_info</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential-145"><a href="#ManagedIdentityCredential-145"><span class="linenos">145</span></a>                <span class="n">log_msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; with </span><span class="si">{</span><span class="n">user_identity_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">user_identity_info</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="ManagedIdentityCredential-146"><a href="#ManagedIdentityCredential-146"><span class="linenos">146</span></a>            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">log_msg</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential-147"><a href="#ManagedIdentityCredential-147"><span class="linenos">147</span></a>
</span><span id="ManagedIdentityCredential-148"><a href="#ManagedIdentityCredential-148"><span class="linenos">148</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ManagedIdentityCredential&quot;</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential-149"><a href="#ManagedIdentityCredential-149"><span class="linenos">149</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential-150"><a href="#ManagedIdentityCredential-150"><span class="linenos">150</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="o">.</span><span class="fm">__enter__</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
</span><span id="ManagedIdentityCredential-151"><a href="#ManagedIdentityCredential-151"><span class="linenos">151</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="ManagedIdentityCredential-152"><a href="#ManagedIdentityCredential-152"><span class="linenos">152</span></a>
</span><span id="ManagedIdentityCredential-153"><a href="#ManagedIdentityCredential-153"><span class="linenos">153</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential-154"><a href="#ManagedIdentityCredential-154"><span class="linenos">154</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential-155"><a href="#ManagedIdentityCredential-155"><span class="linenos">155</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="ManagedIdentityCredential-156"><a href="#ManagedIdentityCredential-156"><span class="linenos">156</span></a>
</span><span id="ManagedIdentityCredential-157"><a href="#ManagedIdentityCredential-157"><span class="linenos">157</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential-158"><a href="#ManagedIdentityCredential-158"><span class="linenos">158</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the credential&#39;s transport session.&quot;&quot;&quot;</span>
</span><span id="ManagedIdentityCredential-159"><a href="#ManagedIdentityCredential-159"><span class="linenos">159</span></a>        <span class="bp">self</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">()</span>
</span><span id="ManagedIdentityCredential-160"><a href="#ManagedIdentityCredential-160"><span class="linenos">160</span></a>
</span><span id="ManagedIdentityCredential-161"><a href="#ManagedIdentityCredential-161"><span class="linenos">161</span></a>    <span class="nd">@log_get_token</span>
</span><span id="ManagedIdentityCredential-162"><a href="#ManagedIdentityCredential-162"><span class="linenos">162</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="ManagedIdentityCredential-163"><a href="#ManagedIdentityCredential-163"><span class="linenos">163</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="ManagedIdentityCredential-164"><a href="#ManagedIdentityCredential-164"><span class="linenos">164</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential-165"><a href="#ManagedIdentityCredential-165"><span class="linenos">165</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="ManagedIdentityCredential-166"><a href="#ManagedIdentityCredential-166"><span class="linenos">166</span></a>
</span><span id="ManagedIdentityCredential-167"><a href="#ManagedIdentityCredential-167"><span class="linenos">167</span></a><span class="sd">        This method is called automatically by Azure SDK clients.</span>
</span><span id="ManagedIdentityCredential-168"><a href="#ManagedIdentityCredential-168"><span class="linenos">168</span></a>
</span><span id="ManagedIdentityCredential-169"><a href="#ManagedIdentityCredential-169"><span class="linenos">169</span></a><span class="sd">        :param str scopes: desired scope for the access token. This credential allows only one scope per request.</span>
</span><span id="ManagedIdentityCredential-170"><a href="#ManagedIdentityCredential-170"><span class="linenos">170</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="ManagedIdentityCredential-171"><a href="#ManagedIdentityCredential-171"><span class="linenos">171</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="ManagedIdentityCredential-172"><a href="#ManagedIdentityCredential-172"><span class="linenos">172</span></a>
</span><span id="ManagedIdentityCredential-173"><a href="#ManagedIdentityCredential-173"><span class="linenos">173</span></a><span class="sd">        :keyword str claims: not used by this credential; any value provided will be ignored.</span>
</span><span id="ManagedIdentityCredential-174"><a href="#ManagedIdentityCredential-174"><span class="linenos">174</span></a><span class="sd">        :keyword str tenant_id: not used by this credential; any value provided will be ignored.</span>
</span><span id="ManagedIdentityCredential-175"><a href="#ManagedIdentityCredential-175"><span class="linenos">175</span></a>
</span><span id="ManagedIdentityCredential-176"><a href="#ManagedIdentityCredential-176"><span class="linenos">176</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="ManagedIdentityCredential-177"><a href="#ManagedIdentityCredential-177"><span class="linenos">177</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="ManagedIdentityCredential-178"><a href="#ManagedIdentityCredential-178"><span class="linenos">178</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: managed identity isn&#39;t available in the hosting environment</span>
</span><span id="ManagedIdentityCredential-179"><a href="#ManagedIdentityCredential-179"><span class="linenos">179</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ManagedIdentityCredential-180"><a href="#ManagedIdentityCredential-180"><span class="linenos">180</span></a>
</span><span id="ManagedIdentityCredential-181"><a href="#ManagedIdentityCredential-181"><span class="linenos">181</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential-182"><a href="#ManagedIdentityCredential-182"><span class="linenos">182</span></a>            <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span>
</span><span id="ManagedIdentityCredential-183"><a href="#ManagedIdentityCredential-183"><span class="linenos">183</span></a>                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;No managed identity endpoint found. </span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="ManagedIdentityCredential-184"><a href="#ManagedIdentityCredential-184"><span class="linenos">184</span></a>                <span class="s2">&quot;The Target Azure platform could not be determined from environment variables. </span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="ManagedIdentityCredential-185"><a href="#ManagedIdentityCredential-185"><span class="linenos">185</span></a>                <span class="s2">&quot;Visit https://aka.ms/azsdk/python/identity/managedidentitycredential/troubleshoot to &quot;</span>
</span><span id="ManagedIdentityCredential-186"><a href="#ManagedIdentityCredential-186"><span class="linenos">186</span></a>                <span class="s2">&quot;troubleshoot this issue.&quot;</span>
</span><span id="ManagedIdentityCredential-187"><a href="#ManagedIdentityCredential-187"><span class="linenos">187</span></a>            <span class="p">)</span>
</span><span id="ManagedIdentityCredential-188"><a href="#ManagedIdentityCredential-188"><span class="linenos">188</span></a>        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">TokenCredential</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential-189"><a href="#ManagedIdentityCredential-189"><span class="linenos">189</span></a>
</span><span id="ManagedIdentityCredential-190"><a href="#ManagedIdentityCredential-190"><span class="linenos">190</span></a>    <span class="nd">@log_get_token</span>
</span><span id="ManagedIdentityCredential-191"><a href="#ManagedIdentityCredential-191"><span class="linenos">191</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential-192"><a href="#ManagedIdentityCredential-192"><span class="linenos">192</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="ManagedIdentityCredential-193"><a href="#ManagedIdentityCredential-193"><span class="linenos">193</span></a>
</span><span id="ManagedIdentityCredential-194"><a href="#ManagedIdentityCredential-194"><span class="linenos">194</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="ManagedIdentityCredential-195"><a href="#ManagedIdentityCredential-195"><span class="linenos">195</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients.</span>
</span><span id="ManagedIdentityCredential-196"><a href="#ManagedIdentityCredential-196"><span class="linenos">196</span></a>
</span><span id="ManagedIdentityCredential-197"><a href="#ManagedIdentityCredential-197"><span class="linenos">197</span></a><span class="sd">        :param str scopes: desired scope for the access token. This credential allows only one scope per request.</span>
</span><span id="ManagedIdentityCredential-198"><a href="#ManagedIdentityCredential-198"><span class="linenos">198</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="ManagedIdentityCredential-199"><a href="#ManagedIdentityCredential-199"><span class="linenos">199</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="ManagedIdentityCredential-200"><a href="#ManagedIdentityCredential-200"><span class="linenos">200</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="ManagedIdentityCredential-201"><a href="#ManagedIdentityCredential-201"><span class="linenos">201</span></a>
</span><span id="ManagedIdentityCredential-202"><a href="#ManagedIdentityCredential-202"><span class="linenos">202</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="ManagedIdentityCredential-203"><a href="#ManagedIdentityCredential-203"><span class="linenos">203</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="ManagedIdentityCredential-204"><a href="#ManagedIdentityCredential-204"><span class="linenos">204</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: managed identity isn&#39;t available in the hosting environment.</span>
</span><span id="ManagedIdentityCredential-205"><a href="#ManagedIdentityCredential-205"><span class="linenos">205</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ManagedIdentityCredential-206"><a href="#ManagedIdentityCredential-206"><span class="linenos">206</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential-207"><a href="#ManagedIdentityCredential-207"><span class="linenos">207</span></a>            <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span>
</span><span id="ManagedIdentityCredential-208"><a href="#ManagedIdentityCredential-208"><span class="linenos">208</span></a>                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;No managed identity endpoint found. </span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="ManagedIdentityCredential-209"><a href="#ManagedIdentityCredential-209"><span class="linenos">209</span></a>                <span class="s2">&quot;The Target Azure platform could not be determined from environment variables. </span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="ManagedIdentityCredential-210"><a href="#ManagedIdentityCredential-210"><span class="linenos">210</span></a>                <span class="s2">&quot;Visit https://aka.ms/azsdk/python/identity/managedidentitycredential/troubleshoot to &quot;</span>
</span><span id="ManagedIdentityCredential-211"><a href="#ManagedIdentityCredential-211"><span class="linenos">211</span></a>                <span class="s2">&quot;troubleshoot this issue.&quot;</span>
</span><span id="ManagedIdentityCredential-212"><a href="#ManagedIdentityCredential-212"><span class="linenos">212</span></a>            <span class="p">)</span>
</span><span id="ManagedIdentityCredential-213"><a href="#ManagedIdentityCredential-213"><span class="linenos">213</span></a>        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">SupportsTokenInfo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Authenticates with an Azure managed identity in any hosting environment which supports managed identities.</p>

<p>This credential defaults to using a system-assigned identity. To configure a user-assigned identity, use one of
the keyword arguments. See <a href="https://learn.microsoft.com/entra/identity/managed-identities-azure-resources/overview">Microsoft Entra ID documentation
</a>_ for more
information about configuring managed identity for applications.</p>

<p>:keyword str client_id: a user-assigned identity's client ID or, when using Pod Identity, the client ID of a
   Microsoft Entra app registration. This argument is supported in all hosting environments.
:keyword identity_config: a mapping <code>{parameter_name: value}</code> specifying a user-assigned identity by its object
    or resource ID, for example <code>{"object_id": "..."}</code>. Check the documentation for your hosting environment to
    learn what values it expects.
:paramtype identity_config: Mapping[str, str]</p>

<p>.. admonition:: Example:</p>

<pre><code>.. literalinclude:: ../samples/credential_creation_code_snippets.py
    :start-after: [START create_managed_identity_credential]
    :end-before: [END create_managed_identity_credential]
    :language: python
    :dedent: 4
    :caption: Create a ManagedIdentityCredential.
</code></pre>
</div>


                            <div id="ManagedIdentityCredential.__init__" class="classattr">
                                        <input id="ManagedIdentityCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ManagedIdentityCredential</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">client_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">identity_config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="ManagedIdentityCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ManagedIdentityCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ManagedIdentityCredential.__init__-74"><a href="#ManagedIdentityCredential.__init__-74"><span class="linenos"> 74</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ManagedIdentityCredential.__init__-75"><a href="#ManagedIdentityCredential.__init__-75"><span class="linenos"> 75</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">identity_config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="ManagedIdentityCredential.__init__-76"><a href="#ManagedIdentityCredential.__init__-76"><span class="linenos"> 76</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential.__init__-77"><a href="#ManagedIdentityCredential.__init__-77"><span class="linenos"> 77</span></a>        <span class="n">user_identity_info</span> <span class="o">=</span> <span class="n">validate_identity_config</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">identity_config</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential.__init__-78"><a href="#ManagedIdentityCredential.__init__-78"><span class="linenos"> 78</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SupportsTokenInfo</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ManagedIdentityCredential.__init__-79"><a href="#ManagedIdentityCredential.__init__-79"><span class="linenos"> 79</span></a>        <span class="n">exclude_workload_identity</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;_exclude_workload_identity_credential&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential.__init__-80"><a href="#ManagedIdentityCredential.__init__-80"><span class="linenos"> 80</span></a>        <span class="n">managed_identity_type</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ManagedIdentityCredential.__init__-81"><a href="#ManagedIdentityCredential.__init__-81"><span class="linenos"> 81</span></a>
</span><span id="ManagedIdentityCredential.__init__-82"><a href="#ManagedIdentityCredential.__init__-82"><span class="linenos"> 82</span></a>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">IDENTITY_ENDPOINT</span><span class="p">):</span>
</span><span id="ManagedIdentityCredential.__init__-83"><a href="#ManagedIdentityCredential.__init__-83"><span class="linenos"> 83</span></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">IDENTITY_HEADER</span><span class="p">):</span>
</span><span id="ManagedIdentityCredential.__init__-84"><a href="#ManagedIdentityCredential.__init__-84"><span class="linenos"> 84</span></a>                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">IDENTITY_SERVER_THUMBPRINT</span><span class="p">):</span>
</span><span id="ManagedIdentityCredential.__init__-85"><a href="#ManagedIdentityCredential.__init__-85"><span class="linenos"> 85</span></a>                    <span class="n">managed_identity_type</span> <span class="o">=</span> <span class="s2">&quot;Service Fabric managed identity&quot;</span>
</span><span id="ManagedIdentityCredential.__init__-86"><a href="#ManagedIdentityCredential.__init__-86"><span class="linenos"> 86</span></a>                    <span class="kn">from</span><span class="w"> </span><span class="nn">.service_fabric</span><span class="w"> </span><span class="kn">import</span> <span class="n">ServiceFabricCredential</span>
</span><span id="ManagedIdentityCredential.__init__-87"><a href="#ManagedIdentityCredential.__init__-87"><span class="linenos"> 87</span></a>
</span><span id="ManagedIdentityCredential.__init__-88"><a href="#ManagedIdentityCredential.__init__-88"><span class="linenos"> 88</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">ServiceFabricCredential</span><span class="p">(</span>
</span><span id="ManagedIdentityCredential.__init__-89"><a href="#ManagedIdentityCredential.__init__-89"><span class="linenos"> 89</span></a>                        <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">identity_config</span><span class="o">=</span><span class="n">identity_config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="ManagedIdentityCredential.__init__-90"><a href="#ManagedIdentityCredential.__init__-90"><span class="linenos"> 90</span></a>                    <span class="p">)</span>
</span><span id="ManagedIdentityCredential.__init__-91"><a href="#ManagedIdentityCredential.__init__-91"><span class="linenos"> 91</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential.__init__-92"><a href="#ManagedIdentityCredential.__init__-92"><span class="linenos"> 92</span></a>                    <span class="n">managed_identity_type</span> <span class="o">=</span> <span class="s2">&quot;App Service managed identity&quot;</span>
</span><span id="ManagedIdentityCredential.__init__-93"><a href="#ManagedIdentityCredential.__init__-93"><span class="linenos"> 93</span></a>                    <span class="kn">from</span><span class="w"> </span><span class="nn">.app_service</span><span class="w"> </span><span class="kn">import</span> <span class="n">AppServiceCredential</span>
</span><span id="ManagedIdentityCredential.__init__-94"><a href="#ManagedIdentityCredential.__init__-94"><span class="linenos"> 94</span></a>
</span><span id="ManagedIdentityCredential.__init__-95"><a href="#ManagedIdentityCredential.__init__-95"><span class="linenos"> 95</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">AppServiceCredential</span><span class="p">(</span>
</span><span id="ManagedIdentityCredential.__init__-96"><a href="#ManagedIdentityCredential.__init__-96"><span class="linenos"> 96</span></a>                        <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">identity_config</span><span class="o">=</span><span class="n">identity_config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="ManagedIdentityCredential.__init__-97"><a href="#ManagedIdentityCredential.__init__-97"><span class="linenos"> 97</span></a>                    <span class="p">)</span>
</span><span id="ManagedIdentityCredential.__init__-98"><a href="#ManagedIdentityCredential.__init__-98"><span class="linenos"> 98</span></a>            <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">IMDS_ENDPOINT</span><span class="p">):</span>
</span><span id="ManagedIdentityCredential.__init__-99"><a href="#ManagedIdentityCredential.__init__-99"><span class="linenos"> 99</span></a>                <span class="n">managed_identity_type</span> <span class="o">=</span> <span class="s2">&quot;Azure Arc managed identity&quot;</span>
</span><span id="ManagedIdentityCredential.__init__-100"><a href="#ManagedIdentityCredential.__init__-100"><span class="linenos">100</span></a>                <span class="kn">from</span><span class="w"> </span><span class="nn">.azure_arc</span><span class="w"> </span><span class="kn">import</span> <span class="n">AzureArcCredential</span>
</span><span id="ManagedIdentityCredential.__init__-101"><a href="#ManagedIdentityCredential.__init__-101"><span class="linenos">101</span></a>
</span><span id="ManagedIdentityCredential.__init__-102"><a href="#ManagedIdentityCredential.__init__-102"><span class="linenos">102</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">AzureArcCredential</span><span class="p">(</span><span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">identity_config</span><span class="o">=</span><span class="n">identity_config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential.__init__-103"><a href="#ManagedIdentityCredential.__init__-103"><span class="linenos">103</span></a>        <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">MSI_ENDPOINT</span><span class="p">):</span>
</span><span id="ManagedIdentityCredential.__init__-104"><a href="#ManagedIdentityCredential.__init__-104"><span class="linenos">104</span></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">MSI_SECRET</span><span class="p">):</span>
</span><span id="ManagedIdentityCredential.__init__-105"><a href="#ManagedIdentityCredential.__init__-105"><span class="linenos">105</span></a>                <span class="n">managed_identity_type</span> <span class="o">=</span> <span class="s2">&quot;Azure ML managed identity&quot;</span>
</span><span id="ManagedIdentityCredential.__init__-106"><a href="#ManagedIdentityCredential.__init__-106"><span class="linenos">106</span></a>                <span class="kn">from</span><span class="w"> </span><span class="nn">.azure_ml</span><span class="w"> </span><span class="kn">import</span> <span class="n">AzureMLCredential</span>
</span><span id="ManagedIdentityCredential.__init__-107"><a href="#ManagedIdentityCredential.__init__-107"><span class="linenos">107</span></a>
</span><span id="ManagedIdentityCredential.__init__-108"><a href="#ManagedIdentityCredential.__init__-108"><span class="linenos">108</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">AzureMLCredential</span><span class="p">(</span><span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">identity_config</span><span class="o">=</span><span class="n">identity_config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential.__init__-109"><a href="#ManagedIdentityCredential.__init__-109"><span class="linenos">109</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential.__init__-110"><a href="#ManagedIdentityCredential.__init__-110"><span class="linenos">110</span></a>                <span class="n">managed_identity_type</span> <span class="o">=</span> <span class="s2">&quot;Cloud Shell managed identity&quot;</span>
</span><span id="ManagedIdentityCredential.__init__-111"><a href="#ManagedIdentityCredential.__init__-111"><span class="linenos">111</span></a>                <span class="kn">from</span><span class="w"> </span><span class="nn">.cloud_shell</span><span class="w"> </span><span class="kn">import</span> <span class="n">CloudShellCredential</span>
</span><span id="ManagedIdentityCredential.__init__-112"><a href="#ManagedIdentityCredential.__init__-112"><span class="linenos">112</span></a>
</span><span id="ManagedIdentityCredential.__init__-113"><a href="#ManagedIdentityCredential.__init__-113"><span class="linenos">113</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">CloudShellCredential</span><span class="p">(</span><span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">identity_config</span><span class="o">=</span><span class="n">identity_config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential.__init__-114"><a href="#ManagedIdentityCredential.__init__-114"><span class="linenos">114</span></a>        <span class="k">elif</span> <span class="p">(</span>
</span><span id="ManagedIdentityCredential.__init__-115"><a href="#ManagedIdentityCredential.__init__-115"><span class="linenos">115</span></a>            <span class="nb">all</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">var</span><span class="p">)</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">WORKLOAD_IDENTITY_VARS</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential.__init__-116"><a href="#ManagedIdentityCredential.__init__-116"><span class="linenos">116</span></a>            <span class="ow">and</span> <span class="ow">not</span> <span class="n">exclude_workload_identity</span>
</span><span id="ManagedIdentityCredential.__init__-117"><a href="#ManagedIdentityCredential.__init__-117"><span class="linenos">117</span></a>        <span class="p">):</span>
</span><span id="ManagedIdentityCredential.__init__-118"><a href="#ManagedIdentityCredential.__init__-118"><span class="linenos">118</span></a>            <span class="kn">from</span><span class="w"> </span><span class="nn">.workload_identity</span><span class="w"> </span><span class="kn">import</span> <span class="n">WorkloadIdentityCredential</span>
</span><span id="ManagedIdentityCredential.__init__-119"><a href="#ManagedIdentityCredential.__init__-119"><span class="linenos">119</span></a>
</span><span id="ManagedIdentityCredential.__init__-120"><a href="#ManagedIdentityCredential.__init__-120"><span class="linenos">120</span></a>            <span class="n">workload_client_id</span> <span class="o">=</span> <span class="n">client_id</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_ID</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential.__init__-121"><a href="#ManagedIdentityCredential.__init__-121"><span class="linenos">121</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">workload_client_id</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential.__init__-122"><a href="#ManagedIdentityCredential.__init__-122"><span class="linenos">122</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="ManagedIdentityCredential.__init__-123"><a href="#ManagedIdentityCredential.__init__-123"><span class="linenos">123</span></a>                    <span class="s2">&quot;Workload identity was selected but no client ID was provided. &quot;</span>
</span><span id="ManagedIdentityCredential.__init__-124"><a href="#ManagedIdentityCredential.__init__-124"><span class="linenos">124</span></a>                    <span class="s1">&#39;Configure the environment with a client ID or pass a value for &quot;client_id&quot; argument&#39;</span>
</span><span id="ManagedIdentityCredential.__init__-125"><a href="#ManagedIdentityCredential.__init__-125"><span class="linenos">125</span></a>                <span class="p">)</span>
</span><span id="ManagedIdentityCredential.__init__-126"><a href="#ManagedIdentityCredential.__init__-126"><span class="linenos">126</span></a>
</span><span id="ManagedIdentityCredential.__init__-127"><a href="#ManagedIdentityCredential.__init__-127"><span class="linenos">127</span></a>            <span class="n">managed_identity_type</span> <span class="o">=</span> <span class="s2">&quot;workload identity&quot;</span>
</span><span id="ManagedIdentityCredential.__init__-128"><a href="#ManagedIdentityCredential.__init__-128"><span class="linenos">128</span></a>            <span class="n">user_identity_info</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;client_id&quot;</span><span class="p">,</span> <span class="n">workload_client_id</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential.__init__-129"><a href="#ManagedIdentityCredential.__init__-129"><span class="linenos">129</span></a>
</span><span id="ManagedIdentityCredential.__init__-130"><a href="#ManagedIdentityCredential.__init__-130"><span class="linenos">130</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">WorkloadIdentityCredential</span><span class="p">(</span>
</span><span id="ManagedIdentityCredential.__init__-131"><a href="#ManagedIdentityCredential.__init__-131"><span class="linenos">131</span></a>                <span class="n">tenant_id</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_TENANT_ID</span><span class="p">],</span>
</span><span id="ManagedIdentityCredential.__init__-132"><a href="#ManagedIdentityCredential.__init__-132"><span class="linenos">132</span></a>                <span class="n">client_id</span><span class="o">=</span><span class="n">workload_client_id</span><span class="p">,</span>
</span><span id="ManagedIdentityCredential.__init__-133"><a href="#ManagedIdentityCredential.__init__-133"><span class="linenos">133</span></a>                <span class="n">token_file_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_FEDERATED_TOKEN_FILE</span><span class="p">],</span>
</span><span id="ManagedIdentityCredential.__init__-134"><a href="#ManagedIdentityCredential.__init__-134"><span class="linenos">134</span></a>                <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="ManagedIdentityCredential.__init__-135"><a href="#ManagedIdentityCredential.__init__-135"><span class="linenos">135</span></a>            <span class="p">)</span>
</span><span id="ManagedIdentityCredential.__init__-136"><a href="#ManagedIdentityCredential.__init__-136"><span class="linenos">136</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential.__init__-137"><a href="#ManagedIdentityCredential.__init__-137"><span class="linenos">137</span></a>            <span class="n">managed_identity_type</span> <span class="o">=</span> <span class="s2">&quot;IMDS&quot;</span>
</span><span id="ManagedIdentityCredential.__init__-138"><a href="#ManagedIdentityCredential.__init__-138"><span class="linenos">138</span></a>            <span class="kn">from</span><span class="w"> </span><span class="nn">.imds</span><span class="w"> </span><span class="kn">import</span> <span class="n">ImdsCredential</span>
</span><span id="ManagedIdentityCredential.__init__-139"><a href="#ManagedIdentityCredential.__init__-139"><span class="linenos">139</span></a>
</span><span id="ManagedIdentityCredential.__init__-140"><a href="#ManagedIdentityCredential.__init__-140"><span class="linenos">140</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">ImdsCredential</span><span class="p">(</span><span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">identity_config</span><span class="o">=</span><span class="n">identity_config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="ManagedIdentityCredential.__init__-141"><a href="#ManagedIdentityCredential.__init__-141"><span class="linenos">141</span></a>
</span><span id="ManagedIdentityCredential.__init__-142"><a href="#ManagedIdentityCredential.__init__-142"><span class="linenos">142</span></a>        <span class="k">if</span> <span class="n">managed_identity_type</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential.__init__-143"><a href="#ManagedIdentityCredential.__init__-143"><span class="linenos">143</span></a>            <span class="n">log_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> will use </span><span class="si">{</span><span class="n">managed_identity_type</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="ManagedIdentityCredential.__init__-144"><a href="#ManagedIdentityCredential.__init__-144"><span class="linenos">144</span></a>            <span class="k">if</span> <span class="n">user_identity_info</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential.__init__-145"><a href="#ManagedIdentityCredential.__init__-145"><span class="linenos">145</span></a>                <span class="n">log_msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; with </span><span class="si">{</span><span class="n">user_identity_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">user_identity_info</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="ManagedIdentityCredential.__init__-146"><a href="#ManagedIdentityCredential.__init__-146"><span class="linenos">146</span></a>            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">log_msg</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="ManagedIdentityCredential.close" class="classattr">
                                        <input id="ManagedIdentityCredential.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="ManagedIdentityCredential.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ManagedIdentityCredential.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ManagedIdentityCredential.close-157"><a href="#ManagedIdentityCredential.close-157"><span class="linenos">157</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential.close-158"><a href="#ManagedIdentityCredential.close-158"><span class="linenos">158</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the credential&#39;s transport session.&quot;&quot;&quot;</span>
</span><span id="ManagedIdentityCredential.close-159"><a href="#ManagedIdentityCredential.close-159"><span class="linenos">159</span></a>        <span class="bp">self</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Close the credential's transport session.</p>
</div>


                            </div>
                            <div id="ManagedIdentityCredential.get_token" class="classattr">
                                        <input id="ManagedIdentityCredential.get_token-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-log_get_token">@log_get_token</div>

        <span class="def">def</span>
        <span class="name">get_token</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessToken</span>:</span></span>

                <label class="view-source-button" for="ManagedIdentityCredential.get_token-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ManagedIdentityCredential.get_token"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ManagedIdentityCredential.get_token-161"><a href="#ManagedIdentityCredential.get_token-161"><span class="linenos">161</span></a>    <span class="nd">@log_get_token</span>
</span><span id="ManagedIdentityCredential.get_token-162"><a href="#ManagedIdentityCredential.get_token-162"><span class="linenos">162</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="ManagedIdentityCredential.get_token-163"><a href="#ManagedIdentityCredential.get_token-163"><span class="linenos">163</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="ManagedIdentityCredential.get_token-164"><a href="#ManagedIdentityCredential.get_token-164"><span class="linenos">164</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential.get_token-165"><a href="#ManagedIdentityCredential.get_token-165"><span class="linenos">165</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="ManagedIdentityCredential.get_token-166"><a href="#ManagedIdentityCredential.get_token-166"><span class="linenos">166</span></a>
</span><span id="ManagedIdentityCredential.get_token-167"><a href="#ManagedIdentityCredential.get_token-167"><span class="linenos">167</span></a><span class="sd">        This method is called automatically by Azure SDK clients.</span>
</span><span id="ManagedIdentityCredential.get_token-168"><a href="#ManagedIdentityCredential.get_token-168"><span class="linenos">168</span></a>
</span><span id="ManagedIdentityCredential.get_token-169"><a href="#ManagedIdentityCredential.get_token-169"><span class="linenos">169</span></a><span class="sd">        :param str scopes: desired scope for the access token. This credential allows only one scope per request.</span>
</span><span id="ManagedIdentityCredential.get_token-170"><a href="#ManagedIdentityCredential.get_token-170"><span class="linenos">170</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="ManagedIdentityCredential.get_token-171"><a href="#ManagedIdentityCredential.get_token-171"><span class="linenos">171</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="ManagedIdentityCredential.get_token-172"><a href="#ManagedIdentityCredential.get_token-172"><span class="linenos">172</span></a>
</span><span id="ManagedIdentityCredential.get_token-173"><a href="#ManagedIdentityCredential.get_token-173"><span class="linenos">173</span></a><span class="sd">        :keyword str claims: not used by this credential; any value provided will be ignored.</span>
</span><span id="ManagedIdentityCredential.get_token-174"><a href="#ManagedIdentityCredential.get_token-174"><span class="linenos">174</span></a><span class="sd">        :keyword str tenant_id: not used by this credential; any value provided will be ignored.</span>
</span><span id="ManagedIdentityCredential.get_token-175"><a href="#ManagedIdentityCredential.get_token-175"><span class="linenos">175</span></a>
</span><span id="ManagedIdentityCredential.get_token-176"><a href="#ManagedIdentityCredential.get_token-176"><span class="linenos">176</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="ManagedIdentityCredential.get_token-177"><a href="#ManagedIdentityCredential.get_token-177"><span class="linenos">177</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="ManagedIdentityCredential.get_token-178"><a href="#ManagedIdentityCredential.get_token-178"><span class="linenos">178</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: managed identity isn&#39;t available in the hosting environment</span>
</span><span id="ManagedIdentityCredential.get_token-179"><a href="#ManagedIdentityCredential.get_token-179"><span class="linenos">179</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ManagedIdentityCredential.get_token-180"><a href="#ManagedIdentityCredential.get_token-180"><span class="linenos">180</span></a>
</span><span id="ManagedIdentityCredential.get_token-181"><a href="#ManagedIdentityCredential.get_token-181"><span class="linenos">181</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential.get_token-182"><a href="#ManagedIdentityCredential.get_token-182"><span class="linenos">182</span></a>            <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span>
</span><span id="ManagedIdentityCredential.get_token-183"><a href="#ManagedIdentityCredential.get_token-183"><span class="linenos">183</span></a>                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;No managed identity endpoint found. </span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="ManagedIdentityCredential.get_token-184"><a href="#ManagedIdentityCredential.get_token-184"><span class="linenos">184</span></a>                <span class="s2">&quot;The Target Azure platform could not be determined from environment variables. </span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="ManagedIdentityCredential.get_token-185"><a href="#ManagedIdentityCredential.get_token-185"><span class="linenos">185</span></a>                <span class="s2">&quot;Visit https://aka.ms/azsdk/python/identity/managedidentitycredential/troubleshoot to &quot;</span>
</span><span id="ManagedIdentityCredential.get_token-186"><a href="#ManagedIdentityCredential.get_token-186"><span class="linenos">186</span></a>                <span class="s2">&quot;troubleshoot this issue.&quot;</span>
</span><span id="ManagedIdentityCredential.get_token-187"><a href="#ManagedIdentityCredential.get_token-187"><span class="linenos">187</span></a>            <span class="p">)</span>
</span><span id="ManagedIdentityCredential.get_token-188"><a href="#ManagedIdentityCredential.get_token-188"><span class="linenos">188</span></a>        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">TokenCredential</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code>.</p>

<p>This method is called automatically by Azure SDK clients.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scope for the access token. This credential allows only one scope per request.
For more information about scopes, see
<a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.</li>
</ul>

<p>:keyword str claims: not used by this credential; any value provided will be ignored.
:keyword str tenant_id: not used by this credential; any value provided will be ignored.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An access token with the desired scopes.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~<a href="#CredentialUnavailableError">azure.identity.CredentialUnavailableError</a></strong>:  managed identity isn't available in the hosting environment</li>
</ul>
</div>


                            </div>
                            <div id="ManagedIdentityCredential.get_token_info" class="classattr">
                                        <input id="ManagedIdentityCredential.get_token_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-log_get_token">@log_get_token</div>

        <span class="def">def</span>
        <span class="name">get_token_info</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessTokenInfo</span>:</span></span>

                <label class="view-source-button" for="ManagedIdentityCredential.get_token_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ManagedIdentityCredential.get_token_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ManagedIdentityCredential.get_token_info-190"><a href="#ManagedIdentityCredential.get_token_info-190"><span class="linenos">190</span></a>    <span class="nd">@log_get_token</span>
</span><span id="ManagedIdentityCredential.get_token_info-191"><a href="#ManagedIdentityCredential.get_token_info-191"><span class="linenos">191</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential.get_token_info-192"><a href="#ManagedIdentityCredential.get_token_info-192"><span class="linenos">192</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="ManagedIdentityCredential.get_token_info-193"><a href="#ManagedIdentityCredential.get_token_info-193"><span class="linenos">193</span></a>
</span><span id="ManagedIdentityCredential.get_token_info-194"><a href="#ManagedIdentityCredential.get_token_info-194"><span class="linenos">194</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="ManagedIdentityCredential.get_token_info-195"><a href="#ManagedIdentityCredential.get_token_info-195"><span class="linenos">195</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients.</span>
</span><span id="ManagedIdentityCredential.get_token_info-196"><a href="#ManagedIdentityCredential.get_token_info-196"><span class="linenos">196</span></a>
</span><span id="ManagedIdentityCredential.get_token_info-197"><a href="#ManagedIdentityCredential.get_token_info-197"><span class="linenos">197</span></a><span class="sd">        :param str scopes: desired scope for the access token. This credential allows only one scope per request.</span>
</span><span id="ManagedIdentityCredential.get_token_info-198"><a href="#ManagedIdentityCredential.get_token_info-198"><span class="linenos">198</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="ManagedIdentityCredential.get_token_info-199"><a href="#ManagedIdentityCredential.get_token_info-199"><span class="linenos">199</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="ManagedIdentityCredential.get_token_info-200"><a href="#ManagedIdentityCredential.get_token_info-200"><span class="linenos">200</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="ManagedIdentityCredential.get_token_info-201"><a href="#ManagedIdentityCredential.get_token_info-201"><span class="linenos">201</span></a>
</span><span id="ManagedIdentityCredential.get_token_info-202"><a href="#ManagedIdentityCredential.get_token_info-202"><span class="linenos">202</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="ManagedIdentityCredential.get_token_info-203"><a href="#ManagedIdentityCredential.get_token_info-203"><span class="linenos">203</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="ManagedIdentityCredential.get_token_info-204"><a href="#ManagedIdentityCredential.get_token_info-204"><span class="linenos">204</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: managed identity isn&#39;t available in the hosting environment.</span>
</span><span id="ManagedIdentityCredential.get_token_info-205"><a href="#ManagedIdentityCredential.get_token_info-205"><span class="linenos">205</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ManagedIdentityCredential.get_token_info-206"><a href="#ManagedIdentityCredential.get_token_info-206"><span class="linenos">206</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span>
</span><span id="ManagedIdentityCredential.get_token_info-207"><a href="#ManagedIdentityCredential.get_token_info-207"><span class="linenos">207</span></a>            <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span>
</span><span id="ManagedIdentityCredential.get_token_info-208"><a href="#ManagedIdentityCredential.get_token_info-208"><span class="linenos">208</span></a>                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;No managed identity endpoint found. </span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="ManagedIdentityCredential.get_token_info-209"><a href="#ManagedIdentityCredential.get_token_info-209"><span class="linenos">209</span></a>                <span class="s2">&quot;The Target Azure platform could not be determined from environment variables. </span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="ManagedIdentityCredential.get_token_info-210"><a href="#ManagedIdentityCredential.get_token_info-210"><span class="linenos">210</span></a>                <span class="s2">&quot;Visit https://aka.ms/azsdk/python/identity/managedidentitycredential/troubleshoot to &quot;</span>
</span><span id="ManagedIdentityCredential.get_token_info-211"><a href="#ManagedIdentityCredential.get_token_info-211"><span class="linenos">211</span></a>                <span class="s2">&quot;troubleshoot this issue.&quot;</span>
</span><span id="ManagedIdentityCredential.get_token_info-212"><a href="#ManagedIdentityCredential.get_token_info-212"><span class="linenos">212</span></a>            <span class="p">)</span>
</span><span id="ManagedIdentityCredential.get_token_info-213"><a href="#ManagedIdentityCredential.get_token_info-213"><span class="linenos">213</span></a>        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">SupportsTokenInfo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code>.</p>

<p>This is an alternative to <code><a href="#ManagedIdentityCredential.get_token">get_token</a></code> to enable certain scenarios that require additional properties
on the token. This method is called automatically by Azure SDK clients.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scope for the access token. This credential allows only one scope per request.
For more information about scopes, see <a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.
:paramtype options: ~azure.core.credentials.TokenRequestOptions</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An AccessTokenInfo instance containing information about the token.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~<a href="#CredentialUnavailableError">azure.identity.CredentialUnavailableError</a></strong>:  managed identity isn't available in the hosting environment.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="SharedTokenCacheCredential">
                            <input id="SharedTokenCacheCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">SharedTokenCacheCredential</span>:

                <label class="view-source-button" for="SharedTokenCacheCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SharedTokenCacheCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SharedTokenCacheCredential-20"><a href="#SharedTokenCacheCredential-20"><span class="linenos"> 20</span></a><span class="k">class</span><span class="w"> </span><span class="nc">SharedTokenCacheCredential</span><span class="p">:</span>
</span><span id="SharedTokenCacheCredential-21"><a href="#SharedTokenCacheCredential-21"><span class="linenos"> 21</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticates using tokens in the local cache shared between Microsoft applications.</span>
</span><span id="SharedTokenCacheCredential-22"><a href="#SharedTokenCacheCredential-22"><span class="linenos"> 22</span></a>
</span><span id="SharedTokenCacheCredential-23"><a href="#SharedTokenCacheCredential-23"><span class="linenos"> 23</span></a><span class="sd">    :param str username: Username (typically an email address) of the user to authenticate as. This is used when the</span>
</span><span id="SharedTokenCacheCredential-24"><a href="#SharedTokenCacheCredential-24"><span class="linenos"> 24</span></a><span class="sd">        local cache contains tokens for multiple identities.</span>
</span><span id="SharedTokenCacheCredential-25"><a href="#SharedTokenCacheCredential-25"><span class="linenos"> 25</span></a>
</span><span id="SharedTokenCacheCredential-26"><a href="#SharedTokenCacheCredential-26"><span class="linenos"> 26</span></a><span class="sd">    :keyword str authority: Authority of a Microsoft Entra endpoint, for example &#39;login.microsoftonline.com&#39;,</span>
</span><span id="SharedTokenCacheCredential-27"><a href="#SharedTokenCacheCredential-27"><span class="linenos"> 27</span></a><span class="sd">        the authority for Azure Public Cloud (which is the default). :class:`~azure.identity.AzureAuthorityHosts`</span>
</span><span id="SharedTokenCacheCredential-28"><a href="#SharedTokenCacheCredential-28"><span class="linenos"> 28</span></a><span class="sd">        defines authorities for other clouds.</span>
</span><span id="SharedTokenCacheCredential-29"><a href="#SharedTokenCacheCredential-29"><span class="linenos"> 29</span></a><span class="sd">    :keyword str tenant_id: a Microsoft Entra tenant ID. Used to select an account when the cache contains</span>
</span><span id="SharedTokenCacheCredential-30"><a href="#SharedTokenCacheCredential-30"><span class="linenos"> 30</span></a><span class="sd">        tokens for multiple identities.</span>
</span><span id="SharedTokenCacheCredential-31"><a href="#SharedTokenCacheCredential-31"><span class="linenos"> 31</span></a><span class="sd">    :keyword AuthenticationRecord authentication_record: an authentication record returned by a user credential such as</span>
</span><span id="SharedTokenCacheCredential-32"><a href="#SharedTokenCacheCredential-32"><span class="linenos"> 32</span></a><span class="sd">        :class:`DeviceCodeCredential` or :class:`InteractiveBrowserCredential`</span>
</span><span id="SharedTokenCacheCredential-33"><a href="#SharedTokenCacheCredential-33"><span class="linenos"> 33</span></a><span class="sd">    :keyword cache_persistence_options: configuration for persistent token caching. If not provided, the credential</span>
</span><span id="SharedTokenCacheCredential-34"><a href="#SharedTokenCacheCredential-34"><span class="linenos"> 34</span></a><span class="sd">        will use the persistent cache shared by Microsoft development applications</span>
</span><span id="SharedTokenCacheCredential-35"><a href="#SharedTokenCacheCredential-35"><span class="linenos"> 35</span></a><span class="sd">    :paramtype cache_persistence_options: ~azure.identity.TokenCachePersistenceOptions</span>
</span><span id="SharedTokenCacheCredential-36"><a href="#SharedTokenCacheCredential-36"><span class="linenos"> 36</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="SharedTokenCacheCredential-37"><a href="#SharedTokenCacheCredential-37"><span class="linenos"> 37</span></a>
</span><span id="SharedTokenCacheCredential-38"><a href="#SharedTokenCacheCredential-38"><span class="linenos"> 38</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SharedTokenCacheCredential-39"><a href="#SharedTokenCacheCredential-39"><span class="linenos"> 39</span></a>        <span class="k">if</span> <span class="s2">&quot;authentication_record&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="SharedTokenCacheCredential-40"><a href="#SharedTokenCacheCredential-40"><span class="linenos"> 40</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span> <span class="n">SupportsTokenInfo</span> <span class="o">=</span> <span class="n">SilentAuthenticationCredential</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="SharedTokenCacheCredential-41"><a href="#SharedTokenCacheCredential-41"><span class="linenos"> 41</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SharedTokenCacheCredential-42"><a href="#SharedTokenCacheCredential-42"><span class="linenos"> 42</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">_SharedTokenCacheCredential</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="SharedTokenCacheCredential-43"><a href="#SharedTokenCacheCredential-43"><span class="linenos"> 43</span></a>
</span><span id="SharedTokenCacheCredential-44"><a href="#SharedTokenCacheCredential-44"><span class="linenos"> 44</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SharedTokenCacheCredential&quot;</span><span class="p">:</span>
</span><span id="SharedTokenCacheCredential-45"><a href="#SharedTokenCacheCredential-45"><span class="linenos"> 45</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="o">.</span><span class="fm">__enter__</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
</span><span id="SharedTokenCacheCredential-46"><a href="#SharedTokenCacheCredential-46"><span class="linenos"> 46</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="SharedTokenCacheCredential-47"><a href="#SharedTokenCacheCredential-47"><span class="linenos"> 47</span></a>
</span><span id="SharedTokenCacheCredential-48"><a href="#SharedTokenCacheCredential-48"><span class="linenos"> 48</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SharedTokenCacheCredential-49"><a href="#SharedTokenCacheCredential-49"><span class="linenos"> 49</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="SharedTokenCacheCredential-50"><a href="#SharedTokenCacheCredential-50"><span class="linenos"> 50</span></a>
</span><span id="SharedTokenCacheCredential-51"><a href="#SharedTokenCacheCredential-51"><span class="linenos"> 51</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SharedTokenCacheCredential-52"><a href="#SharedTokenCacheCredential-52"><span class="linenos"> 52</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the credential&#39;s transport session.&quot;&quot;&quot;</span>
</span><span id="SharedTokenCacheCredential-53"><a href="#SharedTokenCacheCredential-53"><span class="linenos"> 53</span></a>        <span class="bp">self</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">()</span>
</span><span id="SharedTokenCacheCredential-54"><a href="#SharedTokenCacheCredential-54"><span class="linenos"> 54</span></a>
</span><span id="SharedTokenCacheCredential-55"><a href="#SharedTokenCacheCredential-55"><span class="linenos"> 55</span></a>    <span class="nd">@log_get_token</span>
</span><span id="SharedTokenCacheCredential-56"><a href="#SharedTokenCacheCredential-56"><span class="linenos"> 56</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="SharedTokenCacheCredential-57"><a href="#SharedTokenCacheCredential-57"><span class="linenos"> 57</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="SharedTokenCacheCredential-58"><a href="#SharedTokenCacheCredential-58"><span class="linenos"> 58</span></a>        <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="SharedTokenCacheCredential-59"><a href="#SharedTokenCacheCredential-59"><span class="linenos"> 59</span></a>        <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="SharedTokenCacheCredential-60"><a href="#SharedTokenCacheCredential-60"><span class="linenos"> 60</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="SharedTokenCacheCredential-61"><a href="#SharedTokenCacheCredential-61"><span class="linenos"> 61</span></a>        <span class="n">enable_cae</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="SharedTokenCacheCredential-62"><a href="#SharedTokenCacheCredential-62"><span class="linenos"> 62</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="SharedTokenCacheCredential-63"><a href="#SharedTokenCacheCredential-63"><span class="linenos"> 63</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="SharedTokenCacheCredential-64"><a href="#SharedTokenCacheCredential-64"><span class="linenos"> 64</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get an access token for `scopes` from the shared cache.</span>
</span><span id="SharedTokenCacheCredential-65"><a href="#SharedTokenCacheCredential-65"><span class="linenos"> 65</span></a>
</span><span id="SharedTokenCacheCredential-66"><a href="#SharedTokenCacheCredential-66"><span class="linenos"> 66</span></a><span class="sd">        If no access token is cached, attempt to acquire one using a cached refresh token.</span>
</span><span id="SharedTokenCacheCredential-67"><a href="#SharedTokenCacheCredential-67"><span class="linenos"> 67</span></a>
</span><span id="SharedTokenCacheCredential-68"><a href="#SharedTokenCacheCredential-68"><span class="linenos"> 68</span></a><span class="sd">        This method is called automatically by Azure SDK clients.</span>
</span><span id="SharedTokenCacheCredential-69"><a href="#SharedTokenCacheCredential-69"><span class="linenos"> 69</span></a>
</span><span id="SharedTokenCacheCredential-70"><a href="#SharedTokenCacheCredential-70"><span class="linenos"> 70</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="SharedTokenCacheCredential-71"><a href="#SharedTokenCacheCredential-71"><span class="linenos"> 71</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="SharedTokenCacheCredential-72"><a href="#SharedTokenCacheCredential-72"><span class="linenos"> 72</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="SharedTokenCacheCredential-73"><a href="#SharedTokenCacheCredential-73"><span class="linenos"> 73</span></a><span class="sd">        :keyword str claims: additional claims required in the token, such as those returned in a resource provider&#39;s</span>
</span><span id="SharedTokenCacheCredential-74"><a href="#SharedTokenCacheCredential-74"><span class="linenos"> 74</span></a><span class="sd">            claims challenge following an authorization failure</span>
</span><span id="SharedTokenCacheCredential-75"><a href="#SharedTokenCacheCredential-75"><span class="linenos"> 75</span></a><span class="sd">        :keyword str tenant_id: not used by this credential; any value provided will be ignored.</span>
</span><span id="SharedTokenCacheCredential-76"><a href="#SharedTokenCacheCredential-76"><span class="linenos"> 76</span></a><span class="sd">        :keyword bool enable_cae: indicates whether to enable Continuous Access Evaluation (CAE) for the requested</span>
</span><span id="SharedTokenCacheCredential-77"><a href="#SharedTokenCacheCredential-77"><span class="linenos"> 77</span></a><span class="sd">            token. Defaults to False.</span>
</span><span id="SharedTokenCacheCredential-78"><a href="#SharedTokenCacheCredential-78"><span class="linenos"> 78</span></a>
</span><span id="SharedTokenCacheCredential-79"><a href="#SharedTokenCacheCredential-79"><span class="linenos"> 79</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="SharedTokenCacheCredential-80"><a href="#SharedTokenCacheCredential-80"><span class="linenos"> 80</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="SharedTokenCacheCredential-81"><a href="#SharedTokenCacheCredential-81"><span class="linenos"> 81</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the cache is unavailable or contains insufficient user</span>
</span><span id="SharedTokenCacheCredential-82"><a href="#SharedTokenCacheCredential-82"><span class="linenos"> 82</span></a><span class="sd">            information</span>
</span><span id="SharedTokenCacheCredential-83"><a href="#SharedTokenCacheCredential-83"><span class="linenos"> 83</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: authentication failed. The error&#39;s ``message``</span>
</span><span id="SharedTokenCacheCredential-84"><a href="#SharedTokenCacheCredential-84"><span class="linenos"> 84</span></a><span class="sd">            attribute gives a reason.</span>
</span><span id="SharedTokenCacheCredential-85"><a href="#SharedTokenCacheCredential-85"><span class="linenos"> 85</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SharedTokenCacheCredential-86"><a href="#SharedTokenCacheCredential-86"><span class="linenos"> 86</span></a>        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">TokenCredential</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
</span><span id="SharedTokenCacheCredential-87"><a href="#SharedTokenCacheCredential-87"><span class="linenos"> 87</span></a>            <span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="n">enable_cae</span><span class="o">=</span><span class="n">enable_cae</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="SharedTokenCacheCredential-88"><a href="#SharedTokenCacheCredential-88"><span class="linenos"> 88</span></a>        <span class="p">)</span>
</span><span id="SharedTokenCacheCredential-89"><a href="#SharedTokenCacheCredential-89"><span class="linenos"> 89</span></a>
</span><span id="SharedTokenCacheCredential-90"><a href="#SharedTokenCacheCredential-90"><span class="linenos"> 90</span></a>    <span class="nd">@log_get_token</span>
</span><span id="SharedTokenCacheCredential-91"><a href="#SharedTokenCacheCredential-91"><span class="linenos"> 91</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="SharedTokenCacheCredential-92"><a href="#SharedTokenCacheCredential-92"><span class="linenos"> 92</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="SharedTokenCacheCredential-93"><a href="#SharedTokenCacheCredential-93"><span class="linenos"> 93</span></a>
</span><span id="SharedTokenCacheCredential-94"><a href="#SharedTokenCacheCredential-94"><span class="linenos"> 94</span></a><span class="sd">        If no access token is cached, attempt to acquire one using a cached refresh token.</span>
</span><span id="SharedTokenCacheCredential-95"><a href="#SharedTokenCacheCredential-95"><span class="linenos"> 95</span></a>
</span><span id="SharedTokenCacheCredential-96"><a href="#SharedTokenCacheCredential-96"><span class="linenos"> 96</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="SharedTokenCacheCredential-97"><a href="#SharedTokenCacheCredential-97"><span class="linenos"> 97</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients.</span>
</span><span id="SharedTokenCacheCredential-98"><a href="#SharedTokenCacheCredential-98"><span class="linenos"> 98</span></a>
</span><span id="SharedTokenCacheCredential-99"><a href="#SharedTokenCacheCredential-99"><span class="linenos"> 99</span></a><span class="sd">        :param str scopes: desired scope for the access token. This method requires at least one scope.</span>
</span><span id="SharedTokenCacheCredential-100"><a href="#SharedTokenCacheCredential-100"><span class="linenos">100</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="SharedTokenCacheCredential-101"><a href="#SharedTokenCacheCredential-101"><span class="linenos">101</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="SharedTokenCacheCredential-102"><a href="#SharedTokenCacheCredential-102"><span class="linenos">102</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="SharedTokenCacheCredential-103"><a href="#SharedTokenCacheCredential-103"><span class="linenos">103</span></a>
</span><span id="SharedTokenCacheCredential-104"><a href="#SharedTokenCacheCredential-104"><span class="linenos">104</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="SharedTokenCacheCredential-105"><a href="#SharedTokenCacheCredential-105"><span class="linenos">105</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="SharedTokenCacheCredential-106"><a href="#SharedTokenCacheCredential-106"><span class="linenos">106</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the cache is unavailable or contains insufficient user</span>
</span><span id="SharedTokenCacheCredential-107"><a href="#SharedTokenCacheCredential-107"><span class="linenos">107</span></a><span class="sd">            information.</span>
</span><span id="SharedTokenCacheCredential-108"><a href="#SharedTokenCacheCredential-108"><span class="linenos">108</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: authentication failed. The error&#39;s ``message``</span>
</span><span id="SharedTokenCacheCredential-109"><a href="#SharedTokenCacheCredential-109"><span class="linenos">109</span></a><span class="sd">            attribute gives a reason.</span>
</span><span id="SharedTokenCacheCredential-110"><a href="#SharedTokenCacheCredential-110"><span class="linenos">110</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SharedTokenCacheCredential-111"><a href="#SharedTokenCacheCredential-111"><span class="linenos">111</span></a>        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">SupportsTokenInfo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span><span id="SharedTokenCacheCredential-112"><a href="#SharedTokenCacheCredential-112"><span class="linenos">112</span></a>
</span><span id="SharedTokenCacheCredential-113"><a href="#SharedTokenCacheCredential-113"><span class="linenos">113</span></a>    <span class="nd">@staticmethod</span>
</span><span id="SharedTokenCacheCredential-114"><a href="#SharedTokenCacheCredential-114"><span class="linenos">114</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">supported</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="SharedTokenCacheCredential-115"><a href="#SharedTokenCacheCredential-115"><span class="linenos">115</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Whether the shared token cache is supported on the current platform.</span>
</span><span id="SharedTokenCacheCredential-116"><a href="#SharedTokenCacheCredential-116"><span class="linenos">116</span></a>
</span><span id="SharedTokenCacheCredential-117"><a href="#SharedTokenCacheCredential-117"><span class="linenos">117</span></a><span class="sd">        :return: True if the shared token cache is supported on the current platform, otherwise False.</span>
</span><span id="SharedTokenCacheCredential-118"><a href="#SharedTokenCacheCredential-118"><span class="linenos">118</span></a><span class="sd">        :rtype: bool</span>
</span><span id="SharedTokenCacheCredential-119"><a href="#SharedTokenCacheCredential-119"><span class="linenos">119</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SharedTokenCacheCredential-120"><a href="#SharedTokenCacheCredential-120"><span class="linenos">120</span></a>        <span class="k">return</span> <span class="n">SharedTokenCacheBase</span><span class="o">.</span><span class="n">supported</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Authenticates using tokens in the local cache shared between Microsoft applications.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str username</strong>:  Username (typically an email address) of the user to authenticate as. This is used when the
local cache contains tokens for multiple identities.</li>
</ul>

<p>:keyword str authority: Authority of a Microsoft Entra endpoint, for example 'login.microsoftonline.com',
    the authority for Azure Public Cloud (which is the default). <code>~<a href="#AzureAuthorityHosts">azure.identity.AzureAuthorityHosts</a></code>
    defines authorities for other clouds.
:keyword str tenant_id: a Microsoft Entra tenant ID. Used to select an account when the cache contains
    tokens for multiple identities.
:keyword AuthenticationRecord authentication_record: an authentication record returned by a user credential such as
    <code><a href="#DeviceCodeCredential">DeviceCodeCredential</a></code> or <code><a href="#InteractiveBrowserCredential">InteractiveBrowserCredential</a></code>
:keyword cache_persistence_options: configuration for persistent token caching. If not provided, the credential
    will use the persistent cache shared by Microsoft development applications
:paramtype cache_persistence_options: ~<a href="#TokenCachePersistenceOptions">azure.identity.TokenCachePersistenceOptions</a></p>
</div>


                            <div id="SharedTokenCacheCredential.__init__" class="classattr">
                                        <input id="SharedTokenCacheCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">SharedTokenCacheCredential</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="SharedTokenCacheCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SharedTokenCacheCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SharedTokenCacheCredential.__init__-38"><a href="#SharedTokenCacheCredential.__init__-38"><span class="linenos">38</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SharedTokenCacheCredential.__init__-39"><a href="#SharedTokenCacheCredential.__init__-39"><span class="linenos">39</span></a>        <span class="k">if</span> <span class="s2">&quot;authentication_record&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="SharedTokenCacheCredential.__init__-40"><a href="#SharedTokenCacheCredential.__init__-40"><span class="linenos">40</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">:</span> <span class="n">SupportsTokenInfo</span> <span class="o">=</span> <span class="n">SilentAuthenticationCredential</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="SharedTokenCacheCredential.__init__-41"><a href="#SharedTokenCacheCredential.__init__-41"><span class="linenos">41</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SharedTokenCacheCredential.__init__-42"><a href="#SharedTokenCacheCredential.__init__-42"><span class="linenos">42</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span> <span class="o">=</span> <span class="n">_SharedTokenCacheCredential</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="SharedTokenCacheCredential.close" class="classattr">
                                        <input id="SharedTokenCacheCredential.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="SharedTokenCacheCredential.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SharedTokenCacheCredential.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SharedTokenCacheCredential.close-51"><a href="#SharedTokenCacheCredential.close-51"><span class="linenos">51</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SharedTokenCacheCredential.close-52"><a href="#SharedTokenCacheCredential.close-52"><span class="linenos">52</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the credential&#39;s transport session.&quot;&quot;&quot;</span>
</span><span id="SharedTokenCacheCredential.close-53"><a href="#SharedTokenCacheCredential.close-53"><span class="linenos">53</span></a>        <span class="bp">self</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Close the credential's transport session.</p>
</div>


                            </div>
                            <div id="SharedTokenCacheCredential.get_token" class="classattr">
                                        <input id="SharedTokenCacheCredential.get_token-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-log_get_token">@log_get_token</div>

        <span class="def">def</span>
        <span class="name">get_token</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">enable_cae</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessToken</span>:</span></span>

                <label class="view-source-button" for="SharedTokenCacheCredential.get_token-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SharedTokenCacheCredential.get_token"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SharedTokenCacheCredential.get_token-55"><a href="#SharedTokenCacheCredential.get_token-55"><span class="linenos">55</span></a>    <span class="nd">@log_get_token</span>
</span><span id="SharedTokenCacheCredential.get_token-56"><a href="#SharedTokenCacheCredential.get_token-56"><span class="linenos">56</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="SharedTokenCacheCredential.get_token-57"><a href="#SharedTokenCacheCredential.get_token-57"><span class="linenos">57</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="SharedTokenCacheCredential.get_token-58"><a href="#SharedTokenCacheCredential.get_token-58"><span class="linenos">58</span></a>        <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="SharedTokenCacheCredential.get_token-59"><a href="#SharedTokenCacheCredential.get_token-59"><span class="linenos">59</span></a>        <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="SharedTokenCacheCredential.get_token-60"><a href="#SharedTokenCacheCredential.get_token-60"><span class="linenos">60</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="SharedTokenCacheCredential.get_token-61"><a href="#SharedTokenCacheCredential.get_token-61"><span class="linenos">61</span></a>        <span class="n">enable_cae</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="SharedTokenCacheCredential.get_token-62"><a href="#SharedTokenCacheCredential.get_token-62"><span class="linenos">62</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="SharedTokenCacheCredential.get_token-63"><a href="#SharedTokenCacheCredential.get_token-63"><span class="linenos">63</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="SharedTokenCacheCredential.get_token-64"><a href="#SharedTokenCacheCredential.get_token-64"><span class="linenos">64</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get an access token for `scopes` from the shared cache.</span>
</span><span id="SharedTokenCacheCredential.get_token-65"><a href="#SharedTokenCacheCredential.get_token-65"><span class="linenos">65</span></a>
</span><span id="SharedTokenCacheCredential.get_token-66"><a href="#SharedTokenCacheCredential.get_token-66"><span class="linenos">66</span></a><span class="sd">        If no access token is cached, attempt to acquire one using a cached refresh token.</span>
</span><span id="SharedTokenCacheCredential.get_token-67"><a href="#SharedTokenCacheCredential.get_token-67"><span class="linenos">67</span></a>
</span><span id="SharedTokenCacheCredential.get_token-68"><a href="#SharedTokenCacheCredential.get_token-68"><span class="linenos">68</span></a><span class="sd">        This method is called automatically by Azure SDK clients.</span>
</span><span id="SharedTokenCacheCredential.get_token-69"><a href="#SharedTokenCacheCredential.get_token-69"><span class="linenos">69</span></a>
</span><span id="SharedTokenCacheCredential.get_token-70"><a href="#SharedTokenCacheCredential.get_token-70"><span class="linenos">70</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="SharedTokenCacheCredential.get_token-71"><a href="#SharedTokenCacheCredential.get_token-71"><span class="linenos">71</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="SharedTokenCacheCredential.get_token-72"><a href="#SharedTokenCacheCredential.get_token-72"><span class="linenos">72</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="SharedTokenCacheCredential.get_token-73"><a href="#SharedTokenCacheCredential.get_token-73"><span class="linenos">73</span></a><span class="sd">        :keyword str claims: additional claims required in the token, such as those returned in a resource provider&#39;s</span>
</span><span id="SharedTokenCacheCredential.get_token-74"><a href="#SharedTokenCacheCredential.get_token-74"><span class="linenos">74</span></a><span class="sd">            claims challenge following an authorization failure</span>
</span><span id="SharedTokenCacheCredential.get_token-75"><a href="#SharedTokenCacheCredential.get_token-75"><span class="linenos">75</span></a><span class="sd">        :keyword str tenant_id: not used by this credential; any value provided will be ignored.</span>
</span><span id="SharedTokenCacheCredential.get_token-76"><a href="#SharedTokenCacheCredential.get_token-76"><span class="linenos">76</span></a><span class="sd">        :keyword bool enable_cae: indicates whether to enable Continuous Access Evaluation (CAE) for the requested</span>
</span><span id="SharedTokenCacheCredential.get_token-77"><a href="#SharedTokenCacheCredential.get_token-77"><span class="linenos">77</span></a><span class="sd">            token. Defaults to False.</span>
</span><span id="SharedTokenCacheCredential.get_token-78"><a href="#SharedTokenCacheCredential.get_token-78"><span class="linenos">78</span></a>
</span><span id="SharedTokenCacheCredential.get_token-79"><a href="#SharedTokenCacheCredential.get_token-79"><span class="linenos">79</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="SharedTokenCacheCredential.get_token-80"><a href="#SharedTokenCacheCredential.get_token-80"><span class="linenos">80</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="SharedTokenCacheCredential.get_token-81"><a href="#SharedTokenCacheCredential.get_token-81"><span class="linenos">81</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the cache is unavailable or contains insufficient user</span>
</span><span id="SharedTokenCacheCredential.get_token-82"><a href="#SharedTokenCacheCredential.get_token-82"><span class="linenos">82</span></a><span class="sd">            information</span>
</span><span id="SharedTokenCacheCredential.get_token-83"><a href="#SharedTokenCacheCredential.get_token-83"><span class="linenos">83</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: authentication failed. The error&#39;s ``message``</span>
</span><span id="SharedTokenCacheCredential.get_token-84"><a href="#SharedTokenCacheCredential.get_token-84"><span class="linenos">84</span></a><span class="sd">            attribute gives a reason.</span>
</span><span id="SharedTokenCacheCredential.get_token-85"><a href="#SharedTokenCacheCredential.get_token-85"><span class="linenos">85</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SharedTokenCacheCredential.get_token-86"><a href="#SharedTokenCacheCredential.get_token-86"><span class="linenos">86</span></a>        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">TokenCredential</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
</span><span id="SharedTokenCacheCredential.get_token-87"><a href="#SharedTokenCacheCredential.get_token-87"><span class="linenos">87</span></a>            <span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="n">enable_cae</span><span class="o">=</span><span class="n">enable_cae</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="SharedTokenCacheCredential.get_token-88"><a href="#SharedTokenCacheCredential.get_token-88"><span class="linenos">88</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get an access token for <code>scopes</code> from the shared cache.</p>

<p>If no access token is cached, attempt to acquire one using a cached refresh token.</p>

<p>This method is called automatically by Azure SDK clients.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scopes for the access token. This method requires at least one scope.
For more information about scopes, see
<a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword str claims: additional claims required in the token, such as those returned in a resource provider's
claims challenge following an authorization failure
:keyword str tenant_id: not used by this credential; any value provided will be ignored.
:keyword bool enable_cae: indicates whether to enable Continuous Access Evaluation (CAE) for the requested
token. Defaults to False.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An access token with the desired scopes.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~<a href="#CredentialUnavailableError">azure.identity.CredentialUnavailableError</a></strong>:  the cache is unavailable or contains insufficient user
information</li>
<li><strong>~azure.core.exceptions.ClientAuthenticationError</strong>:  authentication failed. The error's <code>message</code>
attribute gives a reason.</li>
</ul>
</div>


                            </div>
                            <div id="SharedTokenCacheCredential.get_token_info" class="classattr">
                                        <input id="SharedTokenCacheCredential.get_token_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-log_get_token">@log_get_token</div>

        <span class="def">def</span>
        <span class="name">get_token_info</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessTokenInfo</span>:</span></span>

                <label class="view-source-button" for="SharedTokenCacheCredential.get_token_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SharedTokenCacheCredential.get_token_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SharedTokenCacheCredential.get_token_info-90"><a href="#SharedTokenCacheCredential.get_token_info-90"><span class="linenos"> 90</span></a>    <span class="nd">@log_get_token</span>
</span><span id="SharedTokenCacheCredential.get_token_info-91"><a href="#SharedTokenCacheCredential.get_token_info-91"><span class="linenos"> 91</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="SharedTokenCacheCredential.get_token_info-92"><a href="#SharedTokenCacheCredential.get_token_info-92"><span class="linenos"> 92</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes`.</span>
</span><span id="SharedTokenCacheCredential.get_token_info-93"><a href="#SharedTokenCacheCredential.get_token_info-93"><span class="linenos"> 93</span></a>
</span><span id="SharedTokenCacheCredential.get_token_info-94"><a href="#SharedTokenCacheCredential.get_token_info-94"><span class="linenos"> 94</span></a><span class="sd">        If no access token is cached, attempt to acquire one using a cached refresh token.</span>
</span><span id="SharedTokenCacheCredential.get_token_info-95"><a href="#SharedTokenCacheCredential.get_token_info-95"><span class="linenos"> 95</span></a>
</span><span id="SharedTokenCacheCredential.get_token_info-96"><a href="#SharedTokenCacheCredential.get_token_info-96"><span class="linenos"> 96</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="SharedTokenCacheCredential.get_token_info-97"><a href="#SharedTokenCacheCredential.get_token_info-97"><span class="linenos"> 97</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients.</span>
</span><span id="SharedTokenCacheCredential.get_token_info-98"><a href="#SharedTokenCacheCredential.get_token_info-98"><span class="linenos"> 98</span></a>
</span><span id="SharedTokenCacheCredential.get_token_info-99"><a href="#SharedTokenCacheCredential.get_token_info-99"><span class="linenos"> 99</span></a><span class="sd">        :param str scopes: desired scope for the access token. This method requires at least one scope.</span>
</span><span id="SharedTokenCacheCredential.get_token_info-100"><a href="#SharedTokenCacheCredential.get_token_info-100"><span class="linenos">100</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="SharedTokenCacheCredential.get_token_info-101"><a href="#SharedTokenCacheCredential.get_token_info-101"><span class="linenos">101</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="SharedTokenCacheCredential.get_token_info-102"><a href="#SharedTokenCacheCredential.get_token_info-102"><span class="linenos">102</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="SharedTokenCacheCredential.get_token_info-103"><a href="#SharedTokenCacheCredential.get_token_info-103"><span class="linenos">103</span></a>
</span><span id="SharedTokenCacheCredential.get_token_info-104"><a href="#SharedTokenCacheCredential.get_token_info-104"><span class="linenos">104</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="SharedTokenCacheCredential.get_token_info-105"><a href="#SharedTokenCacheCredential.get_token_info-105"><span class="linenos">105</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="SharedTokenCacheCredential.get_token_info-106"><a href="#SharedTokenCacheCredential.get_token_info-106"><span class="linenos">106</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the cache is unavailable or contains insufficient user</span>
</span><span id="SharedTokenCacheCredential.get_token_info-107"><a href="#SharedTokenCacheCredential.get_token_info-107"><span class="linenos">107</span></a><span class="sd">            information.</span>
</span><span id="SharedTokenCacheCredential.get_token_info-108"><a href="#SharedTokenCacheCredential.get_token_info-108"><span class="linenos">108</span></a><span class="sd">        :raises ~azure.core.exceptions.ClientAuthenticationError: authentication failed. The error&#39;s ``message``</span>
</span><span id="SharedTokenCacheCredential.get_token_info-109"><a href="#SharedTokenCacheCredential.get_token_info-109"><span class="linenos">109</span></a><span class="sd">            attribute gives a reason.</span>
</span><span id="SharedTokenCacheCredential.get_token_info-110"><a href="#SharedTokenCacheCredential.get_token_info-110"><span class="linenos">110</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SharedTokenCacheCredential.get_token_info-111"><a href="#SharedTokenCacheCredential.get_token_info-111"><span class="linenos">111</span></a>        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">SupportsTokenInfo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_credential</span><span class="p">)</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code>.</p>

<p>If no access token is cached, attempt to acquire one using a cached refresh token.</p>

<p>This is an alternative to <code><a href="#SharedTokenCacheCredential.get_token">get_token</a></code> to enable certain scenarios that require additional properties
on the token. This method is called automatically by Azure SDK clients.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scope for the access token. This method requires at least one scope.
For more information about scopes, see <a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.
:paramtype options: ~azure.core.credentials.TokenRequestOptions</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An AccessTokenInfo instance containing information about the token.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~<a href="#CredentialUnavailableError">azure.identity.CredentialUnavailableError</a></strong>:  the cache is unavailable or contains insufficient user
information.</li>
<li><strong>~azure.core.exceptions.ClientAuthenticationError</strong>:  authentication failed. The error's <code>message</code>
attribute gives a reason.</li>
</ul>
</div>


                            </div>
                            <div id="SharedTokenCacheCredential.supported" class="classattr">
                                        <input id="SharedTokenCacheCredential.supported-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">supported</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="SharedTokenCacheCredential.supported-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SharedTokenCacheCredential.supported"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SharedTokenCacheCredential.supported-113"><a href="#SharedTokenCacheCredential.supported-113"><span class="linenos">113</span></a>    <span class="nd">@staticmethod</span>
</span><span id="SharedTokenCacheCredential.supported-114"><a href="#SharedTokenCacheCredential.supported-114"><span class="linenos">114</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">supported</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="SharedTokenCacheCredential.supported-115"><a href="#SharedTokenCacheCredential.supported-115"><span class="linenos">115</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Whether the shared token cache is supported on the current platform.</span>
</span><span id="SharedTokenCacheCredential.supported-116"><a href="#SharedTokenCacheCredential.supported-116"><span class="linenos">116</span></a>
</span><span id="SharedTokenCacheCredential.supported-117"><a href="#SharedTokenCacheCredential.supported-117"><span class="linenos">117</span></a><span class="sd">        :return: True if the shared token cache is supported on the current platform, otherwise False.</span>
</span><span id="SharedTokenCacheCredential.supported-118"><a href="#SharedTokenCacheCredential.supported-118"><span class="linenos">118</span></a><span class="sd">        :rtype: bool</span>
</span><span id="SharedTokenCacheCredential.supported-119"><a href="#SharedTokenCacheCredential.supported-119"><span class="linenos">119</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SharedTokenCacheCredential.supported-120"><a href="#SharedTokenCacheCredential.supported-120"><span class="linenos">120</span></a>        <span class="k">return</span> <span class="n">SharedTokenCacheBase</span><span class="o">.</span><span class="n">supported</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Whether the shared token cache is supported on the current platform.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>True if the shared token cache is supported on the current platform, otherwise False.</p>
</blockquote>
</div>


                            </div>
                </section>
                <section id="TokenCachePersistenceOptions">
                            <input id="TokenCachePersistenceOptions-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">TokenCachePersistenceOptions</span>:

                <label class="view-source-button" for="TokenCachePersistenceOptions-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#TokenCachePersistenceOptions"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="TokenCachePersistenceOptions-19"><a href="#TokenCachePersistenceOptions-19"><span class="linenos">19</span></a><span class="k">class</span><span class="w"> </span><span class="nc">TokenCachePersistenceOptions</span><span class="p">:</span>
</span><span id="TokenCachePersistenceOptions-20"><a href="#TokenCachePersistenceOptions-20"><span class="linenos">20</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Options for persistent token caching.</span>
</span><span id="TokenCachePersistenceOptions-21"><a href="#TokenCachePersistenceOptions-21"><span class="linenos">21</span></a>
</span><span id="TokenCachePersistenceOptions-22"><a href="#TokenCachePersistenceOptions-22"><span class="linenos">22</span></a><span class="sd">    Most credentials accept an instance of this class to configure persistent token caching. The default values</span>
</span><span id="TokenCachePersistenceOptions-23"><a href="#TokenCachePersistenceOptions-23"><span class="linenos">23</span></a><span class="sd">    configure a credential to use a cache shared with Microsoft developer tools and</span>
</span><span id="TokenCachePersistenceOptions-24"><a href="#TokenCachePersistenceOptions-24"><span class="linenos">24</span></a><span class="sd">    :class:`~azure.identity.SharedTokenCacheCredential`. To isolate a credential&#39;s data from other applications,</span>
</span><span id="TokenCachePersistenceOptions-25"><a href="#TokenCachePersistenceOptions-25"><span class="linenos">25</span></a><span class="sd">    specify a `name` for the cache.</span>
</span><span id="TokenCachePersistenceOptions-26"><a href="#TokenCachePersistenceOptions-26"><span class="linenos">26</span></a>
</span><span id="TokenCachePersistenceOptions-27"><a href="#TokenCachePersistenceOptions-27"><span class="linenos">27</span></a><span class="sd">    By default, the cache is encrypted with the current platform&#39;s user data protection API, and will raise an error</span>
</span><span id="TokenCachePersistenceOptions-28"><a href="#TokenCachePersistenceOptions-28"><span class="linenos">28</span></a><span class="sd">    when this is not available. To configure the cache to fall back to an unencrypted file instead of raising an</span>
</span><span id="TokenCachePersistenceOptions-29"><a href="#TokenCachePersistenceOptions-29"><span class="linenos">29</span></a><span class="sd">    error, specify `allow_unencrypted_storage=True`.</span>
</span><span id="TokenCachePersistenceOptions-30"><a href="#TokenCachePersistenceOptions-30"><span class="linenos">30</span></a>
</span><span id="TokenCachePersistenceOptions-31"><a href="#TokenCachePersistenceOptions-31"><span class="linenos">31</span></a><span class="sd">    .. warning:: The cache contains authentication secrets. If the cache is not encrypted, protecting it is the</span>
</span><span id="TokenCachePersistenceOptions-32"><a href="#TokenCachePersistenceOptions-32"><span class="linenos">32</span></a><span class="sd">       application&#39;s responsibility. A breach of its contents will fully compromise accounts.</span>
</span><span id="TokenCachePersistenceOptions-33"><a href="#TokenCachePersistenceOptions-33"><span class="linenos">33</span></a>
</span><span id="TokenCachePersistenceOptions-34"><a href="#TokenCachePersistenceOptions-34"><span class="linenos">34</span></a><span class="sd">    .. admonition:: Example:</span>
</span><span id="TokenCachePersistenceOptions-35"><a href="#TokenCachePersistenceOptions-35"><span class="linenos">35</span></a>
</span><span id="TokenCachePersistenceOptions-36"><a href="#TokenCachePersistenceOptions-36"><span class="linenos">36</span></a><span class="sd">        .. literalinclude:: ../tests/test_persistent_cache.py</span>
</span><span id="TokenCachePersistenceOptions-37"><a href="#TokenCachePersistenceOptions-37"><span class="linenos">37</span></a><span class="sd">            :start-after: [START snippet]</span>
</span><span id="TokenCachePersistenceOptions-38"><a href="#TokenCachePersistenceOptions-38"><span class="linenos">38</span></a><span class="sd">            :end-before: [END snippet]</span>
</span><span id="TokenCachePersistenceOptions-39"><a href="#TokenCachePersistenceOptions-39"><span class="linenos">39</span></a><span class="sd">            :language: python</span>
</span><span id="TokenCachePersistenceOptions-40"><a href="#TokenCachePersistenceOptions-40"><span class="linenos">40</span></a><span class="sd">            :caption: Configuring a credential for persistent caching</span>
</span><span id="TokenCachePersistenceOptions-41"><a href="#TokenCachePersistenceOptions-41"><span class="linenos">41</span></a><span class="sd">            :dedent: 8</span>
</span><span id="TokenCachePersistenceOptions-42"><a href="#TokenCachePersistenceOptions-42"><span class="linenos">42</span></a>
</span><span id="TokenCachePersistenceOptions-43"><a href="#TokenCachePersistenceOptions-43"><span class="linenos">43</span></a><span class="sd">    :keyword str name: prefix name of the cache, used to isolate its data from other applications. Defaults to the</span>
</span><span id="TokenCachePersistenceOptions-44"><a href="#TokenCachePersistenceOptions-44"><span class="linenos">44</span></a><span class="sd">        name of the cache shared by Microsoft dev tools and :class:`~azure.identity.SharedTokenCacheCredential`.</span>
</span><span id="TokenCachePersistenceOptions-45"><a href="#TokenCachePersistenceOptions-45"><span class="linenos">45</span></a><span class="sd">        Additional strings may be appended to the name for further isolation.</span>
</span><span id="TokenCachePersistenceOptions-46"><a href="#TokenCachePersistenceOptions-46"><span class="linenos">46</span></a><span class="sd">    :keyword bool allow_unencrypted_storage: whether the cache should fall back to storing its data in plain text when</span>
</span><span id="TokenCachePersistenceOptions-47"><a href="#TokenCachePersistenceOptions-47"><span class="linenos">47</span></a><span class="sd">        encryption isn&#39;t possible. False by default. Setting this to True does not disable encryption. The cache will</span>
</span><span id="TokenCachePersistenceOptions-48"><a href="#TokenCachePersistenceOptions-48"><span class="linenos">48</span></a><span class="sd">        always try to encrypt its data.</span>
</span><span id="TokenCachePersistenceOptions-49"><a href="#TokenCachePersistenceOptions-49"><span class="linenos">49</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="TokenCachePersistenceOptions-50"><a href="#TokenCachePersistenceOptions-50"><span class="linenos">50</span></a>
</span><span id="TokenCachePersistenceOptions-51"><a href="#TokenCachePersistenceOptions-51"><span class="linenos">51</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">allow_unencrypted_storage</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;msal.cache&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="TokenCachePersistenceOptions-52"><a href="#TokenCachePersistenceOptions-52"><span class="linenos">52</span></a>        <span class="c1"># pylint:disable=unused-argument</span>
</span><span id="TokenCachePersistenceOptions-53"><a href="#TokenCachePersistenceOptions-53"><span class="linenos">53</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">allow_unencrypted_storage</span> <span class="o">=</span> <span class="n">allow_unencrypted_storage</span>
</span><span id="TokenCachePersistenceOptions-54"><a href="#TokenCachePersistenceOptions-54"><span class="linenos">54</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span></pre></div>


            <div class="docstring"><p>Options for persistent token caching.</p>

<p>Most credentials accept an instance of this class to configure persistent token caching. The default values
configure a credential to use a cache shared with Microsoft developer tools and
<code>~<a href="#SharedTokenCacheCredential">azure.identity.SharedTokenCacheCredential</a></code>. To isolate a credential's data from other applications,
specify a <code><a href="#TokenCachePersistenceOptions.name">name</a></code> for the cache.</p>

<p>By default, the cache is encrypted with the current platform's user data protection API, and will raise an error
when this is not available. To configure the cache to fall back to an unencrypted file instead of raising an
error, specify <code>allow_unencrypted_storage=True</code>.</p>

<div class="alert warning">

<h6 id="the-cache-contains-authentication-secrets-if-the-cache-is-not-encrypted-protecting-it-is-the">The cache contains authentication secrets. If the cache is not encrypted, protecting it is the</h6>

<p>application's responsibility. A breach of its contents will fully compromise accounts.</p>

</div>

<p>.. admonition:: Example:</p>

<pre><code>.. literalinclude:: ../tests/test_persistent_cache.py
    :start-after: [START snippet]
    :end-before: [END snippet]
    :language: python
    :caption: Configuring a credential for persistent caching
    :dedent: 8
</code></pre>

<p>:keyword str name: prefix name of the cache, used to isolate its data from other applications. Defaults to the
    name of the cache shared by Microsoft dev tools and <code>~<a href="#SharedTokenCacheCredential">azure.identity.SharedTokenCacheCredential</a></code>.
    Additional strings may be appended to the name for further isolation.
:keyword bool allow_unencrypted_storage: whether the cache should fall back to storing its data in plain text when
    encryption isn't possible. False by default. Setting this to True does not disable encryption. The cache will
    always try to encrypt its data.</p>
</div>


                            <div id="TokenCachePersistenceOptions.__init__" class="classattr">
                                        <input id="TokenCachePersistenceOptions.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">TokenCachePersistenceOptions</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">allow_unencrypted_storage</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;msal.cache&#39;</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="TokenCachePersistenceOptions.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#TokenCachePersistenceOptions.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="TokenCachePersistenceOptions.__init__-51"><a href="#TokenCachePersistenceOptions.__init__-51"><span class="linenos">51</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">allow_unencrypted_storage</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;msal.cache&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="TokenCachePersistenceOptions.__init__-52"><a href="#TokenCachePersistenceOptions.__init__-52"><span class="linenos">52</span></a>        <span class="c1"># pylint:disable=unused-argument</span>
</span><span id="TokenCachePersistenceOptions.__init__-53"><a href="#TokenCachePersistenceOptions.__init__-53"><span class="linenos">53</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">allow_unencrypted_storage</span> <span class="o">=</span> <span class="n">allow_unencrypted_storage</span>
</span><span id="TokenCachePersistenceOptions.__init__-54"><a href="#TokenCachePersistenceOptions.__init__-54"><span class="linenos">54</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span></pre></div>


    

                            </div>
                            <div id="TokenCachePersistenceOptions.allow_unencrypted_storage" class="classattr">
                                <div class="attr variable">
            <span class="name">allow_unencrypted_storage</span>

        
    </div>
    <a class="headerlink" href="#TokenCachePersistenceOptions.allow_unencrypted_storage"></a>
    
    

                            </div>
                            <div id="TokenCachePersistenceOptions.name" class="classattr">
                                <div class="attr variable">
            <span class="name">name</span>

        
    </div>
    <a class="headerlink" href="#TokenCachePersistenceOptions.name"></a>
    
    

                            </div>
                </section>
                <section id="UsernamePasswordCredential">
                            <input id="UsernamePasswordCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">UsernamePasswordCredential</span><wbr>(<span class="base">azure.identity._internal.interactive.InteractiveCredential</span>):

                <label class="view-source-button" for="UsernamePasswordCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UsernamePasswordCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UsernamePasswordCredential-12"><a href="#UsernamePasswordCredential-12"><span class="linenos">12</span></a><span class="k">class</span><span class="w"> </span><span class="nc">UsernamePasswordCredential</span><span class="p">(</span><span class="n">InteractiveCredential</span><span class="p">):</span>
</span><span id="UsernamePasswordCredential-13"><a href="#UsernamePasswordCredential-13"><span class="linenos">13</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticates a user with a username and password.</span>
</span><span id="UsernamePasswordCredential-14"><a href="#UsernamePasswordCredential-14"><span class="linenos">14</span></a>
</span><span id="UsernamePasswordCredential-15"><a href="#UsernamePasswordCredential-15"><span class="linenos">15</span></a><span class="sd">    **Deprecated**: This credential doesn&#39;t support multifactor authentication (MFA).</span>
</span><span id="UsernamePasswordCredential-16"><a href="#UsernamePasswordCredential-16"><span class="linenos">16</span></a><span class="sd">    For more details on Microsoft Entra MFA enforcement, see https://aka.ms/azsdk/identity/mfa.</span>
</span><span id="UsernamePasswordCredential-17"><a href="#UsernamePasswordCredential-17"><span class="linenos">17</span></a>
</span><span id="UsernamePasswordCredential-18"><a href="#UsernamePasswordCredential-18"><span class="linenos">18</span></a><span class="sd">    In general, Microsoft doesn&#39;t recommend this kind of authentication, because it&#39;s less secure than other</span>
</span><span id="UsernamePasswordCredential-19"><a href="#UsernamePasswordCredential-19"><span class="linenos">19</span></a><span class="sd">    authentication flows.</span>
</span><span id="UsernamePasswordCredential-20"><a href="#UsernamePasswordCredential-20"><span class="linenos">20</span></a>
</span><span id="UsernamePasswordCredential-21"><a href="#UsernamePasswordCredential-21"><span class="linenos">21</span></a><span class="sd">    Authentication with this credential is not interactive, so it is **not compatible with any form of</span>
</span><span id="UsernamePasswordCredential-22"><a href="#UsernamePasswordCredential-22"><span class="linenos">22</span></a><span class="sd">    multi-factor authentication or consent prompting**. The application must already have consent from the user or</span>
</span><span id="UsernamePasswordCredential-23"><a href="#UsernamePasswordCredential-23"><span class="linenos">23</span></a><span class="sd">    a directory admin.</span>
</span><span id="UsernamePasswordCredential-24"><a href="#UsernamePasswordCredential-24"><span class="linenos">24</span></a>
</span><span id="UsernamePasswordCredential-25"><a href="#UsernamePasswordCredential-25"><span class="linenos">25</span></a><span class="sd">    This credential can only authenticate work and school accounts; Microsoft accounts are not supported.</span>
</span><span id="UsernamePasswordCredential-26"><a href="#UsernamePasswordCredential-26"><span class="linenos">26</span></a><span class="sd">    See `Microsoft Entra ID documentation</span>
</span><span id="UsernamePasswordCredential-27"><a href="#UsernamePasswordCredential-27"><span class="linenos">27</span></a><span class="sd">    &lt;https://learn.microsoft.com/entra/fundamentals/sign-up-organization&gt;`__ for more information about</span>
</span><span id="UsernamePasswordCredential-28"><a href="#UsernamePasswordCredential-28"><span class="linenos">28</span></a><span class="sd">    account types.</span>
</span><span id="UsernamePasswordCredential-29"><a href="#UsernamePasswordCredential-29"><span class="linenos">29</span></a>
</span><span id="UsernamePasswordCredential-30"><a href="#UsernamePasswordCredential-30"><span class="linenos">30</span></a><span class="sd">    :param str client_id: The application&#39;s client ID</span>
</span><span id="UsernamePasswordCredential-31"><a href="#UsernamePasswordCredential-31"><span class="linenos">31</span></a><span class="sd">    :param str username: The user&#39;s username (usually an email address)</span>
</span><span id="UsernamePasswordCredential-32"><a href="#UsernamePasswordCredential-32"><span class="linenos">32</span></a><span class="sd">    :param str password: The user&#39;s password</span>
</span><span id="UsernamePasswordCredential-33"><a href="#UsernamePasswordCredential-33"><span class="linenos">33</span></a>
</span><span id="UsernamePasswordCredential-34"><a href="#UsernamePasswordCredential-34"><span class="linenos">34</span></a><span class="sd">    :keyword str authority: Authority of a Microsoft Entra endpoint, for example &quot;login.microsoftonline.com&quot;,</span>
</span><span id="UsernamePasswordCredential-35"><a href="#UsernamePasswordCredential-35"><span class="linenos">35</span></a><span class="sd">        the authority for Azure Public Cloud (which is the default). :class:`~azure.identity.AzureAuthorityHosts`</span>
</span><span id="UsernamePasswordCredential-36"><a href="#UsernamePasswordCredential-36"><span class="linenos">36</span></a><span class="sd">        defines authorities for other clouds.</span>
</span><span id="UsernamePasswordCredential-37"><a href="#UsernamePasswordCredential-37"><span class="linenos">37</span></a><span class="sd">    :keyword str tenant_id: Tenant ID or a domain associated with a tenant. If not provided, defaults to the</span>
</span><span id="UsernamePasswordCredential-38"><a href="#UsernamePasswordCredential-38"><span class="linenos">38</span></a><span class="sd">        &quot;organizations&quot; tenant, which supports only Microsoft Entra work or school accounts.</span>
</span><span id="UsernamePasswordCredential-39"><a href="#UsernamePasswordCredential-39"><span class="linenos">39</span></a><span class="sd">    :keyword cache_persistence_options: Configuration for persistent token caching. If unspecified, the credential</span>
</span><span id="UsernamePasswordCredential-40"><a href="#UsernamePasswordCredential-40"><span class="linenos">40</span></a><span class="sd">        will cache tokens in memory.</span>
</span><span id="UsernamePasswordCredential-41"><a href="#UsernamePasswordCredential-41"><span class="linenos">41</span></a><span class="sd">    :paramtype cache_persistence_options: ~azure.identity.TokenCachePersistenceOptions</span>
</span><span id="UsernamePasswordCredential-42"><a href="#UsernamePasswordCredential-42"><span class="linenos">42</span></a><span class="sd">    :keyword bool disable_instance_discovery: Determines whether or not instance discovery is performed when attempting</span>
</span><span id="UsernamePasswordCredential-43"><a href="#UsernamePasswordCredential-43"><span class="linenos">43</span></a><span class="sd">        to authenticate. Setting this to true will completely disable both instance discovery and authority validation.</span>
</span><span id="UsernamePasswordCredential-44"><a href="#UsernamePasswordCredential-44"><span class="linenos">44</span></a><span class="sd">        This functionality is intended for use in scenarios where the metadata endpoint cannot be reached, such as in</span>
</span><span id="UsernamePasswordCredential-45"><a href="#UsernamePasswordCredential-45"><span class="linenos">45</span></a><span class="sd">        private clouds or Azure Stack. The process of instance discovery entails retrieving authority metadata from</span>
</span><span id="UsernamePasswordCredential-46"><a href="#UsernamePasswordCredential-46"><span class="linenos">46</span></a><span class="sd">        https://login.microsoft.com/ to validate the authority. By setting this to **True**, the validation of the</span>
</span><span id="UsernamePasswordCredential-47"><a href="#UsernamePasswordCredential-47"><span class="linenos">47</span></a><span class="sd">        authority is disabled. As a result, it is crucial to ensure that the configured authority host is valid and</span>
</span><span id="UsernamePasswordCredential-48"><a href="#UsernamePasswordCredential-48"><span class="linenos">48</span></a><span class="sd">        trustworthy.</span>
</span><span id="UsernamePasswordCredential-49"><a href="#UsernamePasswordCredential-49"><span class="linenos">49</span></a><span class="sd">    :keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified &quot;tenant_id&quot;</span>
</span><span id="UsernamePasswordCredential-50"><a href="#UsernamePasswordCredential-50"><span class="linenos">50</span></a><span class="sd">        for which the credential may acquire tokens. Add the wildcard value &quot;*&quot; to allow the credential to</span>
</span><span id="UsernamePasswordCredential-51"><a href="#UsernamePasswordCredential-51"><span class="linenos">51</span></a><span class="sd">        acquire tokens for any tenant the application can access.</span>
</span><span id="UsernamePasswordCredential-52"><a href="#UsernamePasswordCredential-52"><span class="linenos">52</span></a><span class="sd">    :keyword bool enable_support_logging: Enables additional support logging in the underlying MSAL library.</span>
</span><span id="UsernamePasswordCredential-53"><a href="#UsernamePasswordCredential-53"><span class="linenos">53</span></a><span class="sd">        This logging potentially contains personally identifiable information and is intended to be used only for</span>
</span><span id="UsernamePasswordCredential-54"><a href="#UsernamePasswordCredential-54"><span class="linenos">54</span></a><span class="sd">        troubleshooting purposes.</span>
</span><span id="UsernamePasswordCredential-55"><a href="#UsernamePasswordCredential-55"><span class="linenos">55</span></a>
</span><span id="UsernamePasswordCredential-56"><a href="#UsernamePasswordCredential-56"><span class="linenos">56</span></a><span class="sd">    .. admonition:: Example:</span>
</span><span id="UsernamePasswordCredential-57"><a href="#UsernamePasswordCredential-57"><span class="linenos">57</span></a>
</span><span id="UsernamePasswordCredential-58"><a href="#UsernamePasswordCredential-58"><span class="linenos">58</span></a><span class="sd">        .. literalinclude:: ../samples/credential_creation_code_snippets.py</span>
</span><span id="UsernamePasswordCredential-59"><a href="#UsernamePasswordCredential-59"><span class="linenos">59</span></a><span class="sd">            :start-after: [START create_username_password_credential]</span>
</span><span id="UsernamePasswordCredential-60"><a href="#UsernamePasswordCredential-60"><span class="linenos">60</span></a><span class="sd">            :end-before: [END create_username_password_credential]</span>
</span><span id="UsernamePasswordCredential-61"><a href="#UsernamePasswordCredential-61"><span class="linenos">61</span></a><span class="sd">            :language: python</span>
</span><span id="UsernamePasswordCredential-62"><a href="#UsernamePasswordCredential-62"><span class="linenos">62</span></a><span class="sd">            :dedent: 4</span>
</span><span id="UsernamePasswordCredential-63"><a href="#UsernamePasswordCredential-63"><span class="linenos">63</span></a><span class="sd">            :caption: Create a UsernamePasswordCredential.</span>
</span><span id="UsernamePasswordCredential-64"><a href="#UsernamePasswordCredential-64"><span class="linenos">64</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="UsernamePasswordCredential-65"><a href="#UsernamePasswordCredential-65"><span class="linenos">65</span></a>
</span><span id="UsernamePasswordCredential-66"><a href="#UsernamePasswordCredential-66"><span class="linenos">66</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="UsernamePasswordCredential-67"><a href="#UsernamePasswordCredential-67"><span class="linenos">67</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;_silence_deprecation_warning&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="UsernamePasswordCredential-68"><a href="#UsernamePasswordCredential-68"><span class="linenos">68</span></a>            <span class="c1"># Only emit the deprecation warning if the credential was constructed directly and not via</span>
</span><span id="UsernamePasswordCredential-69"><a href="#UsernamePasswordCredential-69"><span class="linenos">69</span></a>            <span class="c1"># EnvironmentCredential since EnvironmentCredential will emit its own deprecation</span>
</span><span id="UsernamePasswordCredential-70"><a href="#UsernamePasswordCredential-70"><span class="linenos">70</span></a>            <span class="c1"># warning if it is used to create a UsernamePasswordCredential.</span>
</span><span id="UsernamePasswordCredential-71"><a href="#UsernamePasswordCredential-71"><span class="linenos">71</span></a>            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
</span><span id="UsernamePasswordCredential-72"><a href="#UsernamePasswordCredential-72"><span class="linenos">72</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> is deprecated, as it doesn&#39;t support multifactor &quot;</span>
</span><span id="UsernamePasswordCredential-73"><a href="#UsernamePasswordCredential-73"><span class="linenos">73</span></a>                <span class="s2">&quot;authentication (MFA). For more details, see https://aka.ms/azsdk/identity/mfa.&quot;</span><span class="p">,</span>
</span><span id="UsernamePasswordCredential-74"><a href="#UsernamePasswordCredential-74"><span class="linenos">74</span></a>                <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">,</span>
</span><span id="UsernamePasswordCredential-75"><a href="#UsernamePasswordCredential-75"><span class="linenos">75</span></a>                <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</span><span id="UsernamePasswordCredential-76"><a href="#UsernamePasswordCredential-76"><span class="linenos">76</span></a>            <span class="p">)</span>
</span><span id="UsernamePasswordCredential-77"><a href="#UsernamePasswordCredential-77"><span class="linenos">77</span></a>        <span class="c1"># The base class will accept an AuthenticationRecord, allowing this credential to authenticate silently the</span>
</span><span id="UsernamePasswordCredential-78"><a href="#UsernamePasswordCredential-78"><span class="linenos">78</span></a>        <span class="c1"># first time it&#39;s asked for a token. However, we want to ensure this first authentication is not silent, to</span>
</span><span id="UsernamePasswordCredential-79"><a href="#UsernamePasswordCredential-79"><span class="linenos">79</span></a>        <span class="c1"># validate the given password. This class therefore doesn&#39;t document the authentication_record argument, and we</span>
</span><span id="UsernamePasswordCredential-80"><a href="#UsernamePasswordCredential-80"><span class="linenos">80</span></a>        <span class="c1"># discard it here.</span>
</span><span id="UsernamePasswordCredential-81"><a href="#UsernamePasswordCredential-81"><span class="linenos">81</span></a>        <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;authentication_record&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="UsernamePasswordCredential-82"><a href="#UsernamePasswordCredential-82"><span class="linenos">82</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">UsernamePasswordCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="UsernamePasswordCredential-83"><a href="#UsernamePasswordCredential-83"><span class="linenos">83</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_username</span> <span class="o">=</span> <span class="n">username</span>
</span><span id="UsernamePasswordCredential-84"><a href="#UsernamePasswordCredential-84"><span class="linenos">84</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_password</span> <span class="o">=</span> <span class="n">password</span>
</span><span id="UsernamePasswordCredential-85"><a href="#UsernamePasswordCredential-85"><span class="linenos">85</span></a>
</span><span id="UsernamePasswordCredential-86"><a href="#UsernamePasswordCredential-86"><span class="linenos">86</span></a>    <span class="nd">@wrap_exceptions</span>
</span><span id="UsernamePasswordCredential-87"><a href="#UsernamePasswordCredential-87"><span class="linenos">87</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_request_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
</span><span id="UsernamePasswordCredential-88"><a href="#UsernamePasswordCredential-88"><span class="linenos">88</span></a>        <span class="n">app</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_app</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="UsernamePasswordCredential-89"><a href="#UsernamePasswordCredential-89"><span class="linenos">89</span></a>        <span class="k">return</span> <span class="n">app</span><span class="o">.</span><span class="n">acquire_token_by_username_password</span><span class="p">(</span>
</span><span id="UsernamePasswordCredential-90"><a href="#UsernamePasswordCredential-90"><span class="linenos">90</span></a>            <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_username</span><span class="p">,</span>
</span><span id="UsernamePasswordCredential-91"><a href="#UsernamePasswordCredential-91"><span class="linenos">91</span></a>            <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_password</span><span class="p">,</span>
</span><span id="UsernamePasswordCredential-92"><a href="#UsernamePasswordCredential-92"><span class="linenos">92</span></a>            <span class="n">scopes</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">scopes</span><span class="p">),</span>
</span><span id="UsernamePasswordCredential-93"><a href="#UsernamePasswordCredential-93"><span class="linenos">93</span></a>            <span class="n">claims_challenge</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;claims&quot;</span><span class="p">),</span>
</span><span id="UsernamePasswordCredential-94"><a href="#UsernamePasswordCredential-94"><span class="linenos">94</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Authenticates a user with a username and password.</p>

<p><strong>Deprecated</strong>: This credential doesn't support multifactor authentication (MFA).
For more details on Microsoft Entra MFA enforcement, see <a href="https://aka.ms/azsdk/identity/mfa">https://aka.ms/azsdk/identity/mfa</a>.</p>

<p>In general, Microsoft doesn't recommend this kind of authentication, because it's less secure than other
authentication flows.</p>

<p>Authentication with this credential is not interactive, so it is <strong>not compatible with any form of
multi-factor authentication or consent prompting</strong>. The application must already have consent from the user or
a directory admin.</p>

<p>This credential can only authenticate work and school accounts; Microsoft accounts are not supported.
See <a href="https://learn.microsoft.com/entra/fundamentals/sign-up-organization">Microsoft Entra ID documentation
</a>_ for more information about
account types.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str client_id</strong>:  The application's client ID</li>
<li><strong>str username</strong>:  The user's username (usually an email address)</li>
<li><strong>str password</strong>:  The user's password</li>
</ul>

<p>:keyword str authority: Authority of a Microsoft Entra endpoint, for example "login.microsoftonline.com",
    the authority for Azure Public Cloud (which is the default). <code>~<a href="#AzureAuthorityHosts">azure.identity.AzureAuthorityHosts</a></code>
    defines authorities for other clouds.
:keyword str tenant_id: Tenant ID or a domain associated with a tenant. If not provided, defaults to the
    "organizations" tenant, which supports only Microsoft Entra work or school accounts.
:keyword cache_persistence_options: Configuration for persistent token caching. If unspecified, the credential
    will cache tokens in memory.
:paramtype cache_persistence_options: ~<a href="#TokenCachePersistenceOptions">azure.identity.TokenCachePersistenceOptions</a>
:keyword bool disable_instance_discovery: Determines whether or not instance discovery is performed when attempting
    to authenticate. Setting this to true will completely disable both instance discovery and authority validation.
    This functionality is intended for use in scenarios where the metadata endpoint cannot be reached, such as in
    private clouds or Azure Stack. The process of instance discovery entails retrieving authority metadata from
    <a href="https://login.microsoft.com/">https://login.microsoft.com/</a> to validate the authority. By setting this to **True**, the validation of the
    authority is disabled. As a result, it is crucial to ensure that the configured authority host is valid and
    trustworthy.
:keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified "tenant_id"
    for which the credential may acquire tokens. Add the wildcard value "*" to allow the credential to
    acquire tokens for any tenant the application can access.
:keyword bool enable_support_logging: Enables additional support logging in the underlying MSAL library.
    This logging potentially contains personally identifiable information and is intended to be used only for
    troubleshooting purposes.</p>

<p>.. admonition:: Example:</p>

<pre><code>.. literalinclude:: ../samples/credential_creation_code_snippets.py
    :start-after: [START create_username_password_credential]
    :end-before: [END create_username_password_credential]
    :language: python
    :dedent: 4
    :caption: Create a UsernamePasswordCredential.
</code></pre>
</div>


                            <div id="UsernamePasswordCredential.__init__" class="classattr">
                                        <input id="UsernamePasswordCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">UsernamePasswordCredential</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">username</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">password</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="UsernamePasswordCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UsernamePasswordCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UsernamePasswordCredential.__init__-66"><a href="#UsernamePasswordCredential.__init__-66"><span class="linenos">66</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="UsernamePasswordCredential.__init__-67"><a href="#UsernamePasswordCredential.__init__-67"><span class="linenos">67</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;_silence_deprecation_warning&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="UsernamePasswordCredential.__init__-68"><a href="#UsernamePasswordCredential.__init__-68"><span class="linenos">68</span></a>            <span class="c1"># Only emit the deprecation warning if the credential was constructed directly and not via</span>
</span><span id="UsernamePasswordCredential.__init__-69"><a href="#UsernamePasswordCredential.__init__-69"><span class="linenos">69</span></a>            <span class="c1"># EnvironmentCredential since EnvironmentCredential will emit its own deprecation</span>
</span><span id="UsernamePasswordCredential.__init__-70"><a href="#UsernamePasswordCredential.__init__-70"><span class="linenos">70</span></a>            <span class="c1"># warning if it is used to create a UsernamePasswordCredential.</span>
</span><span id="UsernamePasswordCredential.__init__-71"><a href="#UsernamePasswordCredential.__init__-71"><span class="linenos">71</span></a>            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
</span><span id="UsernamePasswordCredential.__init__-72"><a href="#UsernamePasswordCredential.__init__-72"><span class="linenos">72</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> is deprecated, as it doesn&#39;t support multifactor &quot;</span>
</span><span id="UsernamePasswordCredential.__init__-73"><a href="#UsernamePasswordCredential.__init__-73"><span class="linenos">73</span></a>                <span class="s2">&quot;authentication (MFA). For more details, see https://aka.ms/azsdk/identity/mfa.&quot;</span><span class="p">,</span>
</span><span id="UsernamePasswordCredential.__init__-74"><a href="#UsernamePasswordCredential.__init__-74"><span class="linenos">74</span></a>                <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">,</span>
</span><span id="UsernamePasswordCredential.__init__-75"><a href="#UsernamePasswordCredential.__init__-75"><span class="linenos">75</span></a>                <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</span><span id="UsernamePasswordCredential.__init__-76"><a href="#UsernamePasswordCredential.__init__-76"><span class="linenos">76</span></a>            <span class="p">)</span>
</span><span id="UsernamePasswordCredential.__init__-77"><a href="#UsernamePasswordCredential.__init__-77"><span class="linenos">77</span></a>        <span class="c1"># The base class will accept an AuthenticationRecord, allowing this credential to authenticate silently the</span>
</span><span id="UsernamePasswordCredential.__init__-78"><a href="#UsernamePasswordCredential.__init__-78"><span class="linenos">78</span></a>        <span class="c1"># first time it&#39;s asked for a token. However, we want to ensure this first authentication is not silent, to</span>
</span><span id="UsernamePasswordCredential.__init__-79"><a href="#UsernamePasswordCredential.__init__-79"><span class="linenos">79</span></a>        <span class="c1"># validate the given password. This class therefore doesn&#39;t document the authentication_record argument, and we</span>
</span><span id="UsernamePasswordCredential.__init__-80"><a href="#UsernamePasswordCredential.__init__-80"><span class="linenos">80</span></a>        <span class="c1"># discard it here.</span>
</span><span id="UsernamePasswordCredential.__init__-81"><a href="#UsernamePasswordCredential.__init__-81"><span class="linenos">81</span></a>        <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;authentication_record&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="UsernamePasswordCredential.__init__-82"><a href="#UsernamePasswordCredential.__init__-82"><span class="linenos">82</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">UsernamePasswordCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="UsernamePasswordCredential.__init__-83"><a href="#UsernamePasswordCredential.__init__-83"><span class="linenos">83</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_username</span> <span class="o">=</span> <span class="n">username</span>
</span><span id="UsernamePasswordCredential.__init__-84"><a href="#UsernamePasswordCredential.__init__-84"><span class="linenos">84</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_password</span> <span class="o">=</span> <span class="n">password</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="VisualStudioCodeCredential">
                            <input id="VisualStudioCodeCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">VisualStudioCodeCredential</span>:

                <label class="view-source-button" for="VisualStudioCodeCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualStudioCodeCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualStudioCodeCredential-130"><a href="#VisualStudioCodeCredential-130"><span class="linenos">130</span></a><span class="k">class</span><span class="w"> </span><span class="nc">VisualStudioCodeCredential</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-131"><a href="#VisualStudioCodeCredential-131"><span class="linenos">131</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticates as the Azure user signed in to Visual Studio Code via the &#39;Azure Resources&#39; extension.</span>
</span><span id="VisualStudioCodeCredential-132"><a href="#VisualStudioCodeCredential-132"><span class="linenos">132</span></a>
</span><span id="VisualStudioCodeCredential-133"><a href="#VisualStudioCodeCredential-133"><span class="linenos">133</span></a><span class="sd">    This currently only works in Windows/WSL environments and requires the &#39;azure-identity-broker&#39;</span>
</span><span id="VisualStudioCodeCredential-134"><a href="#VisualStudioCodeCredential-134"><span class="linenos">134</span></a><span class="sd">    package to be installed.</span>
</span><span id="VisualStudioCodeCredential-135"><a href="#VisualStudioCodeCredential-135"><span class="linenos">135</span></a>
</span><span id="VisualStudioCodeCredential-136"><a href="#VisualStudioCodeCredential-136"><span class="linenos">136</span></a><span class="sd">    :keyword str tenant_id: A Microsoft Entra tenant ID. Defaults to the tenant specified in the authentication</span>
</span><span id="VisualStudioCodeCredential-137"><a href="#VisualStudioCodeCredential-137"><span class="linenos">137</span></a><span class="sd">        record file used by the Azure Resources extension.</span>
</span><span id="VisualStudioCodeCredential-138"><a href="#VisualStudioCodeCredential-138"><span class="linenos">138</span></a><span class="sd">    :keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified &quot;tenant_id&quot;</span>
</span><span id="VisualStudioCodeCredential-139"><a href="#VisualStudioCodeCredential-139"><span class="linenos">139</span></a><span class="sd">        for which the credential may acquire tokens. Add the wildcard value &quot;*&quot; to allow the credential to</span>
</span><span id="VisualStudioCodeCredential-140"><a href="#VisualStudioCodeCredential-140"><span class="linenos">140</span></a><span class="sd">        acquire tokens for any tenant the application can access.</span>
</span><span id="VisualStudioCodeCredential-141"><a href="#VisualStudioCodeCredential-141"><span class="linenos">141</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="VisualStudioCodeCredential-142"><a href="#VisualStudioCodeCredential-142"><span class="linenos">142</span></a>
</span><span id="VisualStudioCodeCredential-143"><a href="#VisualStudioCodeCredential-143"><span class="linenos">143</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-144"><a href="#VisualStudioCodeCredential-144"><span class="linenos">144</span></a>
</span><span id="VisualStudioCodeCredential-145"><a href="#VisualStudioCodeCredential-145"><span class="linenos">145</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="VisualStudioCodeCredential-146"><a href="#VisualStudioCodeCredential-146"><span class="linenos">146</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_unavailable_message</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="VisualStudioCodeCredential-147"><a href="#VisualStudioCodeCredential-147"><span class="linenos">147</span></a>            <span class="s2">&quot;VisualStudioCodeCredential requires the &#39;azure-identity-broker&#39; package to be installed. &quot;</span>
</span><span id="VisualStudioCodeCredential-148"><a href="#VisualStudioCodeCredential-148"><span class="linenos">148</span></a>            <span class="s2">&quot;You must also ensure you have the Azure Resources extension installed and have &quot;</span>
</span><span id="VisualStudioCodeCredential-149"><a href="#VisualStudioCodeCredential-149"><span class="linenos">149</span></a>            <span class="s2">&quot;signed in to Azure via Visual Studio Code.&quot;</span>
</span><span id="VisualStudioCodeCredential-150"><a href="#VisualStudioCodeCredential-150"><span class="linenos">150</span></a>        <span class="p">)</span>
</span><span id="VisualStudioCodeCredential-151"><a href="#VisualStudioCodeCredential-151"><span class="linenos">151</span></a>
</span><span id="VisualStudioCodeCredential-152"><a href="#VisualStudioCodeCredential-152"><span class="linenos">152</span></a>        <span class="n">broker_credential_class</span> <span class="o">=</span> <span class="n">get_broker_credential</span><span class="p">()</span>
</span><span id="VisualStudioCodeCredential-153"><a href="#VisualStudioCodeCredential-153"><span class="linenos">153</span></a>        <span class="k">if</span> <span class="n">broker_credential_class</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-154"><a href="#VisualStudioCodeCredential-154"><span class="linenos">154</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-155"><a href="#VisualStudioCodeCredential-155"><span class="linenos">155</span></a>                <span class="c1"># Load the authentication record from the VS Code extension</span>
</span><span id="VisualStudioCodeCredential-156"><a href="#VisualStudioCodeCredential-156"><span class="linenos">156</span></a>                <span class="n">authentication_record</span> <span class="o">=</span> <span class="n">load_vscode_auth_record</span><span class="p">()</span>
</span><span id="VisualStudioCodeCredential-157"><a href="#VisualStudioCodeCredential-157"><span class="linenos">157</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="n">authentication_record</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-158"><a href="#VisualStudioCodeCredential-158"><span class="linenos">158</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_unavailable_message</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="VisualStudioCodeCredential-159"><a href="#VisualStudioCodeCredential-159"><span class="linenos">159</span></a>                        <span class="s2">&quot;VisualStudioCodeCredential requires the user to be signed in to Azure via Visual Studio Code. &quot;</span>
</span><span id="VisualStudioCodeCredential-160"><a href="#VisualStudioCodeCredential-160"><span class="linenos">160</span></a>                        <span class="s2">&quot;Please ensure you have the Azure Resources extension installed and have signed in.&quot;</span>
</span><span id="VisualStudioCodeCredential-161"><a href="#VisualStudioCodeCredential-161"><span class="linenos">161</span></a>                    <span class="p">)</span>
</span><span id="VisualStudioCodeCredential-162"><a href="#VisualStudioCodeCredential-162"><span class="linenos">162</span></a>                    <span class="k">return</span>
</span><span id="VisualStudioCodeCredential-163"><a href="#VisualStudioCodeCredential-163"><span class="linenos">163</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span> <span class="o">=</span> <span class="n">broker_credential_class</span><span class="p">(</span>
</span><span id="VisualStudioCodeCredential-164"><a href="#VisualStudioCodeCredential-164"><span class="linenos">164</span></a>                    <span class="n">client_id</span><span class="o">=</span><span class="n">AZURE_VSCODE_CLIENT_ID</span><span class="p">,</span>
</span><span id="VisualStudioCodeCredential-165"><a href="#VisualStudioCodeCredential-165"><span class="linenos">165</span></a>                    <span class="n">authentication_record</span><span class="o">=</span><span class="n">authentication_record</span><span class="p">,</span>
</span><span id="VisualStudioCodeCredential-166"><a href="#VisualStudioCodeCredential-166"><span class="linenos">166</span></a>                    <span class="n">parent_window_handle</span><span class="o">=</span><span class="n">msal</span><span class="o">.</span><span class="n">PublicClientApplication</span><span class="o">.</span><span class="n">CONSOLE_WINDOW_HANDLE</span><span class="p">,</span>
</span><span id="VisualStudioCodeCredential-167"><a href="#VisualStudioCodeCredential-167"><span class="linenos">167</span></a>                    <span class="n">use_default_broker_account</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="VisualStudioCodeCredential-168"><a href="#VisualStudioCodeCredential-168"><span class="linenos">168</span></a>                    <span class="n">disable_interactive_fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="VisualStudioCodeCredential-169"><a href="#VisualStudioCodeCredential-169"><span class="linenos">169</span></a>                    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="VisualStudioCodeCredential-170"><a href="#VisualStudioCodeCredential-170"><span class="linenos">170</span></a>                <span class="p">)</span>
</span><span id="VisualStudioCodeCredential-171"><a href="#VisualStudioCodeCredential-171"><span class="linenos">171</span></a>            <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-172"><a href="#VisualStudioCodeCredential-172"><span class="linenos">172</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_unavailable_message</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="VisualStudioCodeCredential-173"><a href="#VisualStudioCodeCredential-173"><span class="linenos">173</span></a>                    <span class="s2">&quot;Failed to load authentication record from Visual Studio Code: &quot;</span>
</span><span id="VisualStudioCodeCredential-174"><a href="#VisualStudioCodeCredential-174"><span class="linenos">174</span></a>                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ex</span><span class="si">}</span><span class="s2">. Please ensure you have the Azure Resources extension installed and signed in.&quot;</span>
</span><span id="VisualStudioCodeCredential-175"><a href="#VisualStudioCodeCredential-175"><span class="linenos">175</span></a>                <span class="p">)</span>
</span><span id="VisualStudioCodeCredential-176"><a href="#VisualStudioCodeCredential-176"><span class="linenos">176</span></a>
</span><span id="VisualStudioCodeCredential-177"><a href="#VisualStudioCodeCredential-177"><span class="linenos">177</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;VisualStudioCodeCredential&quot;</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-178"><a href="#VisualStudioCodeCredential-178"><span class="linenos">178</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-179"><a href="#VisualStudioCodeCredential-179"><span class="linenos">179</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="o">.</span><span class="fm">__enter__</span><span class="p">()</span>
</span><span id="VisualStudioCodeCredential-180"><a href="#VisualStudioCodeCredential-180"><span class="linenos">180</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="VisualStudioCodeCredential-181"><a href="#VisualStudioCodeCredential-181"><span class="linenos">181</span></a>
</span><span id="VisualStudioCodeCredential-182"><a href="#VisualStudioCodeCredential-182"><span class="linenos">182</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-183"><a href="#VisualStudioCodeCredential-183"><span class="linenos">183</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-184"><a href="#VisualStudioCodeCredential-184"><span class="linenos">184</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
</span><span id="VisualStudioCodeCredential-185"><a href="#VisualStudioCodeCredential-185"><span class="linenos">185</span></a>
</span><span id="VisualStudioCodeCredential-186"><a href="#VisualStudioCodeCredential-186"><span class="linenos">186</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-187"><a href="#VisualStudioCodeCredential-187"><span class="linenos">187</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the credential&#39;s transport session.&quot;&quot;&quot;</span>
</span><span id="VisualStudioCodeCredential-188"><a href="#VisualStudioCodeCredential-188"><span class="linenos">188</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-189"><a href="#VisualStudioCodeCredential-189"><span class="linenos">189</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="VisualStudioCodeCredential-190"><a href="#VisualStudioCodeCredential-190"><span class="linenos">190</span></a>
</span><span id="VisualStudioCodeCredential-191"><a href="#VisualStudioCodeCredential-191"><span class="linenos">191</span></a>    <span class="nd">@log_get_token</span>
</span><span id="VisualStudioCodeCredential-192"><a href="#VisualStudioCodeCredential-192"><span class="linenos">192</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="VisualStudioCodeCredential-193"><a href="#VisualStudioCodeCredential-193"><span class="linenos">193</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="VisualStudioCodeCredential-194"><a href="#VisualStudioCodeCredential-194"><span class="linenos">194</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-195"><a href="#VisualStudioCodeCredential-195"><span class="linenos">195</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes` as the user currently signed in to Visual Studio Code.</span>
</span><span id="VisualStudioCodeCredential-196"><a href="#VisualStudioCodeCredential-196"><span class="linenos">196</span></a>
</span><span id="VisualStudioCodeCredential-197"><a href="#VisualStudioCodeCredential-197"><span class="linenos">197</span></a><span class="sd">        This method is called automatically by Azure SDK clients.</span>
</span><span id="VisualStudioCodeCredential-198"><a href="#VisualStudioCodeCredential-198"><span class="linenos">198</span></a>
</span><span id="VisualStudioCodeCredential-199"><a href="#VisualStudioCodeCredential-199"><span class="linenos">199</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="VisualStudioCodeCredential-200"><a href="#VisualStudioCodeCredential-200"><span class="linenos">200</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="VisualStudioCodeCredential-201"><a href="#VisualStudioCodeCredential-201"><span class="linenos">201</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="VisualStudioCodeCredential-202"><a href="#VisualStudioCodeCredential-202"><span class="linenos">202</span></a><span class="sd">        :keyword str claims: additional claims required in the token, such as those returned in a resource provider&#39;s</span>
</span><span id="VisualStudioCodeCredential-203"><a href="#VisualStudioCodeCredential-203"><span class="linenos">203</span></a><span class="sd">            claims challenge following an authorization failure.</span>
</span><span id="VisualStudioCodeCredential-204"><a href="#VisualStudioCodeCredential-204"><span class="linenos">204</span></a><span class="sd">        :keyword str tenant_id: optional tenant to include in the token request.</span>
</span><span id="VisualStudioCodeCredential-205"><a href="#VisualStudioCodeCredential-205"><span class="linenos">205</span></a>
</span><span id="VisualStudioCodeCredential-206"><a href="#VisualStudioCodeCredential-206"><span class="linenos">206</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="VisualStudioCodeCredential-207"><a href="#VisualStudioCodeCredential-207"><span class="linenos">207</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="VisualStudioCodeCredential-208"><a href="#VisualStudioCodeCredential-208"><span class="linenos">208</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the credential cannot retrieve user details from Visual</span>
</span><span id="VisualStudioCodeCredential-209"><a href="#VisualStudioCodeCredential-209"><span class="linenos">209</span></a><span class="sd">          Studio Code</span>
</span><span id="VisualStudioCodeCredential-210"><a href="#VisualStudioCodeCredential-210"><span class="linenos">210</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualStudioCodeCredential-211"><a href="#VisualStudioCodeCredential-211"><span class="linenos">211</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-212"><a href="#VisualStudioCodeCredential-212"><span class="linenos">212</span></a>            <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_unavailable_message</span><span class="p">)</span>
</span><span id="VisualStudioCodeCredential-213"><a href="#VisualStudioCodeCredential-213"><span class="linenos">213</span></a>        <span class="k">if</span> <span class="n">within_dac</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span><span id="VisualStudioCodeCredential-214"><a href="#VisualStudioCodeCredential-214"><span class="linenos">214</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-215"><a href="#VisualStudioCodeCredential-215"><span class="linenos">215</span></a>                <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="VisualStudioCodeCredential-216"><a href="#VisualStudioCodeCredential-216"><span class="linenos">216</span></a>                <span class="k">return</span> <span class="n">token</span>
</span><span id="VisualStudioCodeCredential-217"><a href="#VisualStudioCodeCredential-217"><span class="linenos">217</span></a>            <span class="k">except</span> <span class="n">ClientAuthenticationError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-218"><a href="#VisualStudioCodeCredential-218"><span class="linenos">218</span></a>                <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">ex</span><span class="o">.</span><span class="n">message</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">ex</span>
</span><span id="VisualStudioCodeCredential-219"><a href="#VisualStudioCodeCredential-219"><span class="linenos">219</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="VisualStudioCodeCredential-220"><a href="#VisualStudioCodeCredential-220"><span class="linenos">220</span></a>
</span><span id="VisualStudioCodeCredential-221"><a href="#VisualStudioCodeCredential-221"><span class="linenos">221</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-222"><a href="#VisualStudioCodeCredential-222"><span class="linenos">222</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes` as the user currently signed in to Visual Studio Code.</span>
</span><span id="VisualStudioCodeCredential-223"><a href="#VisualStudioCodeCredential-223"><span class="linenos">223</span></a>
</span><span id="VisualStudioCodeCredential-224"><a href="#VisualStudioCodeCredential-224"><span class="linenos">224</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="VisualStudioCodeCredential-225"><a href="#VisualStudioCodeCredential-225"><span class="linenos">225</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients.</span>
</span><span id="VisualStudioCodeCredential-226"><a href="#VisualStudioCodeCredential-226"><span class="linenos">226</span></a>
</span><span id="VisualStudioCodeCredential-227"><a href="#VisualStudioCodeCredential-227"><span class="linenos">227</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="VisualStudioCodeCredential-228"><a href="#VisualStudioCodeCredential-228"><span class="linenos">228</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="VisualStudioCodeCredential-229"><a href="#VisualStudioCodeCredential-229"><span class="linenos">229</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="VisualStudioCodeCredential-230"><a href="#VisualStudioCodeCredential-230"><span class="linenos">230</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="VisualStudioCodeCredential-231"><a href="#VisualStudioCodeCredential-231"><span class="linenos">231</span></a>
</span><span id="VisualStudioCodeCredential-232"><a href="#VisualStudioCodeCredential-232"><span class="linenos">232</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="VisualStudioCodeCredential-233"><a href="#VisualStudioCodeCredential-233"><span class="linenos">233</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="VisualStudioCodeCredential-234"><a href="#VisualStudioCodeCredential-234"><span class="linenos">234</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the credential cannot retrieve user details from Visual</span>
</span><span id="VisualStudioCodeCredential-235"><a href="#VisualStudioCodeCredential-235"><span class="linenos">235</span></a><span class="sd">          Studio Code.</span>
</span><span id="VisualStudioCodeCredential-236"><a href="#VisualStudioCodeCredential-236"><span class="linenos">236</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualStudioCodeCredential-237"><a href="#VisualStudioCodeCredential-237"><span class="linenos">237</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-238"><a href="#VisualStudioCodeCredential-238"><span class="linenos">238</span></a>            <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_unavailable_message</span><span class="p">)</span>
</span><span id="VisualStudioCodeCredential-239"><a href="#VisualStudioCodeCredential-239"><span class="linenos">239</span></a>        <span class="k">if</span> <span class="n">within_dac</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span><span id="VisualStudioCodeCredential-240"><a href="#VisualStudioCodeCredential-240"><span class="linenos">240</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-241"><a href="#VisualStudioCodeCredential-241"><span class="linenos">241</span></a>                <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span><span id="VisualStudioCodeCredential-242"><a href="#VisualStudioCodeCredential-242"><span class="linenos">242</span></a>                <span class="k">return</span> <span class="n">token</span>
</span><span id="VisualStudioCodeCredential-243"><a href="#VisualStudioCodeCredential-243"><span class="linenos">243</span></a>            <span class="k">except</span> <span class="n">ClientAuthenticationError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential-244"><a href="#VisualStudioCodeCredential-244"><span class="linenos">244</span></a>                <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">ex</span><span class="o">.</span><span class="n">message</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">ex</span>
</span><span id="VisualStudioCodeCredential-245"><a href="#VisualStudioCodeCredential-245"><span class="linenos">245</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Authenticates as the Azure user signed in to Visual Studio Code via the 'Azure Resources' extension.</p>

<p>This currently only works in Windows/WSL environments and requires the 'azure-identity-broker'
package to be installed.</p>

<p>:keyword str tenant_id: A Microsoft Entra tenant ID. Defaults to the tenant specified in the authentication
    record file used by the Azure Resources extension.
:keyword List[str] additionally_allowed_tenants: Specifies tenants in addition to the specified "tenant_id"
    for which the credential may acquire tokens. Add the wildcard value "*" to allow the credential to
    acquire tokens for any tenant the application can access.</p>
</div>


                            <div id="VisualStudioCodeCredential.__init__" class="classattr">
                                        <input id="VisualStudioCodeCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">VisualStudioCodeCredential</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="VisualStudioCodeCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualStudioCodeCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualStudioCodeCredential.__init__-143"><a href="#VisualStudioCodeCredential.__init__-143"><span class="linenos">143</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential.__init__-144"><a href="#VisualStudioCodeCredential.__init__-144"><span class="linenos">144</span></a>
</span><span id="VisualStudioCodeCredential.__init__-145"><a href="#VisualStudioCodeCredential.__init__-145"><span class="linenos">145</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="VisualStudioCodeCredential.__init__-146"><a href="#VisualStudioCodeCredential.__init__-146"><span class="linenos">146</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_unavailable_message</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="VisualStudioCodeCredential.__init__-147"><a href="#VisualStudioCodeCredential.__init__-147"><span class="linenos">147</span></a>            <span class="s2">&quot;VisualStudioCodeCredential requires the &#39;azure-identity-broker&#39; package to be installed. &quot;</span>
</span><span id="VisualStudioCodeCredential.__init__-148"><a href="#VisualStudioCodeCredential.__init__-148"><span class="linenos">148</span></a>            <span class="s2">&quot;You must also ensure you have the Azure Resources extension installed and have &quot;</span>
</span><span id="VisualStudioCodeCredential.__init__-149"><a href="#VisualStudioCodeCredential.__init__-149"><span class="linenos">149</span></a>            <span class="s2">&quot;signed in to Azure via Visual Studio Code.&quot;</span>
</span><span id="VisualStudioCodeCredential.__init__-150"><a href="#VisualStudioCodeCredential.__init__-150"><span class="linenos">150</span></a>        <span class="p">)</span>
</span><span id="VisualStudioCodeCredential.__init__-151"><a href="#VisualStudioCodeCredential.__init__-151"><span class="linenos">151</span></a>
</span><span id="VisualStudioCodeCredential.__init__-152"><a href="#VisualStudioCodeCredential.__init__-152"><span class="linenos">152</span></a>        <span class="n">broker_credential_class</span> <span class="o">=</span> <span class="n">get_broker_credential</span><span class="p">()</span>
</span><span id="VisualStudioCodeCredential.__init__-153"><a href="#VisualStudioCodeCredential.__init__-153"><span class="linenos">153</span></a>        <span class="k">if</span> <span class="n">broker_credential_class</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential.__init__-154"><a href="#VisualStudioCodeCredential.__init__-154"><span class="linenos">154</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential.__init__-155"><a href="#VisualStudioCodeCredential.__init__-155"><span class="linenos">155</span></a>                <span class="c1"># Load the authentication record from the VS Code extension</span>
</span><span id="VisualStudioCodeCredential.__init__-156"><a href="#VisualStudioCodeCredential.__init__-156"><span class="linenos">156</span></a>                <span class="n">authentication_record</span> <span class="o">=</span> <span class="n">load_vscode_auth_record</span><span class="p">()</span>
</span><span id="VisualStudioCodeCredential.__init__-157"><a href="#VisualStudioCodeCredential.__init__-157"><span class="linenos">157</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="n">authentication_record</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential.__init__-158"><a href="#VisualStudioCodeCredential.__init__-158"><span class="linenos">158</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_unavailable_message</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="VisualStudioCodeCredential.__init__-159"><a href="#VisualStudioCodeCredential.__init__-159"><span class="linenos">159</span></a>                        <span class="s2">&quot;VisualStudioCodeCredential requires the user to be signed in to Azure via Visual Studio Code. &quot;</span>
</span><span id="VisualStudioCodeCredential.__init__-160"><a href="#VisualStudioCodeCredential.__init__-160"><span class="linenos">160</span></a>                        <span class="s2">&quot;Please ensure you have the Azure Resources extension installed and have signed in.&quot;</span>
</span><span id="VisualStudioCodeCredential.__init__-161"><a href="#VisualStudioCodeCredential.__init__-161"><span class="linenos">161</span></a>                    <span class="p">)</span>
</span><span id="VisualStudioCodeCredential.__init__-162"><a href="#VisualStudioCodeCredential.__init__-162"><span class="linenos">162</span></a>                    <span class="k">return</span>
</span><span id="VisualStudioCodeCredential.__init__-163"><a href="#VisualStudioCodeCredential.__init__-163"><span class="linenos">163</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span> <span class="o">=</span> <span class="n">broker_credential_class</span><span class="p">(</span>
</span><span id="VisualStudioCodeCredential.__init__-164"><a href="#VisualStudioCodeCredential.__init__-164"><span class="linenos">164</span></a>                    <span class="n">client_id</span><span class="o">=</span><span class="n">AZURE_VSCODE_CLIENT_ID</span><span class="p">,</span>
</span><span id="VisualStudioCodeCredential.__init__-165"><a href="#VisualStudioCodeCredential.__init__-165"><span class="linenos">165</span></a>                    <span class="n">authentication_record</span><span class="o">=</span><span class="n">authentication_record</span><span class="p">,</span>
</span><span id="VisualStudioCodeCredential.__init__-166"><a href="#VisualStudioCodeCredential.__init__-166"><span class="linenos">166</span></a>                    <span class="n">parent_window_handle</span><span class="o">=</span><span class="n">msal</span><span class="o">.</span><span class="n">PublicClientApplication</span><span class="o">.</span><span class="n">CONSOLE_WINDOW_HANDLE</span><span class="p">,</span>
</span><span id="VisualStudioCodeCredential.__init__-167"><a href="#VisualStudioCodeCredential.__init__-167"><span class="linenos">167</span></a>                    <span class="n">use_default_broker_account</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="VisualStudioCodeCredential.__init__-168"><a href="#VisualStudioCodeCredential.__init__-168"><span class="linenos">168</span></a>                    <span class="n">disable_interactive_fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="VisualStudioCodeCredential.__init__-169"><a href="#VisualStudioCodeCredential.__init__-169"><span class="linenos">169</span></a>                    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="VisualStudioCodeCredential.__init__-170"><a href="#VisualStudioCodeCredential.__init__-170"><span class="linenos">170</span></a>                <span class="p">)</span>
</span><span id="VisualStudioCodeCredential.__init__-171"><a href="#VisualStudioCodeCredential.__init__-171"><span class="linenos">171</span></a>            <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential.__init__-172"><a href="#VisualStudioCodeCredential.__init__-172"><span class="linenos">172</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_unavailable_message</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="VisualStudioCodeCredential.__init__-173"><a href="#VisualStudioCodeCredential.__init__-173"><span class="linenos">173</span></a>                    <span class="s2">&quot;Failed to load authentication record from Visual Studio Code: &quot;</span>
</span><span id="VisualStudioCodeCredential.__init__-174"><a href="#VisualStudioCodeCredential.__init__-174"><span class="linenos">174</span></a>                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ex</span><span class="si">}</span><span class="s2">. Please ensure you have the Azure Resources extension installed and signed in.&quot;</span>
</span><span id="VisualStudioCodeCredential.__init__-175"><a href="#VisualStudioCodeCredential.__init__-175"><span class="linenos">175</span></a>                <span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="VisualStudioCodeCredential.close" class="classattr">
                                        <input id="VisualStudioCodeCredential.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="VisualStudioCodeCredential.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualStudioCodeCredential.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualStudioCodeCredential.close-186"><a href="#VisualStudioCodeCredential.close-186"><span class="linenos">186</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential.close-187"><a href="#VisualStudioCodeCredential.close-187"><span class="linenos">187</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the credential&#39;s transport session.&quot;&quot;&quot;</span>
</span><span id="VisualStudioCodeCredential.close-188"><a href="#VisualStudioCodeCredential.close-188"><span class="linenos">188</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential.close-189"><a href="#VisualStudioCodeCredential.close-189"><span class="linenos">189</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Close the credential's transport session.</p>
</div>


                            </div>
                            <div id="VisualStudioCodeCredential.get_token" class="classattr">
                                        <input id="VisualStudioCodeCredential.get_token-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-log_get_token">@log_get_token</div>

        <span class="def">def</span>
        <span class="name">get_token</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessToken</span>:</span></span>

                <label class="view-source-button" for="VisualStudioCodeCredential.get_token-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualStudioCodeCredential.get_token"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualStudioCodeCredential.get_token-191"><a href="#VisualStudioCodeCredential.get_token-191"><span class="linenos">191</span></a>    <span class="nd">@log_get_token</span>
</span><span id="VisualStudioCodeCredential.get_token-192"><a href="#VisualStudioCodeCredential.get_token-192"><span class="linenos">192</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token</span><span class="p">(</span>
</span><span id="VisualStudioCodeCredential.get_token-193"><a href="#VisualStudioCodeCredential.get_token-193"><span class="linenos">193</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">claims</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="VisualStudioCodeCredential.get_token-194"><a href="#VisualStudioCodeCredential.get_token-194"><span class="linenos">194</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessToken</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential.get_token-195"><a href="#VisualStudioCodeCredential.get_token-195"><span class="linenos">195</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes` as the user currently signed in to Visual Studio Code.</span>
</span><span id="VisualStudioCodeCredential.get_token-196"><a href="#VisualStudioCodeCredential.get_token-196"><span class="linenos">196</span></a>
</span><span id="VisualStudioCodeCredential.get_token-197"><a href="#VisualStudioCodeCredential.get_token-197"><span class="linenos">197</span></a><span class="sd">        This method is called automatically by Azure SDK clients.</span>
</span><span id="VisualStudioCodeCredential.get_token-198"><a href="#VisualStudioCodeCredential.get_token-198"><span class="linenos">198</span></a>
</span><span id="VisualStudioCodeCredential.get_token-199"><a href="#VisualStudioCodeCredential.get_token-199"><span class="linenos">199</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="VisualStudioCodeCredential.get_token-200"><a href="#VisualStudioCodeCredential.get_token-200"><span class="linenos">200</span></a><span class="sd">            For more information about scopes, see</span>
</span><span id="VisualStudioCodeCredential.get_token-201"><a href="#VisualStudioCodeCredential.get_token-201"><span class="linenos">201</span></a><span class="sd">            https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="VisualStudioCodeCredential.get_token-202"><a href="#VisualStudioCodeCredential.get_token-202"><span class="linenos">202</span></a><span class="sd">        :keyword str claims: additional claims required in the token, such as those returned in a resource provider&#39;s</span>
</span><span id="VisualStudioCodeCredential.get_token-203"><a href="#VisualStudioCodeCredential.get_token-203"><span class="linenos">203</span></a><span class="sd">            claims challenge following an authorization failure.</span>
</span><span id="VisualStudioCodeCredential.get_token-204"><a href="#VisualStudioCodeCredential.get_token-204"><span class="linenos">204</span></a><span class="sd">        :keyword str tenant_id: optional tenant to include in the token request.</span>
</span><span id="VisualStudioCodeCredential.get_token-205"><a href="#VisualStudioCodeCredential.get_token-205"><span class="linenos">205</span></a>
</span><span id="VisualStudioCodeCredential.get_token-206"><a href="#VisualStudioCodeCredential.get_token-206"><span class="linenos">206</span></a><span class="sd">        :return: An access token with the desired scopes.</span>
</span><span id="VisualStudioCodeCredential.get_token-207"><a href="#VisualStudioCodeCredential.get_token-207"><span class="linenos">207</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessToken</span>
</span><span id="VisualStudioCodeCredential.get_token-208"><a href="#VisualStudioCodeCredential.get_token-208"><span class="linenos">208</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the credential cannot retrieve user details from Visual</span>
</span><span id="VisualStudioCodeCredential.get_token-209"><a href="#VisualStudioCodeCredential.get_token-209"><span class="linenos">209</span></a><span class="sd">          Studio Code</span>
</span><span id="VisualStudioCodeCredential.get_token-210"><a href="#VisualStudioCodeCredential.get_token-210"><span class="linenos">210</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualStudioCodeCredential.get_token-211"><a href="#VisualStudioCodeCredential.get_token-211"><span class="linenos">211</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential.get_token-212"><a href="#VisualStudioCodeCredential.get_token-212"><span class="linenos">212</span></a>            <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_unavailable_message</span><span class="p">)</span>
</span><span id="VisualStudioCodeCredential.get_token-213"><a href="#VisualStudioCodeCredential.get_token-213"><span class="linenos">213</span></a>        <span class="k">if</span> <span class="n">within_dac</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span><span id="VisualStudioCodeCredential.get_token-214"><a href="#VisualStudioCodeCredential.get_token-214"><span class="linenos">214</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential.get_token-215"><a href="#VisualStudioCodeCredential.get_token-215"><span class="linenos">215</span></a>                <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="VisualStudioCodeCredential.get_token-216"><a href="#VisualStudioCodeCredential.get_token-216"><span class="linenos">216</span></a>                <span class="k">return</span> <span class="n">token</span>
</span><span id="VisualStudioCodeCredential.get_token-217"><a href="#VisualStudioCodeCredential.get_token-217"><span class="linenos">217</span></a>            <span class="k">except</span> <span class="n">ClientAuthenticationError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential.get_token-218"><a href="#VisualStudioCodeCredential.get_token-218"><span class="linenos">218</span></a>                <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">ex</span><span class="o">.</span><span class="n">message</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">ex</span>
</span><span id="VisualStudioCodeCredential.get_token-219"><a href="#VisualStudioCodeCredential.get_token-219"><span class="linenos">219</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span> <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code> as the user currently signed in to Visual Studio Code.</p>

<p>This method is called automatically by Azure SDK clients.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scopes for the access token. This method requires at least one scope.
For more information about scopes, see
<a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword str claims: additional claims required in the token, such as those returned in a resource provider's
claims challenge following an authorization failure.
:keyword str tenant_id: optional tenant to include in the token request.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An access token with the desired scopes.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~<a href="#CredentialUnavailableError">azure.identity.CredentialUnavailableError</a></strong>:  the credential cannot retrieve user details from Visual
Studio Code</li>
</ul>
</div>


                            </div>
                            <div id="VisualStudioCodeCredential.get_token_info" class="classattr">
                                        <input id="VisualStudioCodeCredential.get_token_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_token_info</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">AccessTokenInfo</span>:</span></span>

                <label class="view-source-button" for="VisualStudioCodeCredential.get_token_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualStudioCodeCredential.get_token_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualStudioCodeCredential.get_token_info-221"><a href="#VisualStudioCodeCredential.get_token_info-221"><span class="linenos">221</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_token_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TokenRequestOptions</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AccessTokenInfo</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential.get_token_info-222"><a href="#VisualStudioCodeCredential.get_token_info-222"><span class="linenos">222</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Request an access token for `scopes` as the user currently signed in to Visual Studio Code.</span>
</span><span id="VisualStudioCodeCredential.get_token_info-223"><a href="#VisualStudioCodeCredential.get_token_info-223"><span class="linenos">223</span></a>
</span><span id="VisualStudioCodeCredential.get_token_info-224"><a href="#VisualStudioCodeCredential.get_token_info-224"><span class="linenos">224</span></a><span class="sd">        This is an alternative to `get_token` to enable certain scenarios that require additional properties</span>
</span><span id="VisualStudioCodeCredential.get_token_info-225"><a href="#VisualStudioCodeCredential.get_token_info-225"><span class="linenos">225</span></a><span class="sd">        on the token. This method is called automatically by Azure SDK clients.</span>
</span><span id="VisualStudioCodeCredential.get_token_info-226"><a href="#VisualStudioCodeCredential.get_token_info-226"><span class="linenos">226</span></a>
</span><span id="VisualStudioCodeCredential.get_token_info-227"><a href="#VisualStudioCodeCredential.get_token_info-227"><span class="linenos">227</span></a><span class="sd">        :param str scopes: desired scopes for the access token. This method requires at least one scope.</span>
</span><span id="VisualStudioCodeCredential.get_token_info-228"><a href="#VisualStudioCodeCredential.get_token_info-228"><span class="linenos">228</span></a><span class="sd">            For more information about scopes, see https://learn.microsoft.com/entra/identity-platform/scopes-oidc.</span>
</span><span id="VisualStudioCodeCredential.get_token_info-229"><a href="#VisualStudioCodeCredential.get_token_info-229"><span class="linenos">229</span></a><span class="sd">        :keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.</span>
</span><span id="VisualStudioCodeCredential.get_token_info-230"><a href="#VisualStudioCodeCredential.get_token_info-230"><span class="linenos">230</span></a><span class="sd">        :paramtype options: ~azure.core.credentials.TokenRequestOptions</span>
</span><span id="VisualStudioCodeCredential.get_token_info-231"><a href="#VisualStudioCodeCredential.get_token_info-231"><span class="linenos">231</span></a>
</span><span id="VisualStudioCodeCredential.get_token_info-232"><a href="#VisualStudioCodeCredential.get_token_info-232"><span class="linenos">232</span></a><span class="sd">        :rtype: ~azure.core.credentials.AccessTokenInfo</span>
</span><span id="VisualStudioCodeCredential.get_token_info-233"><a href="#VisualStudioCodeCredential.get_token_info-233"><span class="linenos">233</span></a><span class="sd">        :return: An AccessTokenInfo instance containing information about the token.</span>
</span><span id="VisualStudioCodeCredential.get_token_info-234"><a href="#VisualStudioCodeCredential.get_token_info-234"><span class="linenos">234</span></a><span class="sd">        :raises ~azure.identity.CredentialUnavailableError: the credential cannot retrieve user details from Visual</span>
</span><span id="VisualStudioCodeCredential.get_token_info-235"><a href="#VisualStudioCodeCredential.get_token_info-235"><span class="linenos">235</span></a><span class="sd">          Studio Code.</span>
</span><span id="VisualStudioCodeCredential.get_token_info-236"><a href="#VisualStudioCodeCredential.get_token_info-236"><span class="linenos">236</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualStudioCodeCredential.get_token_info-237"><a href="#VisualStudioCodeCredential.get_token_info-237"><span class="linenos">237</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential.get_token_info-238"><a href="#VisualStudioCodeCredential.get_token_info-238"><span class="linenos">238</span></a>            <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_unavailable_message</span><span class="p">)</span>
</span><span id="VisualStudioCodeCredential.get_token_info-239"><a href="#VisualStudioCodeCredential.get_token_info-239"><span class="linenos">239</span></a>        <span class="k">if</span> <span class="n">within_dac</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span><span id="VisualStudioCodeCredential.get_token_info-240"><a href="#VisualStudioCodeCredential.get_token_info-240"><span class="linenos">240</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential.get_token_info-241"><a href="#VisualStudioCodeCredential.get_token_info-241"><span class="linenos">241</span></a>                <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span><span id="VisualStudioCodeCredential.get_token_info-242"><a href="#VisualStudioCodeCredential.get_token_info-242"><span class="linenos">242</span></a>                <span class="k">return</span> <span class="n">token</span>
</span><span id="VisualStudioCodeCredential.get_token_info-243"><a href="#VisualStudioCodeCredential.get_token_info-243"><span class="linenos">243</span></a>            <span class="k">except</span> <span class="n">ClientAuthenticationError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="VisualStudioCodeCredential.get_token_info-244"><a href="#VisualStudioCodeCredential.get_token_info-244"><span class="linenos">244</span></a>                <span class="k">raise</span> <span class="n">CredentialUnavailableError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">ex</span><span class="o">.</span><span class="n">message</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">ex</span>
</span><span id="VisualStudioCodeCredential.get_token_info-245"><a href="#VisualStudioCodeCredential.get_token_info-245"><span class="linenos">245</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_broker_credential</span><span class="o">.</span><span class="n">get_token_info</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Request an access token for <code>scopes</code> as the user currently signed in to Visual Studio Code.</p>

<p>This is an alternative to <code><a href="#VisualStudioCodeCredential.get_token">get_token</a></code> to enable certain scenarios that require additional properties
on the token. This method is called automatically by Azure SDK clients.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>str scopes</strong>:  desired scopes for the access token. This method requires at least one scope.
For more information about scopes, see <a href="https://learn.microsoft.com/entra/identity-platform/scopes-oidc">https://learn.microsoft.com/entra/identity-platform/scopes-oidc</a>.
:keyword options: A dictionary of options for the token request. Unknown options will be ignored. Optional.
:paramtype options: ~azure.core.credentials.TokenRequestOptions</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An AccessTokenInfo instance containing information about the token.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>~<a href="#CredentialUnavailableError">azure.identity.CredentialUnavailableError</a></strong>:  the credential cannot retrieve user details from Visual
Studio Code.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="WorkloadIdentityCredential">
                            <input id="WorkloadIdentityCredential-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">WorkloadIdentityCredential</span><wbr>(<span class="base"><a href="#ClientAssertionCredential">azure.identity.ClientAssertionCredential</a></span>, <span class="base">azure.identity._credentials.workload_identity.TokenFileMixin</span>):

                <label class="view-source-button" for="WorkloadIdentityCredential-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#WorkloadIdentityCredential"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="WorkloadIdentityCredential-40"><a href="#WorkloadIdentityCredential-40"><span class="linenos"> 40</span></a><span class="k">class</span><span class="w"> </span><span class="nc">WorkloadIdentityCredential</span><span class="p">(</span><span class="n">ClientAssertionCredential</span><span class="p">,</span> <span class="n">TokenFileMixin</span><span class="p">):</span>
</span><span id="WorkloadIdentityCredential-41"><a href="#WorkloadIdentityCredential-41"><span class="linenos"> 41</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticates using Microsoft Entra Workload ID.</span>
</span><span id="WorkloadIdentityCredential-42"><a href="#WorkloadIdentityCredential-42"><span class="linenos"> 42</span></a>
</span><span id="WorkloadIdentityCredential-43"><a href="#WorkloadIdentityCredential-43"><span class="linenos"> 43</span></a><span class="sd">    Workload identity authentication is a feature in Azure that allows applications running on virtual machines (VMs)</span>
</span><span id="WorkloadIdentityCredential-44"><a href="#WorkloadIdentityCredential-44"><span class="linenos"> 44</span></a><span class="sd">    to access other Azure resources without the need for a service principal or managed identity. With workload</span>
</span><span id="WorkloadIdentityCredential-45"><a href="#WorkloadIdentityCredential-45"><span class="linenos"> 45</span></a><span class="sd">    identity authentication, applications authenticate themselves using their own identity, rather than using a shared</span>
</span><span id="WorkloadIdentityCredential-46"><a href="#WorkloadIdentityCredential-46"><span class="linenos"> 46</span></a><span class="sd">    service principal or managed identity. Under the hood, workload identity authentication uses the concept of Service</span>
</span><span id="WorkloadIdentityCredential-47"><a href="#WorkloadIdentityCredential-47"><span class="linenos"> 47</span></a><span class="sd">    Account Credentials (SACs), which are automatically created by Azure and stored securely in the VM. By using</span>
</span><span id="WorkloadIdentityCredential-48"><a href="#WorkloadIdentityCredential-48"><span class="linenos"> 48</span></a><span class="sd">    workload identity authentication, you can avoid the need to manage and rotate service principals or managed</span>
</span><span id="WorkloadIdentityCredential-49"><a href="#WorkloadIdentityCredential-49"><span class="linenos"> 49</span></a><span class="sd">    identities for each application on each VM. Additionally, because SACs are created automatically and managed by</span>
</span><span id="WorkloadIdentityCredential-50"><a href="#WorkloadIdentityCredential-50"><span class="linenos"> 50</span></a><span class="sd">    Azure, you don&#39;t need to worry about storing and securing sensitive credentials themselves.</span>
</span><span id="WorkloadIdentityCredential-51"><a href="#WorkloadIdentityCredential-51"><span class="linenos"> 51</span></a>
</span><span id="WorkloadIdentityCredential-52"><a href="#WorkloadIdentityCredential-52"><span class="linenos"> 52</span></a><span class="sd">    The WorkloadIdentityCredential supports Azure workload identity authentication on Azure Kubernetes and acquires</span>
</span><span id="WorkloadIdentityCredential-53"><a href="#WorkloadIdentityCredential-53"><span class="linenos"> 53</span></a><span class="sd">    a token using the service account credentials available in the Azure Kubernetes environment. Refer</span>
</span><span id="WorkloadIdentityCredential-54"><a href="#WorkloadIdentityCredential-54"><span class="linenos"> 54</span></a><span class="sd">    to `this workload identity overview &lt;https://learn.microsoft.com/azure/aks/workload-identity-overview&gt;`__</span>
</span><span id="WorkloadIdentityCredential-55"><a href="#WorkloadIdentityCredential-55"><span class="linenos"> 55</span></a><span class="sd">    for more information.</span>
</span><span id="WorkloadIdentityCredential-56"><a href="#WorkloadIdentityCredential-56"><span class="linenos"> 56</span></a>
</span><span id="WorkloadIdentityCredential-57"><a href="#WorkloadIdentityCredential-57"><span class="linenos"> 57</span></a><span class="sd">    :keyword str tenant_id: ID of the application&#39;s Microsoft Entra tenant. Also called its &quot;directory&quot; ID.</span>
</span><span id="WorkloadIdentityCredential-58"><a href="#WorkloadIdentityCredential-58"><span class="linenos"> 58</span></a><span class="sd">    :keyword str client_id: The client ID of a Microsoft Entra app registration.</span>
</span><span id="WorkloadIdentityCredential-59"><a href="#WorkloadIdentityCredential-59"><span class="linenos"> 59</span></a><span class="sd">    :keyword str token_file_path: The path to a file containing a Kubernetes service account token that authenticates</span>
</span><span id="WorkloadIdentityCredential-60"><a href="#WorkloadIdentityCredential-60"><span class="linenos"> 60</span></a><span class="sd">        the identity.</span>
</span><span id="WorkloadIdentityCredential-61"><a href="#WorkloadIdentityCredential-61"><span class="linenos"> 61</span></a>
</span><span id="WorkloadIdentityCredential-62"><a href="#WorkloadIdentityCredential-62"><span class="linenos"> 62</span></a><span class="sd">    .. admonition:: Example:</span>
</span><span id="WorkloadIdentityCredential-63"><a href="#WorkloadIdentityCredential-63"><span class="linenos"> 63</span></a>
</span><span id="WorkloadIdentityCredential-64"><a href="#WorkloadIdentityCredential-64"><span class="linenos"> 64</span></a><span class="sd">        .. literalinclude:: ../samples/credential_creation_code_snippets.py</span>
</span><span id="WorkloadIdentityCredential-65"><a href="#WorkloadIdentityCredential-65"><span class="linenos"> 65</span></a><span class="sd">            :start-after: [START workload_identity_credential]</span>
</span><span id="WorkloadIdentityCredential-66"><a href="#WorkloadIdentityCredential-66"><span class="linenos"> 66</span></a><span class="sd">            :end-before: [END workload_identity_credential]</span>
</span><span id="WorkloadIdentityCredential-67"><a href="#WorkloadIdentityCredential-67"><span class="linenos"> 67</span></a><span class="sd">            :language: python</span>
</span><span id="WorkloadIdentityCredential-68"><a href="#WorkloadIdentityCredential-68"><span class="linenos"> 68</span></a><span class="sd">            :dedent: 4</span>
</span><span id="WorkloadIdentityCredential-69"><a href="#WorkloadIdentityCredential-69"><span class="linenos"> 69</span></a><span class="sd">            :caption: Create a WorkloadIdentityCredential.</span>
</span><span id="WorkloadIdentityCredential-70"><a href="#WorkloadIdentityCredential-70"><span class="linenos"> 70</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="WorkloadIdentityCredential-71"><a href="#WorkloadIdentityCredential-71"><span class="linenos"> 71</span></a>
</span><span id="WorkloadIdentityCredential-72"><a href="#WorkloadIdentityCredential-72"><span class="linenos"> 72</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="WorkloadIdentityCredential-73"><a href="#WorkloadIdentityCredential-73"><span class="linenos"> 73</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential-74"><a href="#WorkloadIdentityCredential-74"><span class="linenos"> 74</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential-75"><a href="#WorkloadIdentityCredential-75"><span class="linenos"> 75</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential-76"><a href="#WorkloadIdentityCredential-76"><span class="linenos"> 76</span></a>        <span class="n">client_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential-77"><a href="#WorkloadIdentityCredential-77"><span class="linenos"> 77</span></a>        <span class="n">token_file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential-78"><a href="#WorkloadIdentityCredential-78"><span class="linenos"> 78</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential-79"><a href="#WorkloadIdentityCredential-79"><span class="linenos"> 79</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="WorkloadIdentityCredential-80"><a href="#WorkloadIdentityCredential-80"><span class="linenos"> 80</span></a>        <span class="n">tenant_id</span> <span class="o">=</span> <span class="n">tenant_id</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_TENANT_ID</span><span class="p">)</span>
</span><span id="WorkloadIdentityCredential-81"><a href="#WorkloadIdentityCredential-81"><span class="linenos"> 81</span></a>        <span class="n">client_id</span> <span class="o">=</span> <span class="n">client_id</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_ID</span><span class="p">)</span>
</span><span id="WorkloadIdentityCredential-82"><a href="#WorkloadIdentityCredential-82"><span class="linenos"> 82</span></a>        <span class="n">token_file_path</span> <span class="o">=</span> <span class="n">token_file_path</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_FEDERATED_TOKEN_FILE</span><span class="p">)</span>
</span><span id="WorkloadIdentityCredential-83"><a href="#WorkloadIdentityCredential-83"><span class="linenos"> 83</span></a>
</span><span id="WorkloadIdentityCredential-84"><a href="#WorkloadIdentityCredential-84"><span class="linenos"> 84</span></a>        <span class="n">missing_args</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="WorkloadIdentityCredential-85"><a href="#WorkloadIdentityCredential-85"><span class="linenos"> 85</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="WorkloadIdentityCredential-86"><a href="#WorkloadIdentityCredential-86"><span class="linenos"> 86</span></a>            <span class="n">missing_args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&#39;tenant_id&#39;&quot;</span><span class="p">)</span>
</span><span id="WorkloadIdentityCredential-87"><a href="#WorkloadIdentityCredential-87"><span class="linenos"> 87</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">client_id</span><span class="p">:</span>
</span><span id="WorkloadIdentityCredential-88"><a href="#WorkloadIdentityCredential-88"><span class="linenos"> 88</span></a>            <span class="n">missing_args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&#39;client_id&#39;&quot;</span><span class="p">)</span>
</span><span id="WorkloadIdentityCredential-89"><a href="#WorkloadIdentityCredential-89"><span class="linenos"> 89</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">token_file_path</span><span class="p">:</span>
</span><span id="WorkloadIdentityCredential-90"><a href="#WorkloadIdentityCredential-90"><span class="linenos"> 90</span></a>            <span class="n">missing_args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&#39;token_file_path&#39;&quot;</span><span class="p">)</span>
</span><span id="WorkloadIdentityCredential-91"><a href="#WorkloadIdentityCredential-91"><span class="linenos"> 91</span></a>
</span><span id="WorkloadIdentityCredential-92"><a href="#WorkloadIdentityCredential-92"><span class="linenos"> 92</span></a>        <span class="k">if</span> <span class="n">missing_args</span><span class="p">:</span>
</span><span id="WorkloadIdentityCredential-93"><a href="#WorkloadIdentityCredential-93"><span class="linenos"> 93</span></a>            <span class="n">missing_args_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">missing_args</span><span class="p">)</span>
</span><span id="WorkloadIdentityCredential-94"><a href="#WorkloadIdentityCredential-94"><span class="linenos"> 94</span></a>            <span class="n">error_message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">WORKLOAD_CONFIG_ERROR</span><span class="si">}</span><span class="s2">. Missing required arguments: </span><span class="si">{</span><span class="n">missing_args_str</span><span class="si">}</span><span class="s2">.&quot;</span>
</span><span id="WorkloadIdentityCredential-95"><a href="#WorkloadIdentityCredential-95"><span class="linenos"> 95</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
</span><span id="WorkloadIdentityCredential-96"><a href="#WorkloadIdentityCredential-96"><span class="linenos"> 96</span></a>
</span><span id="WorkloadIdentityCredential-97"><a href="#WorkloadIdentityCredential-97"><span class="linenos"> 97</span></a>        <span class="c1"># Type assertions since we&#39;ve validated these are not None</span>
</span><span id="WorkloadIdentityCredential-98"><a href="#WorkloadIdentityCredential-98"><span class="linenos"> 98</span></a>        <span class="k">assert</span> <span class="n">tenant_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="WorkloadIdentityCredential-99"><a href="#WorkloadIdentityCredential-99"><span class="linenos"> 99</span></a>        <span class="k">assert</span> <span class="n">client_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="WorkloadIdentityCredential-100"><a href="#WorkloadIdentityCredential-100"><span class="linenos">100</span></a>        <span class="k">assert</span> <span class="n">token_file_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="WorkloadIdentityCredential-101"><a href="#WorkloadIdentityCredential-101"><span class="linenos">101</span></a>
</span><span id="WorkloadIdentityCredential-102"><a href="#WorkloadIdentityCredential-102"><span class="linenos">102</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_token_file_path</span> <span class="o">=</span> <span class="n">token_file_path</span>
</span><span id="WorkloadIdentityCredential-103"><a href="#WorkloadIdentityCredential-103"><span class="linenos">103</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">WorkloadIdentityCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="WorkloadIdentityCredential-104"><a href="#WorkloadIdentityCredential-104"><span class="linenos">104</span></a>            <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential-105"><a href="#WorkloadIdentityCredential-105"><span class="linenos">105</span></a>            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential-106"><a href="#WorkloadIdentityCredential-106"><span class="linenos">106</span></a>            <span class="n">func</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_service_account_token</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential-107"><a href="#WorkloadIdentityCredential-107"><span class="linenos">107</span></a>            <span class="n">token_file_path</span><span class="o">=</span><span class="n">token_file_path</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential-108"><a href="#WorkloadIdentityCredential-108"><span class="linenos">108</span></a>            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential-109"><a href="#WorkloadIdentityCredential-109"><span class="linenos">109</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Authenticates using Microsoft Entra Workload ID.</p>

<p>Workload identity authentication is a feature in Azure that allows applications running on virtual machines (VMs)
to access other Azure resources without the need for a service principal or managed identity. With workload
identity authentication, applications authenticate themselves using their own identity, rather than using a shared
service principal or managed identity. Under the hood, workload identity authentication uses the concept of Service
Account Credentials (SACs), which are automatically created by Azure and stored securely in the VM. By using
workload identity authentication, you can avoid the need to manage and rotate service principals or managed
identities for each application on each VM. Additionally, because SACs are created automatically and managed by
Azure, you don't need to worry about storing and securing sensitive credentials themselves.</p>

<p>The WorkloadIdentityCredential supports Azure workload identity authentication on Azure Kubernetes and acquires
a token using the service account credentials available in the Azure Kubernetes environment. Refer
to <a href="https://learn.microsoft.com/azure/aks/workload-identity-overview">this workload identity overview </a>_
for more information.</p>

<p>:keyword str tenant_id: ID of the application's Microsoft Entra tenant. Also called its "directory" ID.
:keyword str client_id: The client ID of a Microsoft Entra app registration.
:keyword str token_file_path: The path to a file containing a Kubernetes service account token that authenticates
    the identity.</p>

<p>.. admonition:: Example:</p>

<pre><code>.. literalinclude:: ../samples/credential_creation_code_snippets.py
    :start-after: [START workload_identity_credential]
    :end-before: [END workload_identity_credential]
    :language: python
    :dedent: 4
    :caption: Create a WorkloadIdentityCredential.
</code></pre>
</div>


                            <div id="WorkloadIdentityCredential.__init__" class="classattr">
                                        <input id="WorkloadIdentityCredential.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">WorkloadIdentityCredential</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">client_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">token_file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="WorkloadIdentityCredential.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#WorkloadIdentityCredential.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="WorkloadIdentityCredential.__init__-72"><a href="#WorkloadIdentityCredential.__init__-72"><span class="linenos"> 72</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="WorkloadIdentityCredential.__init__-73"><a href="#WorkloadIdentityCredential.__init__-73"><span class="linenos"> 73</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential.__init__-74"><a href="#WorkloadIdentityCredential.__init__-74"><span class="linenos"> 74</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential.__init__-75"><a href="#WorkloadIdentityCredential.__init__-75"><span class="linenos"> 75</span></a>        <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential.__init__-76"><a href="#WorkloadIdentityCredential.__init__-76"><span class="linenos"> 76</span></a>        <span class="n">client_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential.__init__-77"><a href="#WorkloadIdentityCredential.__init__-77"><span class="linenos"> 77</span></a>        <span class="n">token_file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential.__init__-78"><a href="#WorkloadIdentityCredential.__init__-78"><span class="linenos"> 78</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential.__init__-79"><a href="#WorkloadIdentityCredential.__init__-79"><span class="linenos"> 79</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="WorkloadIdentityCredential.__init__-80"><a href="#WorkloadIdentityCredential.__init__-80"><span class="linenos"> 80</span></a>        <span class="n">tenant_id</span> <span class="o">=</span> <span class="n">tenant_id</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_TENANT_ID</span><span class="p">)</span>
</span><span id="WorkloadIdentityCredential.__init__-81"><a href="#WorkloadIdentityCredential.__init__-81"><span class="linenos"> 81</span></a>        <span class="n">client_id</span> <span class="o">=</span> <span class="n">client_id</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_CLIENT_ID</span><span class="p">)</span>
</span><span id="WorkloadIdentityCredential.__init__-82"><a href="#WorkloadIdentityCredential.__init__-82"><span class="linenos"> 82</span></a>        <span class="n">token_file_path</span> <span class="o">=</span> <span class="n">token_file_path</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EnvironmentVariables</span><span class="o">.</span><span class="n">AZURE_FEDERATED_TOKEN_FILE</span><span class="p">)</span>
</span><span id="WorkloadIdentityCredential.__init__-83"><a href="#WorkloadIdentityCredential.__init__-83"><span class="linenos"> 83</span></a>
</span><span id="WorkloadIdentityCredential.__init__-84"><a href="#WorkloadIdentityCredential.__init__-84"><span class="linenos"> 84</span></a>        <span class="n">missing_args</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="WorkloadIdentityCredential.__init__-85"><a href="#WorkloadIdentityCredential.__init__-85"><span class="linenos"> 85</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">tenant_id</span><span class="p">:</span>
</span><span id="WorkloadIdentityCredential.__init__-86"><a href="#WorkloadIdentityCredential.__init__-86"><span class="linenos"> 86</span></a>            <span class="n">missing_args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&#39;tenant_id&#39;&quot;</span><span class="p">)</span>
</span><span id="WorkloadIdentityCredential.__init__-87"><a href="#WorkloadIdentityCredential.__init__-87"><span class="linenos"> 87</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">client_id</span><span class="p">:</span>
</span><span id="WorkloadIdentityCredential.__init__-88"><a href="#WorkloadIdentityCredential.__init__-88"><span class="linenos"> 88</span></a>            <span class="n">missing_args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&#39;client_id&#39;&quot;</span><span class="p">)</span>
</span><span id="WorkloadIdentityCredential.__init__-89"><a href="#WorkloadIdentityCredential.__init__-89"><span class="linenos"> 89</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">token_file_path</span><span class="p">:</span>
</span><span id="WorkloadIdentityCredential.__init__-90"><a href="#WorkloadIdentityCredential.__init__-90"><span class="linenos"> 90</span></a>            <span class="n">missing_args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&#39;token_file_path&#39;&quot;</span><span class="p">)</span>
</span><span id="WorkloadIdentityCredential.__init__-91"><a href="#WorkloadIdentityCredential.__init__-91"><span class="linenos"> 91</span></a>
</span><span id="WorkloadIdentityCredential.__init__-92"><a href="#WorkloadIdentityCredential.__init__-92"><span class="linenos"> 92</span></a>        <span class="k">if</span> <span class="n">missing_args</span><span class="p">:</span>
</span><span id="WorkloadIdentityCredential.__init__-93"><a href="#WorkloadIdentityCredential.__init__-93"><span class="linenos"> 93</span></a>            <span class="n">missing_args_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">missing_args</span><span class="p">)</span>
</span><span id="WorkloadIdentityCredential.__init__-94"><a href="#WorkloadIdentityCredential.__init__-94"><span class="linenos"> 94</span></a>            <span class="n">error_message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">WORKLOAD_CONFIG_ERROR</span><span class="si">}</span><span class="s2">. Missing required arguments: </span><span class="si">{</span><span class="n">missing_args_str</span><span class="si">}</span><span class="s2">.&quot;</span>
</span><span id="WorkloadIdentityCredential.__init__-95"><a href="#WorkloadIdentityCredential.__init__-95"><span class="linenos"> 95</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
</span><span id="WorkloadIdentityCredential.__init__-96"><a href="#WorkloadIdentityCredential.__init__-96"><span class="linenos"> 96</span></a>
</span><span id="WorkloadIdentityCredential.__init__-97"><a href="#WorkloadIdentityCredential.__init__-97"><span class="linenos"> 97</span></a>        <span class="c1"># Type assertions since we&#39;ve validated these are not None</span>
</span><span id="WorkloadIdentityCredential.__init__-98"><a href="#WorkloadIdentityCredential.__init__-98"><span class="linenos"> 98</span></a>        <span class="k">assert</span> <span class="n">tenant_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="WorkloadIdentityCredential.__init__-99"><a href="#WorkloadIdentityCredential.__init__-99"><span class="linenos"> 99</span></a>        <span class="k">assert</span> <span class="n">client_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="WorkloadIdentityCredential.__init__-100"><a href="#WorkloadIdentityCredential.__init__-100"><span class="linenos">100</span></a>        <span class="k">assert</span> <span class="n">token_file_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="WorkloadIdentityCredential.__init__-101"><a href="#WorkloadIdentityCredential.__init__-101"><span class="linenos">101</span></a>
</span><span id="WorkloadIdentityCredential.__init__-102"><a href="#WorkloadIdentityCredential.__init__-102"><span class="linenos">102</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_token_file_path</span> <span class="o">=</span> <span class="n">token_file_path</span>
</span><span id="WorkloadIdentityCredential.__init__-103"><a href="#WorkloadIdentityCredential.__init__-103"><span class="linenos">103</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">WorkloadIdentityCredential</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="WorkloadIdentityCredential.__init__-104"><a href="#WorkloadIdentityCredential.__init__-104"><span class="linenos">104</span></a>            <span class="n">tenant_id</span><span class="o">=</span><span class="n">tenant_id</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential.__init__-105"><a href="#WorkloadIdentityCredential.__init__-105"><span class="linenos">105</span></a>            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential.__init__-106"><a href="#WorkloadIdentityCredential.__init__-106"><span class="linenos">106</span></a>            <span class="n">func</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_service_account_token</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential.__init__-107"><a href="#WorkloadIdentityCredential.__init__-107"><span class="linenos">107</span></a>            <span class="n">token_file_path</span><span class="o">=</span><span class="n">token_file_path</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential.__init__-108"><a href="#WorkloadIdentityCredential.__init__-108"><span class="linenos">108</span></a>            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="WorkloadIdentityCredential.__init__-109"><a href="#WorkloadIdentityCredential.__init__-109"><span class="linenos">109</span></a>        <span class="p">)</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="get_bearer_token_provider">
                            <input id="get_bearer_token_provider-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_bearer_token_provider</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">credential</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">TokenCredential</span><span class="p">,</span> <span class="n">azure</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">SupportsTokenInfo</span><span class="p">]</span>,</span><span class="param">	<span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">Callable</span><span class="p">[[],</span> <span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="get_bearer_token_provider-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_bearer_token_provider"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_bearer_token_provider-18"><a href="#get_bearer_token_provider-18"><span class="linenos">18</span></a><span class="k">def</span><span class="w"> </span><span class="nf">get_bearer_token_provider</span><span class="p">(</span><span class="n">credential</span><span class="p">:</span> <span class="n">TokenProvider</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[],</span> <span class="nb">str</span><span class="p">]:</span>
</span><span id="get_bearer_token_provider-19"><a href="#get_bearer_token_provider-19"><span class="linenos">19</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a callable that provides a bearer token.</span>
</span><span id="get_bearer_token_provider-20"><a href="#get_bearer_token_provider-20"><span class="linenos">20</span></a>
</span><span id="get_bearer_token_provider-21"><a href="#get_bearer_token_provider-21"><span class="linenos">21</span></a><span class="sd">    It can be used for instance to write code like:</span>
</span><span id="get_bearer_token_provider-22"><a href="#get_bearer_token_provider-22"><span class="linenos">22</span></a>
</span><span id="get_bearer_token_provider-23"><a href="#get_bearer_token_provider-23"><span class="linenos">23</span></a><span class="sd">    .. code-block:: python</span>
</span><span id="get_bearer_token_provider-24"><a href="#get_bearer_token_provider-24"><span class="linenos">24</span></a>
</span><span id="get_bearer_token_provider-25"><a href="#get_bearer_token_provider-25"><span class="linenos">25</span></a><span class="sd">        from azure.identity import DefaultAzureCredential, get_bearer_token_provider</span>
</span><span id="get_bearer_token_provider-26"><a href="#get_bearer_token_provider-26"><span class="linenos">26</span></a>
</span><span id="get_bearer_token_provider-27"><a href="#get_bearer_token_provider-27"><span class="linenos">27</span></a><span class="sd">        credential = DefaultAzureCredential()</span>
</span><span id="get_bearer_token_provider-28"><a href="#get_bearer_token_provider-28"><span class="linenos">28</span></a><span class="sd">        bearer_token_provider = get_bearer_token_provider(credential, &quot;https://cognitiveservices.azure.com/.default&quot;)</span>
</span><span id="get_bearer_token_provider-29"><a href="#get_bearer_token_provider-29"><span class="linenos">29</span></a>
</span><span id="get_bearer_token_provider-30"><a href="#get_bearer_token_provider-30"><span class="linenos">30</span></a><span class="sd">        # Usage</span>
</span><span id="get_bearer_token_provider-31"><a href="#get_bearer_token_provider-31"><span class="linenos">31</span></a><span class="sd">        request.headers[&quot;Authorization&quot;] = &quot;Bearer &quot; + bearer_token_provider()</span>
</span><span id="get_bearer_token_provider-32"><a href="#get_bearer_token_provider-32"><span class="linenos">32</span></a>
</span><span id="get_bearer_token_provider-33"><a href="#get_bearer_token_provider-33"><span class="linenos">33</span></a><span class="sd">    :param credential: The credential used to authenticate the request.</span>
</span><span id="get_bearer_token_provider-34"><a href="#get_bearer_token_provider-34"><span class="linenos">34</span></a><span class="sd">    :type credential: ~azure.core.credentials.TokenCredential</span>
</span><span id="get_bearer_token_provider-35"><a href="#get_bearer_token_provider-35"><span class="linenos">35</span></a><span class="sd">    :param str scopes: The scopes required for the bearer token.</span>
</span><span id="get_bearer_token_provider-36"><a href="#get_bearer_token_provider-36"><span class="linenos">36</span></a><span class="sd">    :rtype: callable</span>
</span><span id="get_bearer_token_provider-37"><a href="#get_bearer_token_provider-37"><span class="linenos">37</span></a><span class="sd">    :return: A callable that returns a bearer token.</span>
</span><span id="get_bearer_token_provider-38"><a href="#get_bearer_token_provider-38"><span class="linenos">38</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="get_bearer_token_provider-39"><a href="#get_bearer_token_provider-39"><span class="linenos">39</span></a>
</span><span id="get_bearer_token_provider-40"><a href="#get_bearer_token_provider-40"><span class="linenos">40</span></a>    <span class="n">policy</span> <span class="o">=</span> <span class="n">BearerTokenCredentialPolicy</span><span class="p">(</span><span class="n">credential</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">)</span>
</span><span id="get_bearer_token_provider-41"><a href="#get_bearer_token_provider-41"><span class="linenos">41</span></a>
</span><span id="get_bearer_token_provider-42"><a href="#get_bearer_token_provider-42"><span class="linenos">42</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="get_bearer_token_provider-43"><a href="#get_bearer_token_provider-43"><span class="linenos">43</span></a>        <span class="n">request</span> <span class="o">=</span> <span class="n">_make_request</span><span class="p">()</span>
</span><span id="get_bearer_token_provider-44"><a href="#get_bearer_token_provider-44"><span class="linenos">44</span></a>        <span class="n">policy</span><span class="o">.</span><span class="n">on_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</span><span id="get_bearer_token_provider-45"><a href="#get_bearer_token_provider-45"><span class="linenos">45</span></a>        <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="n">http_request</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s2">&quot;Authorization&quot;</span><span class="p">][</span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;Bearer &quot;</span><span class="p">)</span> <span class="p">:]</span>
</span><span id="get_bearer_token_provider-46"><a href="#get_bearer_token_provider-46"><span class="linenos">46</span></a>
</span><span id="get_bearer_token_provider-47"><a href="#get_bearer_token_provider-47"><span class="linenos">47</span></a>    <span class="k">return</span> <span class="n">wrapper</span>
</span></pre></div>


            <div class="docstring"><p>Returns a callable that provides a bearer token.</p>

<p>It can be used for instance to write code like:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn"><a href="">azure.identity</a></span><span class="w"> </span><span class="kn">import</span> <span class="n">DefaultAzureCredential</span><span class="p">,</span> <span class="n">get_bearer_token_provider</span>

<span class="n">credential</span> <span class="o">=</span> <span class="n">DefaultAzureCredential</span><span class="p">()</span>
<span class="n">bearer_token_provider</span> <span class="o">=</span> <span class="n">get_bearer_token_provider</span><span class="p">(</span><span class="n">credential</span><span class="p">,</span> <span class="s2">&quot;https://cognitiveservices.azure.com/.default&quot;</span><span class="p">)</span>

<span class="c1"># Usage</span>
<span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s2">&quot;Authorization&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Bearer &quot;</span> <span class="o">+</span> <span class="n">bearer_token_provider</span><span class="p">()</span>
</code></pre>
</div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>credential</strong>:  The credential used to authenticate the request.</li>
<li><strong>str scopes</strong>:  The scopes required for the bearer token.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>A callable that returns a bearer token.</p>
</blockquote>
</div>


                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>